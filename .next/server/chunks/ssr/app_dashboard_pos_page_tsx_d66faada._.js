module.exports=[62395,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(60824);function e({show:a,itemName:d,basePrice:e,modifiers:f,onClose:g,onConfirm:h}){let[i,j]=(0,c.useState)({}),[k,l]=(0,c.useState)("");if(!a)return null;let m=()=>Object.values(i).flat();return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:g,children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl flex flex-col max-h-[80vh]",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold",children:d}),(0,b.jsx)("button",{onClick:g,className:"text-gray-400 hover:text-gray-600",children:"‚úï"})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-6 pr-2",children:[f.map((a,c)=>(0,b.jsxs)("div",{className:"border-b pb-4 last:border-0",children:[(0,b.jsxs)("h4",{className:"font-bold text-gray-700 mb-2 flex justify-between",children:[a.name,(0,b.jsx)("span",{className:"text-xs font-normal bg-gray-100 px-2 py-1 rounded text-gray-500",children:"one"===a.type?"Select 1":"Select Any"})]}),(0,b.jsx)("div",{className:"space-y-2",children:a.options?.map((c,d)=>{let e=(i[a.name]||[]).some(a=>a.name===c.name);return(0,b.jsxs)("label",{className:`flex items-center justify-between p-3 rounded-xl border cursor-pointer transition-all ${e?"border-orange-500 bg-orange-50":"border-gray-100 hover:bg-gray-50"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center ${e?"border-orange-500 bg-orange-500":"border-gray-300"}`,children:e&&(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-white"})}),(0,b.jsx)("span",{className:`${e?"font-bold text-gray-800":"text-gray-600"}`,children:c.name})]}),c.price>0&&(0,b.jsxs)("span",{className:"text-sm font-semibold text-gray-600",children:["+‚Çπ",c.price]}),(0,b.jsx)("input",{type:"checkbox",className:"hidden",checked:e,onChange:()=>{j(b=>{let d=b[a.name]||[];return"one"===a.type?{...b,[a.name]:[c]}:d.find(a=>a.name===c.name)?{...b,[a.name]:d.filter(a=>a.name!==c.name)}:{...b,[a.name]:[...d,c]}})}})]},d)})})]},c)),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-bold text-gray-700 mb-2",children:"Special Instructions"}),(0,b.jsx)("textarea",{value:k,onChange:a=>l(a.target.value),placeholder:"e.g., Less spicy, no onions...",className:"w-full border rounded-xl p-3 text-sm focus:border-orange-500 outline-none resize-none",rows:3})]})]}),(0,b.jsx)("div",{className:"mt-4 pt-4 border-t",children:(0,b.jsxs)("button",{onClick:()=>{h(m(),k),j({}),l("")},className:"w-full py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl font-bold flex justify-between px-6 shadow-lg shadow-orange-200",children:[(0,b.jsx)("span",{children:"Add Item"}),(0,b.jsxs)("span",{children:["‚Çπ",e+m().reduce((a,b)=>a+b.price,0)]})]})})]})})}function f({show:a,onClose:c,showSuccess:d,cartTotal:e,cartCount:f,subtotal:g,discountAmount:h,parcelAmount:i,taxAmount:j,tipAmount:k,paymentMethod:l,setPaymentMethod:m,amountTendered:n,setAmountTendered:o,changeAmount:p,onConfirm:q,onPayLater:r}){return a?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:c,children:(0,b.jsx)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",onClick:a=>a.stopPropagation(),children:d?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"‚úÖ"}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Order Placed!"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Printing receipt..."}),p>0&&(0,b.jsxs)("div",{className:"mt-4 p-4 bg-green-50 rounded-xl",children:[(0,b.jsx)("div",{className:"text-lg",children:"Return Change"}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-green-600",children:["‚Çπ",p]})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-4",children:"üí≥ Payment"}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3 mb-4 text-sm space-y-1",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsxs)("span",{children:["Items (",f,")"]}),(0,b.jsxs)("span",{children:["‚Çπ",g]})]}),h>0&&(0,b.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,b.jsx)("span",{children:"Discount"}),(0,b.jsxs)("span",{children:["-‚Çπ",h]})]}),i>0&&(0,b.jsxs)("div",{className:"flex justify-between text-blue-600",children:[(0,b.jsx)("span",{children:"Parcel"}),(0,b.jsxs)("span",{children:["+‚Çπ",i]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"GST"}),(0,b.jsxs)("span",{children:["‚Çπ",j]})]}),k>0&&(0,b.jsxs)("div",{className:"flex justify-between text-pink-600",children:[(0,b.jsx)("span",{children:"Tip"}),(0,b.jsxs)("span",{children:["+‚Çπ",k]})]})]}),(0,b.jsx)("div",{className:"bg-orange-50 rounded-xl p-4 mb-4",children:(0,b.jsxs)("div",{className:"flex justify-between text-2xl font-bold",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsxs)("span",{className:"text-orange-600",children:["‚Çπ",e]})]})}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:["Cash","UPI","Card"].map(a=>(0,b.jsxs)("button",{onClick:()=>m(a),className:`py-3 rounded-xl font-semibold transition-all ${l===a?"bg-orange-500 text-white":"bg-gray-100"}`,children:["Cash"===a&&"üíµ"," ","UPI"===a&&"üì±"," ","Card"===a&&"üí≥"," ",a]},a))}),(0,b.jsx)("button",{onClick:r,className:"w-full py-3 mb-4 rounded-xl font-bold text-sm bg-yellow-100 text-yellow-700 border border-yellow-300",children:"üïí Pay Later"}),"Cash"===l&&(0,b.jsxs)("div",{className:"mb-4 p-3 bg-yellow-50 rounded-xl",children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-gray-600 mb-2 block",children:"üíµ Amount Received:"}),(0,b.jsx)("div",{className:"flex gap-2 mb-2",children:[e,100*Math.ceil(e/100),500*Math.ceil(e/500)].map(a=>(0,b.jsxs)("button",{onClick:()=>o(a),className:`px-3 py-2 rounded-lg text-sm font-semibold ${n===a?"bg-green-500 text-white":"bg-white border"}`,children:["‚Çπ",a]},a))}),(0,b.jsx)("input",{type:"number",value:n||"",onChange:a=>o(Number(a.target.value)),placeholder:"Enter amount...",className:"w-full px-4 py-3 rounded-xl border text-xl font-bold text-center"}),n>=e&&(0,b.jsxs)("div",{className:"mt-3 p-3 bg-green-100 rounded-lg text-center",children:[(0,b.jsx)("div",{className:"text-sm text-green-600",children:"Change Due"}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-green-700",children:["‚Çπ",p]})]}),n>0&&n<e&&(0,b.jsxs)("div",{className:"mt-3 p-3 bg-red-100 rounded-lg text-center",children:[(0,b.jsx)("div",{className:"text-sm text-red-600",children:"Amount Short"}),(0,b.jsxs)("div",{className:"text-xl font-bold text-red-700",children:["‚Çπ",e-n]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:c,className:"flex-1 py-3 rounded-xl font-semibold bg-gray-100",children:"Cancel"}),(0,b.jsx)("button",{onClick:q,disabled:"Cash"===l&&n<e&&n>0,className:"flex-1 py-3 rounded-xl font-semibold bg-gradient-to-r from-orange-500 to-red-500 text-white disabled:opacity-50",children:"‚úì Confirm"})]})]})})}):null}function g({show:a,onClose:c,totalRevenue:d,cashAmount:e,upiAmount:f,totalOrders:g}){return a?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:c,children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-6",children:"üìä Today's Sales"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-orange-50 p-4 rounded-xl flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Total Revenue"}),(0,b.jsxs)("span",{className:"text-2xl font-bold text-orange-600",children:["‚Çπ",d]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-green-50 p-3 rounded-xl",children:[(0,b.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Cash"}),(0,b.jsxs)("div",{className:"text-lg font-bold text-green-600",children:["‚Çπ",e]})]}),(0,b.jsxs)("div",{className:"bg-blue-50 p-3 rounded-xl",children:[(0,b.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Online/UPI"}),(0,b.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:["‚Çπ",f]})]})]}),(0,b.jsxs)("div",{className:"p-3 bg-gray-50 rounded-xl flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Total Orders"}),(0,b.jsx)("span",{className:"font-bold",children:g})]})]}),(0,b.jsx)("button",{onClick:c,className:"w-full mt-6 py-3 rounded-xl font-semibold bg-gray-100",children:"Close"})]})}):null}function h({show:a,onClose:c,customer:d,setCustomer:e,onStartOrder:f}){return a?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:c,children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-4",children:"üìû Online/Phone Order"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Customer details for delivery/pickup"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("input",{type:"text",placeholder:"üë§ Customer Name *",value:d.name,onChange:a=>e({...d,name:a.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:border-orange-500 outline-none"}),(0,b.jsx)("input",{type:"tel",placeholder:"üì± Phone Number *",value:d.phone,onChange:a=>e({...d,phone:a.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:border-orange-500 outline-none"}),(0,b.jsx)("textarea",{placeholder:"üè† Delivery Address (if delivery)",value:d.address,onChange:a=>e({...d,address:a.target.value}),className:"w-full px-4 py-3 rounded-xl border focus:border-orange-500 outline-none resize-none",rows:3})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsx)("button",{onClick:c,className:"flex-1 py-3 rounded-xl font-semibold bg-gray-100",children:"Cancel"}),(0,b.jsx)("button",{onClick:f,className:"flex-1 py-3 rounded-xl font-semibold bg-gradient-to-r from-teal-500 to-green-500 text-white",children:"Start Order ‚Üí"})]})]})}):null}function i({show:a,onClose:c,orders:d,onPrintReceipt:e}){return a?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:c,children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl h-[80vh] flex flex-col",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold",children:"üïí Recent Orders"}),(0,b.jsx)("button",{onClick:c,className:"text-gray-400 hover:text-gray-600",children:"‚úï"})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto space-y-3",children:0===d.length?(0,b.jsx)("div",{className:"text-center text-gray-500 py-10",children:"No recent orders today."}):d.map(a=>(0,b.jsxs)("div",{className:"border rounded-xl p-3 flex justify-between items-center bg-gray-50 hover:bg-gray-100 transition-colors",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex gap-2 items-center mb-1",children:[(0,b.jsxs)("span",{className:"font-bold text-gray-800",children:["#",a.id]}),(0,b.jsx)("span",{className:`text-[10px] px-2 py-0.5 rounded-full ${"Completed"===a.status?"bg-green-100 text-green-700":"Cancelled"===a.status?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:a.status}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:new Date(a.createdAt).toLocaleTimeString()})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:[a.table&&(0,b.jsxs)("span",{className:"mr-2",children:["ü™ë ",a.table]}),a.type]}),(0,b.jsx)("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:a.items?.map(a=>`${a.quantity}x ${a.name}`).join(", ")})]}),(0,b.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,b.jsxs)("div",{className:"font-bold text-lg",children:["‚Çπ",a.total]}),(0,b.jsx)("button",{onClick:()=>e(a),className:"px-3 py-1 bg-white border shadow-sm rounded-lg text-xs font-semibold hover:bg-gray-50",children:"üñ® Print"})]})]},a.id))})]})}):null}function j({show:a,onClose:d,customers:e,onSearch:f,onSelect:g}){let[h,i]=(0,c.useState)("");return((0,c.useEffect)(()=>{a&&i("")},[a]),a)?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:d,children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl h-[80vh] flex flex-col",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold",children:"üë§ Search Customer"}),(0,b.jsx)("button",{onClick:d,className:"text-gray-500 hover:text-gray-700 text-xl",children:"‚úï"})]}),(0,b.jsxs)("div",{className:"relative mb-4",children:[(0,b.jsx)("input",{autoFocus:!0,type:"text",placeholder:"Search by Name or Phone...",value:h,onChange:a=>{let b=a.target.value;i(b),f(b)},className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-100 outline-none transition-all"}),(0,b.jsx)("span",{className:"absolute left-3 top-3.5 text-gray-400",children:"üîç"})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2 pr-1",children:0===e.length?(0,b.jsx)("div",{className:"text-center text-gray-400 py-10",children:h?"No customers found":"Type to search..."}):e.map(a=>(0,b.jsxs)("button",{onClick:()=>g(a),className:"w-full text-left p-3 rounded-xl hover:bg-orange-50 border border-transparent hover:border-orange-200 transition-all group",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsx)("div",{className:"font-bold text-gray-800",children:a.name}),(0,b.jsxs)("div",{className:"text-xs font-bold text-orange-600 bg-orange-100 px-2 py-0.5 rounded-full",children:[a.loyaltyPoints," pts"]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-500",children:["üìû ",a.phone]}),(0,b.jsxs)("div",{className:"text-xs text-gray-400",children:["Last: ",new Date(a.lastVisit).toLocaleDateString()]})]})]},a.id))})]})}):null}let k=["Rahul","Amit","Vijay","Priya","Neha"];function l(){let{categories:a,items:l}=(0,d.useDbMenu)(),{orders:m,createOrder:n}=(0,d.useDbOrders)(),{customers:o,fetchCustomers:p,upsertCustomer:q}=(0,d.useDbCustomers)(),{settings:r}=(0,d.useDbSettings)(),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)("all"),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)("Dine In"),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)("Cash"),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)("percent"),[Q,R]=(0,c.useState)(0),[S,T]=(0,c.useState)([]),[U,V]=(0,c.useState)(!1),[W,X]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)([]),[$,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)(null),[ac,ad]=(0,c.useState)(!0),[ae,af]=(0,c.useState)([]),[ag,ah]=(0,c.useState)({packing:0,delivery:0}),[ai,aj]=(0,c.useState)(0),[ak,al]=(0,c.useState)(""),[am,an]=(0,c.useState)(""),[ao,ap]=(0,c.useState)(0),[aq,ar]=(0,c.useState)(!1),[as,at]=(0,c.useState)({totalOrders:0,totalRevenue:0,cashAmount:0,upiAmount:0}),[au,av]=(0,c.useState)([]),[aw,ax]=(0,c.useState)(!1),[ay,az]=(0,c.useState)(!1),[aA,aB]=(0,c.useState)("menu"),[aC,aD]=(0,c.useState)(null),[aE,aF]=(0,c.useState)(!1),[aG,aH]=(0,c.useState)(!1),[aI,aJ]=(0,c.useState)("floor"),[aK,aL]=(0,c.useState)(!1),[aM,aN]=(0,c.useState)({name:"",phone:"",address:""}),[aO,aP]=(0,c.useState)(!1),[aQ,aR]=(0,c.useState)(null),aS=(0,c.useRef)(null);(0,c.useEffect)(()=>{z(!0)},[]),(0,c.useEffect)(()=>{y&&localStorage.setItem("pos_held_orders",JSON.stringify(S))},[S,y]),(0,c.useEffect)(()=>{let a=a=>{if("F1"===a.key&&(a.preventDefault(),aS.current?.focus()),"F2"===a.key&&(a.preventDefault(),a7()),"F3"===a.key&&(a.preventDefault(),V(!0)),"F4"===a.key&&(a.preventDefault(),aY()),"F5"===a.key&&(a.preventDefault(),ad(a=>!a)),"F8"===a.key&&s.length>0&&(a.preventDefault(),J(!0)),"F12"===a.key&&(a.preventDefault(),a9()),"Escape"===a.key&&(J(!1),V(!1),X(!1),_(!1),aP(!1)),a.key>="1"&&a.key<="9"&&!(a.target instanceof HTMLInputElement)){let b=parseInt(a.key)-1;if(ae[b]){let a=l.find(a=>a.id===ae[b]);a&&aW(a)}}};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[s,l,ae]),(0,c.useEffect)(()=>{let a,b,c,d;(aw||ay)&&(b=new Date((a=new Date).getFullYear(),a.getMonth(),a.getDate()),at({totalOrders:(d={totalOrders:(c=m.filter(a=>new Date(a.createdAt)>=b&&"Cancelled"!==a.status)).length,totalSales:c.reduce((a,b)=>a+Number(b.total),0),cashSales:c.filter(a=>"Cash"===a.paymentMethod).reduce((a,b)=>a+Number(b.total),0),onlineSales:c.filter(a=>"UPI"===a.paymentMethod||"Card"===a.paymentMethod||"Online"===a.paymentMethod).reduce((a,b)=>a+Number(b.total),0)}).totalOrders,totalRevenue:d.totalSales,cashAmount:d.cashSales,upiAmount:d.onlineSales}),av([...m].sort((a,b)=>new Date(b.createdAt).getTime()-new Date(a.createdAt).getTime()).slice(0,10)))},[aw,ay]);let aT=(0,c.useCallback)(a=>{let b=m.filter(b=>"DineIn"===b.type&&b.table===a&&"Completed"!==b.status&&"Cancelled"!==b.status);if(0===b.length)return{status:"free"};let c=b[0];return"Ready"===c.status?{status:"billing",order:c}:{status:"occupied",order:c}},[m]),aU=(0,c.useMemo)(()=>l.filter(a=>"Active"===a.status),[l]),aV=(0,c.useMemo)(()=>{let a=aU;if("all"!==u&&(a=a.filter(a=>a.categoryId===u)),w){let b=w.toLowerCase();a=a.filter(a=>a.name.toLowerCase().includes(b)||(a.description||"").toLowerCase().includes(b))}return a},[aU,u,w]),aW=(0,c.useCallback)(a=>{if(a.modifiers&&a.modifiers.length>0){aR(a),aP(!0);return}aX(a,[],"")},[]),aX=(a,b,c)=>{let d=b.reduce((a,b)=>a+b.price,0),e=a.price+d,f=b.length>0?`${a.id}-${Date.now()}`:a.id;t(d=>0===b.length&&d.find(b=>b.id===a.id&&(!b.modifiers||0===b.modifiers.length))?d.map(b=>b.id!==a.id||b.modifiers&&0!==b.modifiers.length?b:{...b,quantity:b.quantity+1}):[...d,{id:f,name:a.name,price:e,quantity:1,veg:a.veg,image:a.image,modifiers:b,note:c}])},aY=()=>{s.length>0&&!aE?aF(!0):(t([]),R(0),ab(null),ah({packing:0,delivery:0}),aj(0),al(""),an(""),ap(0),aH(!1),aF(!1))},aZ=(a,b)=>{t(c=>c.map(c=>c.id===a?{...c,note:b}:c)),aD(null)},a$=a=>s.find(b=>b.id===a)?.quantity||0,a_=s.reduce((a,b)=>a+b.price*b.quantity,0),a0="percent"===O?Math.round(a_*Q/100):Q,a1=ag.packing+ag.delivery,a2=a_-a0+a1,a3=Math.round(.05*a2),a4=a2+a3+ai,a5=s.reduce((a,b)=>a+b.quantity,0),a6=ao>a4?ao-a4:0,a7=()=>{if(0===s.length)return;let a={id:Date.now().toString(),name:C?`Table ${C}`:`Order ${S.length+1}`,cart:[...s],tableNumber:C,orderType:A,timestamp:Date.now()};T(b=>[...b,a]),aY(),D("")},a8=()=>{let a=window.open("","_blank","width=300,height=600");if(!a)return;let b=`
            <!DOCTYPE html>
            <html>
            <head>
                <title>Receipt</title>
                <style>
                    body { font-family: 'Courier New', monospace; font-size: 12px; padding: 10px; max-width: 280px; margin: 0 auto; }
                    .center { text-align: center; }
                    .bold { font-weight: bold; }
                    .line { border-top: 1px dashed #000; margin: 10px 0; }
                    .row { display: flex; justify-content: space-between; margin: 3px 0; }
                    .note { font-size: 10px; color: #666; margin-left: 15px; }
                    h1 { font-size: 18px; margin: 5px 0; }
                    h2 { font-size: 14px; margin: 5px 0; }
                </style>
            </head>
            <body>
                <div class="center">
                    <h1>OYE CHATORO</h1>
                    <p>Abu Road, Rajasthan</p>
                    <p>Ph: 9509913792</p>
                </div>
                <div class="line"></div>
                <div class="row"><span>Date:</span><span>${new Date().toLocaleDateString()}</span></div>
                <div class="row"><span>Time:</span><span>${new Date().toLocaleTimeString()}</span></div>
                <div class="row"><span>Type:</span><span>${A}</span></div>
                ${C?`<div class="row"><span>Table:</span><span>${C}</span></div>`:""}
                ${am?`<div class="row"><span>Staff:</span><span>${am}</span></div>`:""}
                ${E?`<div class="row"><span>Customer:</span><span>${E}</span></div>`:""}
                <div class="line"></div>
                ${s.map(a=>`
                    <div class="row">
                        <span>${a.quantity}x ${a.name}</span>
                        <span>‚Çπ${a.price*a.quantity}</span>
                    </div>
                    ${a.modifiers?a.modifiers.map(a=>`<div class="note"> + ${a.name}</div>`).join(""):""}
                    ${a.note?`<div class="note">‚Ü≥ ${a.note}</div>`:""}
                `).join("")}
                <div class="line"></div>
                <div class="row"><span>Subtotal:</span><span>‚Çπ${a_}</span></div>
                ${a0>0?`<div class="row"><span>Discount:</span><span>-‚Çπ${a0}</span></div>`:""}
                ${a1>0?`<div class="row"><span>Parcel Charge:</span><span>‚Çπ${a1}</span></div>`:""}
                <div class="row"><span>GST (5%):</span><span>‚Çπ${a3}</span></div>
                ${ai>0?`<div class="row"><span>Tip:</span><span>‚Çπ${ai}</span></div>`:""}
                <div class="line"></div>
                <div class="row bold"><span>TOTAL:</span><span>‚Çπ${a4}</span></div>
                ${"Cash"===K&&ao>0?`
                    <div class="row"><span>Tendered:</span><span>‚Çπ${ao}</span></div>
                    <div class="row bold"><span>Change:</span><span>‚Çπ${a6}</span></div>
                `:""}
                <div class="row"><span>Payment:</span><span>${K}</span></div>
                ${ak?`<div class="line"></div><p><b>Notes:</b> ${ak}</p>`:""}
                <div class="line"></div>
                <div class="center">
                    <p>Thank you for visiting!</p>
                    <p>Please come again üôè</p>
                </div>
                <!-- <script>window.print(); window.close();</script> -->
            </body>
            </html>
        `;a.document.write(b)},a9=()=>{alert("No recent order to print")},ba=async()=>{G&&await q({name:E||"Unknown",phone:G,totalOrders:1,totalSpent:a4})},bb=async()=>{0!==s.length&&(await ba(),n({items:s.map(a=>({name:a.name,quantity:a.quantity,price:a.price,note:a.note,modifiers:a.modifiers})),total:a4,type:{"Dine In":"DineIn",Takeaway:"Takeaway",Delivery:"Delivery"}[A],table:"Dine In"===A?C:void 0,customer:E||"Walk-in Customer",mobile:G||void 0,paymentMethod:K,paymentStatus:"Paid",discount:a0>0?{type:"percent"===O?"percent":"amount",value:Q,amount:a0}:void 0,tip:ai,waiterName:am,waiterCalled:!1,notes:ak}).catch(console.error),a8(),N(!0),setTimeout(()=>{N(!1),J(!1),aY(),D(""),F(""),H(""),ab(null)},2e3))},bc=async()=>{0!==s.length&&(await ba(),n({items:s.map(a=>({name:a.name,quantity:a.quantity,price:a.price,note:a.note,modifiers:a.modifiers})),total:a4,type:{"Dine In":"DineIn",Takeaway:"Takeaway",Delivery:"Delivery"}[A],table:"Dine In"===A?C:void 0,customer:E||"Walk-in Customer",mobile:G||void 0,paymentMethod:"Cash",paymentStatus:"Unpaid",discount:a0>0?{type:"percent"===O?"percent":"amount",value:Q,amount:a0}:void 0,tip:ai,waiterName:am}).catch(console.error),a8(),N(!0),setTimeout(()=>{N(!1),J(!1),aY(),D(""),F(""),H(""),ab(null)},2e3))};return y?(0,b.jsxs)("div",{className:"h-screen flex flex-col bg-gray-100 overflow-hidden",children:["floor"===aI&&(0,b.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-white",children:"ü™ë Table Floor"}),(0,b.jsx)("p",{className:"text-white/80 text-sm",children:"Select a table to take order"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>ax(!0),className:"px-4 py-2 bg-white/20 text-white rounded-lg font-semibold text-sm hover:bg-white/30",children:"üìä Sales"}),(0,b.jsx)("button",{onClick:()=>az(!0),className:"px-4 py-2 bg-white/20 text-white rounded-lg font-semibold text-sm hover:bg-white/30",children:"üïí Recent"}),(0,b.jsxs)("select",{value:am,onChange:a=>{let b=a.target.value;an(b),localStorage.setItem("pos_selected_staff",b)},className:`px-3 py-2 rounded-lg font-semibold text-sm ${!am?"bg-red-100 text-red-600 animate-pulse":"bg-white/20 text-white"}`,children:[(0,b.jsx)("option",{value:"",children:"üë§ Staff"}),k.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]})]})}),(0,b.jsxs)("div",{className:"bg-white border-b px-4 py-2 flex gap-4 text-xs",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"w-3 h-3 rounded bg-green-500"})," Free"]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"w-3 h-3 rounded bg-orange-500"})," Occupied"]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"w-3 h-3 rounded bg-red-500"})," Bill Ready"]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[Array.from({length:10},(a,c)=>{let d=`T-${c+1}`,{status:e,order:f}=aT(d);return(0,b.jsxs)("button",{onClick:()=>(a=>{let{status:b,order:c}=aT(a);D(a),B("Dine In"),"free"===b&&t([]),aJ("pos"),aB("menu")})(d),className:`p-4 rounded-2xl border-2 ${"free"===e?"bg-green-50 border-green-500 hover:bg-green-100":"occupied"===e?"bg-orange-50 border-orange-500 hover:bg-orange-100":"bg-red-50 border-red-500 hover:bg-red-100"} transition-all hover:scale-105 active:scale-95 text-left`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:`text-3xl ${"free"===e?"text-green-500":"occupied"===e?"text-orange-500":"text-red-500"}`,children:"ü™ë"}),(0,b.jsx)("span",{className:`text-xs font-bold px-2 py-1 rounded ${"free"===e?"bg-green-500 text-white":"occupied"===e?"bg-orange-500 text-white":"bg-red-500 text-white"}`,children:"free"===e?"FREE":"occupied"===e?"BUSY":"BILL"})]}),(0,b.jsx)("div",{className:"text-xl font-bold text-gray-800",children:d}),f&&(0,b.jsxs)("div",{className:"mt-2 text-sm",children:[(0,b.jsx)("div",{className:"text-gray-500 truncate",children:f.items.slice(0,2).map(a=>a.name).join(", ")}),(0,b.jsxs)("div",{className:"font-bold text-orange-600",children:["‚Çπ",f.total]})]})]},d)}),(0,b.jsxs)("button",{onClick:()=>{B("Takeaway"),D(""),aJ("pos"),aB("menu")},className:"p-4 rounded-2xl border-2 bg-blue-50 border-blue-500 hover:bg-blue-100 transition-all hover:scale-105 active:scale-95 text-left",children:[(0,b.jsx)("span",{className:"text-3xl",children:"üì¶"}),(0,b.jsx)("div",{className:"text-xl font-bold text-gray-800 mt-2",children:"Takeaway"}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:"New parcel order"})]}),(0,b.jsxs)("button",{onClick:()=>{B("Delivery"),D(""),aJ("pos"),aB("menu")},className:"p-4 rounded-2xl border-2 bg-purple-50 border-purple-500 hover:bg-purple-100 transition-all hover:scale-105 active:scale-95 text-left",children:[(0,b.jsx)("span",{className:"text-3xl",children:"üöó"}),(0,b.jsx)("div",{className:"text-xl font-bold text-gray-800 mt-2",children:"Delivery"}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:"New delivery order"})]}),(0,b.jsxs)("button",{onClick:()=>aL(!0),className:"p-4 rounded-2xl border-2 bg-teal-50 border-teal-500 hover:bg-teal-100 transition-all hover:scale-105 active:scale-95 text-left",children:[(0,b.jsx)("span",{className:"text-3xl",children:"üìû"}),(0,b.jsx)("div",{className:"text-xl font-bold text-gray-800 mt-2",children:"Phone/Online"}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:"Customer call order"})]})]})})]}),"pos"===aI&&(0,b.jsxs)("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden",children:[(0,b.jsxs)("div",{className:`flex-1 flex flex-col overflow-hidden ${"cart"===aA?"hidden md:flex":"flex"}`,children:[(0,b.jsxs)("div",{className:"bg-white border-b p-3 flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>aJ("floor"),className:"px-3 py-2 rounded-lg bg-gray-800 text-white font-semibold text-xs flex items-center gap-1",children:"‚Üê Floor"}),C&&(0,b.jsxs)("div",{className:"px-3 py-2 bg-orange-100 text-orange-600 rounded-lg font-bold text-xs",children:["ü™ë ",C]}),(0,b.jsx)("div",{className:"flex-1 relative",children:(0,b.jsx)("input",{ref:aS,type:"text",placeholder:"üîç Search items... (F1)",value:w,onChange:a=>x(a.target.value),className:"w-full pl-4 pr-4 py-2.5 rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-100 outline-none transition-all text-sm"})}),(0,b.jsx)("div",{className:"flex gap-1",children:["Dine In","Takeaway","Delivery"].map(a=>(0,b.jsxs)("button",{onClick:()=>B(a),className:`px-3 py-2 rounded-lg font-semibold text-xs transition-all ${A===a?"bg-orange-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Dine In"===a&&"ü™ë"," ","Takeaway"===a&&"üì¶"," ","Delivery"===a&&"üöó"," ",a]},a))})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-2 flex gap-2 overflow-x-auto scrollbar-hide",children:[(0,b.jsx)("button",{onClick:()=>v("all"),className:`px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all ${"all"===u?"bg-gray-800 text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-200"}`,children:"All Items"}),a.map(a=>(0,b.jsx)("button",{onClick:()=>v(a.id),className:`px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all ${u===a.id?"bg-gray-800 text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-200"}`,children:a.name},a.id))]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-3",children:(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:aV.map(a=>(0,b.jsxs)("button",{onClick:()=>aW(a),className:"bg-white p-3 rounded-xl border hover:border-orange-500 hover:shadow-lg transition-all text-left group relative overflow-hidden",children:[(0,b.jsxs)("div",{className:"absolute top-2 right-2 flex flex-col gap-1 items-end",children:[(0,b.jsx)("span",{className:`w-3 h-3 rounded-full ${a.veg?"bg-green-500":"bg-red-500"}`}),a$(a.id)>0&&(0,b.jsx)("span",{className:"bg-orange-500 text-white text-xs font-bold px-2 py-0.5 rounded-full shadow-sm",children:a$(a.id)})]}),(0,b.jsx)("div",{className:"font-bold text-gray-800 text-sm mb-1 pr-4",children:a.name}),(0,b.jsxs)("div",{className:"text-orange-600 font-bold text-sm",children:["‚Çπ",a.price]}),a.modifiers&&a.modifiers.length>0&&(0,b.jsx)("span",{className:"text-[10px] text-gray-400",children:"Customizable"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-orange-50 opacity-0 group-hover:opacity-10 transition-opacity"})]},a.id))})})]}),(0,b.jsxs)("div",{className:`w-full md:w-[400px] bg-white border-l flex flex-col ${"menu"===aA?"hidden md:flex":"flex"}`,children:[(0,b.jsxs)("div",{className:"bg-gray-800 text-white p-4 flex justify-between items-center",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xl",children:"üõí"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"font-bold",children:"Current Order"}),(0,b.jsxs)("p",{className:"text-xs text-gray-400",children:[s.length," items ‚Ä¢ ",C||A]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 min-w-[30%]",children:[(0,b.jsx)("input",{type:"tel",placeholder:"üì± Mobile No.",value:G,onChange:a=>{let b,c=a.target.value;H(c),10===c.length&&(p(c),(b=o.find(a=>a.phone.includes(c)))&&b.phone===c?(ab(b),F(b.name),H(b.phone)):H(c))},className:"w-full bg-white/10 border border-white/20 rounded-lg px-2 py-1 text-sm text-white placeholder-gray-400 outline-none focus:border-orange-500 transition-colors"}),o.length>0&&!aa&&(0,b.jsx)("button",{onClick:()=>_(!0),className:"p-2 bg-white/10 rounded-lg hover:bg-white/20",children:"üë§"}),aa&&(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-orange-600 px-2 py-1 rounded-lg text-xs cursor-pointer",onClick:()=>_(!0),children:["üë§ ",aa.name.split(" ")[0]]}),(0,b.jsx)("button",{onClick:()=>aJ("floor"),className:"md:hidden p-2 bg-white/10 rounded-lg",children:"‚úï"})]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:0===s.length?(0,b.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 opacity-50",children:[(0,b.jsx)("span",{className:"text-4xl mb-2",children:"üõí"}),(0,b.jsx)("p",{children:"Cart is empty"})]}):s.map(a=>(0,b.jsxs)("div",{className:"bg-gray-50 p-3 rounded-xl border border-gray-100 flex gap-3 group relative",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,b.jsx)("span",{className:"font-bold text-sm text-gray-800",children:a.name}),(0,b.jsxs)("span",{className:"font-bold text-gray-800",children:["‚Çπ",a.price*a.quantity]})]}),a.modifiers&&a.modifiers.length>0&&(0,b.jsx)("div",{className:"text-xs text-gray-500 mb-1 flex flex-wrap gap-1",children:a.modifiers.map((a,c)=>(0,b.jsx)("span",{className:"bg-white border px-1 rounded",children:a.name},c))}),a.note&&(0,b.jsxs)("div",{className:"text-xs text-orange-600 italic mb-1",children:["Note: ",a.note]}),aC===a.id?(0,b.jsx)("div",{className:"flex gap-2 mt-1",children:(0,b.jsx)("input",{autoFocus:!0,type:"text",className:"flex-1 text-xs border rounded px-1 py-0.5",defaultValue:a.note,onBlur:b=>aZ(a.id,b.target.value),onKeyDown:b=>"Enter"===b.key&&aZ(a.id,b.currentTarget.value)})}):(0,b.jsxs)("button",{onClick:()=>aD(a.id),className:"text-[10px] text-blue-500 hover:underline",children:["+ ",a.note?"Edit Note":"Add Note"]})]}),(0,b.jsx)("div",{className:"flex flex-col items-center justify-between gap-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-white rounded-lg border shadow-sm px-1 py-0.5",children:[(0,b.jsx)("button",{onClick:()=>{var b;return b=a.id,void t(a=>{let c=a.find(a=>a.id===b);return c&&c.quantity>1?a.map(a=>a.id===b?{...a,quantity:a.quantity-1}:a):a.filter(a=>a.id!==b)})},className:"w-6 h-6 flex items-center justify-center text-red-500 hover:bg-red-50 rounded",children:"-"}),(0,b.jsx)("span",{className:"font-bold text-sm w-4 text-center",children:a.quantity}),(0,b.jsx)("button",{onClick:()=>aW({...a,modifiers:a.modifiers}),className:"w-6 h-6 flex items-center justify-center text-green-500 hover:bg-green-50 rounded",children:"+"})]})})]},a.id))}),(0,b.jsxs)("div",{className:"bg-white border-t p-4 shadow-[0_-5px_15px_rgba(0,0,0,0.05)]",children:[(0,b.jsxs)("div",{className:"space-y-1 mb-3 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between text-gray-500",children:[(0,b.jsx)("span",{children:"Subtotal"}),(0,b.jsxs)("span",{children:["‚Çπ",a_]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-green-600",children:[(0,b.jsx)("div",{className:"flex items-center gap-1 cursor-pointer hover:bg-green-50 px-1 rounded",onClick:()=>P(a=>"percent"===a?"flat":"percent"),children:(0,b.jsxs)("span",{children:["Discount (","percent"===O?"%":"‚Çπ",")"]})}),Q>0?(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsxs)("span",{children:["-‚Çπ",a0]}),(0,b.jsx)("button",{onClick:()=>R(0),className:"text-xs bg-red-100 text-red-500 rounded px-1",children:"‚úï"})]}):(0,b.jsx)("button",{onClick:()=>{let a=prompt("Enter Discount "+("percent"===O?"%":"Amount"));a&&R(Number(a))},className:"text-xs bg-green-100 px-2 rounded",children:"+ Add"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-blue-600",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{children:"Extra Charges"}),(0,b.jsx)("button",{onClick:()=>{let a=prompt("Enter Packing Charge (‚Çπ)",ag.packing.toString()),b=prompt("Enter Delivery Charge (‚Çπ)",ag.delivery.toString());null!==a&&ah(b=>({...b,packing:Number(a)})),null!==b&&ah(a=>({...a,delivery:Number(b)}))},className:"text-xs bg-blue-100 px-2 rounded hover:bg-blue-200",children:"‚úèÔ∏è Edit"})]}),(0,b.jsxs)("div",{className:"text-right text-xs",children:[ag.packing>0&&(0,b.jsxs)("div",{children:["Packing: ‚Çπ",ag.packing]}),ag.delivery>0&&(0,b.jsxs)("div",{children:["Delivery: ‚Çπ",ag.delivery]})]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-gray-500",children:[(0,b.jsx)("span",{children:"GST (5%)"}),(0,b.jsxs)("span",{children:["‚Çπ",a3]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-pink-600",children:[(0,b.jsx)("span",{children:"Tip"}),ai>0?(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsxs)("span",{children:["+‚Çπ",ai]}),(0,b.jsx)("button",{onClick:()=>aj(0),className:"text-xs bg-red-100 text-red-500 rounded px-1",children:"‚úï"})]}):(0,b.jsxs)("div",{className:"flex gap-1",children:[[10,20,50].map(a=>(0,b.jsxs)("button",{onClick:()=>aj(a),className:"text-[10px] bg-pink-50 px-1 rounded hover:bg-pink-100",children:["+‚Çπ",a]},a)),(0,b.jsx)("button",{onClick:()=>{let a=prompt("Enter Tip Amount");a&&aj(Number(a))},className:"text-[10px] bg-gray-100 px-1 rounded",children:"Custom"})]})]}),(0,b.jsxs)("div",{className:"flex justify-between font-bold text-lg pt-2 border-t text-gray-900",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsxs)("span",{children:["‚Çπ",a4]})]})]}),(0,b.jsx)("textarea",{placeholder:"üìù Order Notes...",value:ak,onChange:a=>al(a.target.value),className:"w-full text-xs p-2 bg-gray-50 rounded-lg mb-3 border-0 focus:ring-1 focus:ring-orange-500 resize-none h-8"}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[(0,b.jsx)("button",{onClick:()=>ax(!0),className:"col-span-1 py-3 rounded-xl font-bold text-gray-600 bg-gray-100 hover:bg-gray-200",children:"üìä"}),(0,b.jsx)("button",{onClick:a7,className:"col-span-1 py-3 rounded-xl font-bold text-blue-600 bg-blue-50 hover:bg-blue-100",children:"‚è∏ Hold"}),(0,b.jsx)("button",{onClick:()=>{let a=window.open("","_blank","width=300,height=400");if(!a)return;let b=`
            <!DOCTYPE html>
            <html>
            <head>
                <title>KOT</title>
                <style>
                    body { font-family: 'Courier New', monospace; font-size: 14px; padding: 10px; max-width: 280px; margin: 0 auto; }
                    .center { text-align: center; }
                    .bold { font-weight: bold; font-size: 16px; }
                    .line { border-top: 2px dashed #000; margin: 8px 0; }
                    .item { margin: 8px 0; padding: 5px; background: #f5f5f5; }
                    .qty { font-size: 20px; font-weight: bold; }
                    .note { color: red; font-weight: bold; }
                    h1 { font-size: 22px; margin: 5px 0; }
                </style>
            </head>
            <body>
                <div class="center">
                    <h1>üç≥ KITCHEN ORDER</h1>
                    <p class="bold">${new Date().toLocaleTimeString()}</p>
                </div>
                <div class="line"></div>
                <div class="bold">${A} ${C?"‚Ä¢ Table "+C:""}</div>
                <div class="line"></div>
                ${s.map(a=>`
                    <div class="item">
                        <span class="qty">${a.quantity}x</span> ${a.name}
                        ${a.modifiers?a.modifiers.map(a=>`<div class="note">+ ${a.name}</div>`).join(""):""}
                        ${a.note?`<div class="note">‚ö†Ô∏è ${a.note}</div>`:""}
                    </div>
                `).join("")}
                ${ak?`<div class="line"></div><div class="note">üìù ${ak}</div>`:""}
                <div class="line"></div>
                <div class="center bold">--- END OF KOT ---</div>
                <!-- <script>window.print(); window.close();</script> -->
            </body>
            </html>
        `;a.document.write(b),aH(!0)},className:"col-span-1 py-3 rounded-xl font-bold text-purple-600 bg-purple-50 hover:bg-purple-100",children:"üë®‚Äçüç≥ KOT"}),(0,b.jsx)("button",{onClick:aY,className:"col-span-1 py-3 rounded-xl font-bold text-red-600 bg-red-50 hover:bg-red-100",children:"üóë"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>bc(),disabled:0===s.length,className:"flex-1 py-4 bg-yellow-400 hover:bg-yellow-500 text-yellow-900 rounded-xl font-bold shadow-lg shadow-yellow-200 transition-all disabled:opacity-50 disabled:shadow-none",children:"Pay Later"}),(0,b.jsxs)("button",{onClick:()=>J(!0),disabled:0===s.length,className:"flex-[2] py-4 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl font-bold shadow-lg shadow-orange-200 transition-all disabled:opacity-50 disabled:shadow-none",children:["Charge ‚Çπ",a4]})]})]})]})]}),(0,b.jsxs)("div",{className:"md:hidden bg-white border-t flex justify-around p-2",children:[(0,b.jsxs)("button",{onClick:()=>aB("menu"),className:`flex flex-col items-center p-2 rounded-lg ${"menu"===aA?"text-orange-500 bg-orange-50":"text-gray-400"}`,children:[(0,b.jsx)("span",{className:"text-xl",children:"üçî"}),(0,b.jsx)("span",{className:"text-[10px] font-bold",children:"Menu"})]}),(0,b.jsxs)("button",{onClick:()=>aB("cart"),className:`flex flex-col items-center p-2 rounded-lg relative ${"cart"===aA?"text-orange-500 bg-orange-50":"text-gray-400"}`,children:[(0,b.jsx)("span",{className:"text-xl",children:"üõí"}),(0,b.jsx)("span",{className:"text-[10px] font-bold",children:"Cart"}),s.length>0&&(0,b.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 rounded-full bg-red-500"})]})]}),(0,b.jsx)(e,{show:aO,itemName:aQ?.name||"",basePrice:aQ?.price||0,modifiers:aQ?.modifiers||[],onClose:()=>aP(!1),onConfirm:(a,b)=>{aQ&&(aX(aQ,a,b),aP(!1),aR(null))}}),(0,b.jsx)(f,{show:I,onClose:()=>J(!1),showSuccess:M,cartTotal:a4,cartCount:a5,subtotal:a_,discountAmount:a0,parcelAmount:ag.packing+ag.delivery,taxAmount:a3,tipAmount:ai,paymentMethod:K,setPaymentMethod:L,amountTendered:ao,setAmountTendered:ap,changeAmount:a6,onConfirm:bb,onPayLater:bc}),(0,b.jsx)(g,{show:aw,onClose:()=>ax(!1),totalRevenue:as.totalRevenue,cashAmount:as.cashAmount,upiAmount:as.upiAmount,totalOrders:as.totalOrders}),(0,b.jsx)(i,{show:ay,onClose:()=>az(!1),orders:au,onPrintReceipt:a=>{alert(`Printing receipt for Order #${a.id}`)}}),(0,b.jsx)(h,{show:aK,onClose:()=>aL(!1),customer:aM,setCustomer:aN,onStartOrder:()=>{F(aM.name),H(aM.phone),aL(!1),aJ("pos"),aB("menu"),B("Delivery")}}),(0,b.jsx)(j,{show:$,onClose:()=>_(!1),customers:o,onSearch:p,onSelect:a=>{ab(a),F(a.name),H(a.phone),_(!1)}})]}):null}a.s(["default",()=>l],62395)}];

//# sourceMappingURL=app_dashboard_pos_page_tsx_d66faada._.js.map