{"version":3,"sources":["../../../../app/dashboard/pos/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useMemo, useEffect, useCallback, useRef } from 'react';\r\nimport Image from 'next/image';\r\nimport { useMenu, useSettings, MenuItem, createOrder, getDailyStats, getOrders, Order } from '../../lib/storage';\r\n\r\ninterface CartItem {\r\n    id: string;\r\n    name: string;\r\n    price: number;\r\n    quantity: number;\r\n    veg: boolean;\r\n    image?: string;\r\n    note?: string; // Special instructions\r\n}\r\n\r\ninterface HeldOrder {\r\n    id: string;\r\n    name: string;\r\n    cart: CartItem[];\r\n    tableNumber: string;\r\n    orderType: 'Dine In' | 'Takeaway' | 'Delivery';\r\n    timestamp: number;\r\n}\r\n\r\ninterface Customer {\r\n    id: string;\r\n    name: string;\r\n    phone: string;\r\n    totalOrders: number;\r\n    totalSpent: number;\r\n    lastVisit: string;\r\n}\r\n\r\ninterface TodaySales {\r\n    totalOrders: number;\r\n    totalRevenue: number;\r\n    cashAmount: number;\r\n    upiAmount: number;\r\n}\r\n\r\nconst STAFF_LIST = ['Rahul', 'Amit', 'Vijay', 'Priya', 'Neha'];\r\nconst PARCEL_CHARGE = 20;\r\nconst TOTAL_TABLES = 10; // Configure number of tables\r\n\r\ntype TableStatus = 'free' | 'occupied' | 'billing';\r\n\r\nexport default function POSPage() {\r\n    const { categories, items } = useMenu();\r\n    const { settings } = useSettings();\r\n    const [cart, setCart] = useState<CartItem[]>([]);\r\n    const [activeCategory, setActiveCategory] = useState('all');\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [mounted, setMounted] = useState(false);\r\n    const [orderType, setOrderType] = useState<'Dine In' | 'Takeaway' | 'Delivery'>('Dine In');\r\n    const [tableNumber, setTableNumber] = useState('');\r\n    const [customerName, setCustomerName] = useState('');\r\n    const [customerPhone, setCustomerPhone] = useState('');\r\n    const [showCheckout, setShowCheckout] = useState(false);\r\n    const [paymentMethod, setPaymentMethod] = useState<'Cash' | 'UPI' | 'Card'>('Cash');\r\n    const [showSuccess, setShowSuccess] = useState(false);\r\n\r\n    // Existing Features State\r\n    const [discountType, setDiscountType] = useState<'percent' | 'flat'>('percent');\r\n    const [discountValue, setDiscountValue] = useState(0);\r\n    const [heldOrders, setHeldOrders] = useState<HeldOrder[]>([]);\r\n    const [showHeldOrders, setShowHeldOrders] = useState(false);\r\n    const [showSplitBill, setShowSplitBill] = useState(false);\r\n    const [splitPayments, setSplitPayments] = useState<{ method: string; amount: number }[]>([]);\r\n    const [customers, setCustomers] = useState<Customer[]>([]);\r\n    const [showCustomerSearch, setShowCustomerSearch] = useState(false);\r\n    const [selectedCustomer, setSelectedCustomer] = useState<Customer | null>(null);\r\n    const [showQuickKeys, setShowQuickKeys] = useState(true);\r\n    const [quickKeyItems, setQuickKeyItems] = useState<string[]>([]);\r\n\r\n    // NEW: Enhanced Features State\r\n    const [parcelCharge, setParcelCharge] = useState(false);\r\n    const [tipAmount, setTipAmount] = useState(0);\r\n    const [orderNotes, setOrderNotes] = useState('');\r\n    const [selectedStaff, setSelectedStaff] = useState('');\r\n    const [amountTendered, setAmountTendered] = useState(0);\r\n    const [showLastOrders, setShowLastOrders] = useState(false);\r\n    const [todaySales, setTodaySales] = useState<TodaySales>({ totalOrders: 0, totalRevenue: 0, cashAmount: 0, upiAmount: 0 });\r\n    const [lastOrders, setLastOrders] = useState<Order[]>([]);\r\n    const [showSalesModal, setShowSalesModal] = useState(false);\r\n    const [showRecentModal, setShowRecentModal] = useState(false);\r\n    const [activeTab, setActiveTab] = useState<'menu' | 'cart'>('menu'); // New Mobile Tab State\r\n    const [editingNoteId, setEditingNoteId] = useState<string | null>(null);\r\n    const [showConfirmClear, setShowConfirmClear] = useState(false);\r\n    const [kotPrinted, setKotPrinted] = useState(false);\r\n    const [viewMode, setViewMode] = useState<'floor' | 'pos'>('floor'); // Floor View toggle\r\n    const [showOnlineModal, setShowOnlineModal] = useState(false); // Online order modal\r\n    const [onlineCustomer, setOnlineCustomer] = useState({ name: '', phone: '', address: '' });\r\n\r\n    const searchRef = useRef<HTMLInputElement>(null);\r\n\r\n    // Load saved data\r\n    useEffect(() => {\r\n        setMounted(true);\r\n        if (typeof window !== 'undefined') {\r\n            const savedHeldOrders = localStorage.getItem('pos_held_orders');\r\n            if (savedHeldOrders) setHeldOrders(JSON.parse(savedHeldOrders));\r\n\r\n            const savedCustomers = localStorage.getItem('pos_customers');\r\n            if (savedCustomers) setCustomers(JSON.parse(savedCustomers));\r\n\r\n            const savedQuickKeys = localStorage.getItem('pos_quick_keys');\r\n            if (savedQuickKeys) setQuickKeyItems(JSON.parse(savedQuickKeys));\r\n\r\n            const savedStaff = localStorage.getItem('pos_selected_staff'); // Load Staff\r\n            if (savedStaff) setSelectedStaff(savedStaff);\r\n        }\r\n    }, []);\r\n\r\n    // Save held orders\r\n    useEffect(() => {\r\n        if (mounted) {\r\n            localStorage.setItem('pos_held_orders', JSON.stringify(heldOrders));\r\n        }\r\n    }, [heldOrders, mounted]);\r\n\r\n    // Keyboard shortcuts\r\n    useEffect(() => {\r\n        const handleKeyDown = (e: KeyboardEvent) => {\r\n            // F1 - Focus Search\r\n            if (e.key === 'F1') {\r\n                e.preventDefault();\r\n                searchRef.current?.focus();\r\n            }\r\n            // F2 - Hold Order\r\n            if (e.key === 'F2') {\r\n                e.preventDefault();\r\n                holdCurrentOrder();\r\n            }\r\n            // F3 - Show Held Orders\r\n            if (e.key === 'F3') {\r\n                e.preventDefault();\r\n                setShowHeldOrders(true);\r\n            }\r\n            // F4 - Clear Cart\r\n            if (e.key === 'F4') {\r\n                e.preventDefault();\r\n                clearCart();\r\n            }\r\n            // F5 - Toggle Quick Keys\r\n            if (e.key === 'F5') {\r\n                e.preventDefault();\r\n                setShowQuickKeys(prev => !prev);\r\n            }\r\n            // F8 - Proceed to Payment\r\n            if (e.key === 'F8' && cart.length > 0) {\r\n                e.preventDefault();\r\n                setShowCheckout(true);\r\n            }\r\n            // F12 - Print Last Receipt\r\n            if (e.key === 'F12') {\r\n                e.preventDefault();\r\n                printLastReceipt();\r\n            }\r\n            // Escape - Close modals\r\n            if (e.key === 'Escape') {\r\n                setShowCheckout(false);\r\n                setShowHeldOrders(false);\r\n                setShowSplitBill(false);\r\n                setShowCustomerSearch(false);\r\n            }\r\n            // Number keys 1-9 for quick add (when not in input)\r\n            if (e.key >= '1' && e.key <= '9' && !(e.target instanceof HTMLInputElement)) {\r\n                const index = parseInt(e.key) - 1;\r\n                if (quickKeyItems[index]) {\r\n                    const item = items.find(i => i.id === quickKeyItems[index]);\r\n                    if (item) addToCart(item);\r\n                }\r\n            }\r\n        };\r\n\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => window.removeEventListener('keydown', handleKeyDown);\r\n    }, [cart, items, quickKeyItems]);\r\n\r\n    // Refresh Stats & Recent Orders\r\n    const refreshData = () => {\r\n        const stats = getDailyStats();\r\n        setTodaySales({\r\n            totalOrders: stats.totalOrders,\r\n            totalRevenue: stats.totalSales,\r\n            cashAmount: stats.cashSales,\r\n            upiAmount: stats.onlineSales\r\n        });\r\n        setLastOrders(getOrders().slice(0, 10)); // Get last 10\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (showSalesModal || showRecentModal) {\r\n            refreshData();\r\n        }\r\n    }, [showSalesModal, showRecentModal]);\r\n\r\n    // Get table statuses from active orders\r\n    const getTableStatus = useCallback((tableNum: string): { status: TableStatus; order?: Order } => {\r\n        const activeOrders = getOrders().filter(\r\n            o => o.type === 'Dine-in' &&\r\n                o.table === tableNum &&\r\n                o.status !== 'Completed' &&\r\n                o.status !== 'Cancelled'\r\n        );\r\n        if (activeOrders.length === 0) return { status: 'free' };\r\n        const order = activeOrders[0];\r\n        if (order.status === 'Ready') return { status: 'billing', order };\r\n        return { status: 'occupied', order };\r\n    }, []);\r\n\r\n    // Handle table click\r\n    const handleTableClick = (tableNum: string) => {\r\n        const { status, order } = getTableStatus(tableNum);\r\n        setTableNumber(tableNum);\r\n        setOrderType('Dine In');\r\n        if (status === 'free') {\r\n            setCart([]); // Start fresh order\r\n        }\r\n        setViewMode('pos');\r\n        setActiveTab('menu');\r\n    };\r\n\r\n    const activeItems = useMemo(() => {\r\n        return items.filter(item => item.status === 'Active');\r\n    }, [items]);\r\n\r\n    const filteredItems = useMemo(() => {\r\n        let result = activeItems;\r\n        if (activeCategory !== 'all') {\r\n            result = result.filter(item => item.categoryId === activeCategory);\r\n        }\r\n        if (searchQuery) {\r\n            const lowerQuery = searchQuery.toLowerCase();\r\n            result = result.filter(item =>\r\n                item.name.toLowerCase().includes(lowerQuery) ||\r\n                item.description.toLowerCase().includes(lowerQuery)\r\n            );\r\n        }\r\n        return result;\r\n    }, [activeItems, activeCategory, searchQuery]);\r\n\r\n    const addToCart = useCallback((item: MenuItem) => {\r\n        setCart(prev => {\r\n            const existing = prev.find(i => i.id === item.id);\r\n            if (existing) {\r\n                return prev.map(i => i.id === item.id ? { ...i, quantity: i.quantity + 1 } : i);\r\n            }\r\n            return [...prev, {\r\n                id: item.id,\r\n                name: item.name,\r\n                price: item.price,\r\n                quantity: 1,\r\n                veg: item.veg,\r\n                image: item.image\r\n            }];\r\n        });\r\n    }, []);\r\n\r\n    const removeFromCart = (itemId: string) => {\r\n        setCart(prev => {\r\n            const existing = prev.find(i => i.id === itemId);\r\n            if (existing && existing.quantity > 1) {\r\n                return prev.map(i => i.id === itemId ? { ...i, quantity: i.quantity - 1 } : i);\r\n            }\r\n            return prev.filter(i => i.id !== itemId);\r\n        });\r\n    };\r\n\r\n    const clearCart = () => {\r\n        if (cart.length > 0 && !showConfirmClear) {\r\n            setShowConfirmClear(true);\r\n            return;\r\n        }\r\n        setCart([]);\r\n        setDiscountValue(0);\r\n        setSelectedCustomer(null);\r\n        setParcelCharge(false);\r\n        setTipAmount(0);\r\n        setOrderNotes('');\r\n        setSelectedStaff('');\r\n        setAmountTendered(0);\r\n        setKotPrinted(false);\r\n        setShowConfirmClear(false);\r\n    };\r\n\r\n    const confirmClear = () => {\r\n        setCart([]);\r\n        setDiscountValue(0);\r\n        setSelectedCustomer(null);\r\n        setParcelCharge(false);\r\n        setTipAmount(0);\r\n        setOrderNotes('');\r\n        setSelectedStaff('');\r\n        setAmountTendered(0);\r\n        setKotPrinted(false);\r\n        setShowConfirmClear(false);\r\n    };\r\n\r\n    const updateItemNote = (itemId: string, note: string) => {\r\n        setCart(prev => prev.map(item =>\r\n            item.id === itemId ? { ...item, note } : item\r\n        ));\r\n        setEditingNoteId(null);\r\n    };\r\n\r\n    const getItemQty = (itemId: string) => cart.find(i => i.id === itemId)?.quantity || 0;\r\n\r\n    const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);\r\n    const discountAmount = discountType === 'percent'\r\n        ? Math.round(subtotal * discountValue / 100)\r\n        : discountValue;\r\n    const parcelAmount = parcelCharge && orderType !== 'Dine In' ? PARCEL_CHARGE : 0;\r\n    const taxableAmount = subtotal - discountAmount + parcelAmount;\r\n    const taxAmount = Math.round(taxableAmount * 0.05);\r\n    const cartTotal = taxableAmount + taxAmount + tipAmount;\r\n    const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);\r\n    const changeAmount = amountTendered > cartTotal ? amountTendered - cartTotal : 0;\r\n\r\n    // Hold Order\r\n    const holdCurrentOrder = () => {\r\n        if (cart.length === 0) return;\r\n        const held: HeldOrder = {\r\n            id: Date.now().toString(),\r\n            name: tableNumber ? `Table ${tableNumber}` : `Order ${heldOrders.length + 1}`,\r\n            cart: [...cart],\r\n            tableNumber,\r\n            orderType,\r\n            timestamp: Date.now()\r\n        };\r\n        setHeldOrders(prev => [...prev, held]);\r\n        clearCart();\r\n        setTableNumber('');\r\n    };\r\n\r\n    // Resume Held Order\r\n    const resumeHeldOrder = (order: HeldOrder) => {\r\n        setCart(order.cart);\r\n        setTableNumber(order.tableNumber);\r\n        setOrderType(order.orderType);\r\n        setHeldOrders(prev => prev.filter(o => o.id !== order.id));\r\n        setShowHeldOrders(false);\r\n    };\r\n\r\n    // Delete Held Order\r\n    const deleteHeldOrder = (orderId: string) => {\r\n        setHeldOrders(prev => prev.filter(o => o.id !== orderId));\r\n    };\r\n\r\n    // Add to Quick Keys\r\n    const addToQuickKeys = (itemId: string) => {\r\n        if (quickKeyItems.includes(itemId)) {\r\n            setQuickKeyItems(prev => prev.filter(id => id !== itemId));\r\n        } else if (quickKeyItems.length < 9) {\r\n            setQuickKeyItems(prev => [...prev, itemId]);\r\n        }\r\n        localStorage.setItem('pos_quick_keys', JSON.stringify(quickKeyItems));\r\n    };\r\n\r\n    // Print Receipt\r\n    const printReceipt = () => {\r\n        const receiptWindow = window.open('', '_blank', 'width=300,height=600');\r\n        if (!receiptWindow) return;\r\n\r\n        const receiptHTML = `\r\n            <!DOCTYPE html>\r\n            <html>\r\n            <head>\r\n                <title>Receipt</title>\r\n                <style>\r\n                    body { font-family: 'Courier New', monospace; font-size: 12px; padding: 10px; max-width: 280px; margin: 0 auto; }\r\n                    .center { text-align: center; }\r\n                    .bold { font-weight: bold; }\r\n                    .line { border-top: 1px dashed #000; margin: 10px 0; }\r\n                    .row { display: flex; justify-content: space-between; margin: 3px 0; }\r\n                    .note { font-size: 10px; color: #666; margin-left: 15px; }\r\n                    h1 { font-size: 18px; margin: 5px 0; }\r\n                    h2 { font-size: 14px; margin: 5px 0; }\r\n                </style>\r\n            </head>\r\n            <body>\r\n                <div class=\"center\">\r\n                    <h1>OYE CHATORO</h1>\r\n                    <p>Abu Road, Rajasthan</p>\r\n                    <p>Ph: 9509913792</p>\r\n                </div>\r\n                <div class=\"line\"></div>\r\n                <div class=\"row\"><span>Date:</span><span>${new Date().toLocaleDateString()}</span></div>\r\n                <div class=\"row\"><span>Time:</span><span>${new Date().toLocaleTimeString()}</span></div>\r\n                <div class=\"row\"><span>Type:</span><span>${orderType}</span></div>\r\n                ${tableNumber ? `<div class=\"row\"><span>Table:</span><span>${tableNumber}</span></div>` : ''}\r\n                ${selectedStaff ? `<div class=\"row\"><span>Staff:</span><span>${selectedStaff}</span></div>` : ''}\r\n                ${customerName ? `<div class=\"row\"><span>Customer:</span><span>${customerName}</span></div>` : ''}\r\n                <div class=\"line\"></div>\r\n                ${cart.map(item => `\r\n                    <div class=\"row\">\r\n                        <span>${item.quantity}x ${item.name}</span>\r\n                        <span>‚Çπ${item.price * item.quantity}</span>\r\n                    </div>\r\n                    ${item.note ? `<div class=\"note\">‚Ü≥ ${item.note}</div>` : ''}\r\n                `).join('')}\r\n                <div class=\"line\"></div>\r\n                <div class=\"row\"><span>Subtotal:</span><span>‚Çπ${subtotal}</span></div>\r\n                ${discountAmount > 0 ? `<div class=\"row\"><span>Discount:</span><span>-‚Çπ${discountAmount}</span></div>` : ''}\r\n                ${parcelAmount > 0 ? `<div class=\"row\"><span>Parcel Charge:</span><span>‚Çπ${parcelAmount}</span></div>` : ''}\r\n                <div class=\"row\"><span>GST (5%):</span><span>‚Çπ${taxAmount}</span></div>\r\n                ${tipAmount > 0 ? `<div class=\"row\"><span>Tip:</span><span>‚Çπ${tipAmount}</span></div>` : ''}\r\n                <div class=\"line\"></div>\r\n                <div class=\"row bold\"><span>TOTAL:</span><span>‚Çπ${cartTotal}</span></div>\r\n                ${paymentMethod === 'Cash' && amountTendered > 0 ? `\r\n                    <div class=\"row\"><span>Tendered:</span><span>‚Çπ${amountTendered}</span></div>\r\n                    <div class=\"row bold\"><span>Change:</span><span>‚Çπ${changeAmount}</span></div>\r\n                ` : ''}\r\n                <div class=\"row\"><span>Payment:</span><span>${paymentMethod}</span></div>\r\n                ${orderNotes ? `<div class=\"line\"></div><p><b>Notes:</b> ${orderNotes}</p>` : ''}\r\n                <div class=\"line\"></div>\r\n                <div class=\"center\">\r\n                    <p>Thank you for visiting!</p>\r\n                    <p>Please come again üôè</p>\r\n                </div>\r\n                <script>window.print(); window.close();</script>\r\n            </body>\r\n            </html>\r\n        `;\r\n        receiptWindow.document.write(receiptHTML);\r\n    };\r\n\r\n    // Print KOT (Kitchen Order Ticket)\r\n    const printKOT = () => {\r\n        const kotWindow = window.open('', '_blank', 'width=300,height=400');\r\n        if (!kotWindow) return;\r\n\r\n        const kotHTML = `\r\n            <!DOCTYPE html>\r\n            <html>\r\n            <head>\r\n                <title>KOT</title>\r\n                <style>\r\n                    body { font-family: 'Courier New', monospace; font-size: 14px; padding: 10px; max-width: 280px; margin: 0 auto; }\r\n                    .center { text-align: center; }\r\n                    .bold { font-weight: bold; font-size: 16px; }\r\n                    .line { border-top: 2px dashed #000; margin: 8px 0; }\r\n                    .item { margin: 8px 0; padding: 5px; background: #f5f5f5; }\r\n                    .qty { font-size: 20px; font-weight: bold; }\r\n                    .note { color: red; font-weight: bold; }\r\n                    h1 { font-size: 22px; margin: 5px 0; }\r\n                </style>\r\n            </head>\r\n            <body>\r\n                <div class=\"center\">\r\n                    <h1>üç≥ KITCHEN ORDER</h1>\r\n                    <p class=\"bold\">${new Date().toLocaleTimeString()}</p>\r\n                </div>\r\n                <div class=\"line\"></div>\r\n                <div class=\"bold\">${orderType} ${tableNumber ? '‚Ä¢ Table ' + tableNumber : ''}</div>\r\n                <div class=\"line\"></div>\r\n                ${cart.map(item => `\r\n                    <div class=\"item\">\r\n                        <span class=\"qty\">${item.quantity}x</span> ${item.name}\r\n                        ${item.note ? `<div class=\"note\">‚ö†Ô∏è ${item.note}</div>` : ''}\r\n                    </div>\r\n                `).join('')}\r\n                ${orderNotes ? `<div class=\"line\"></div><div class=\"note\">üìù ${orderNotes}</div>` : ''}\r\n                <div class=\"line\"></div>\r\n                <div class=\"center bold\">--- END OF KOT ---</div>\r\n                <script>window.print(); window.close();</script>\r\n            </body>\r\n            </html>\r\n        `;\r\n        kotWindow.document.write(kotHTML);\r\n        setKotPrinted(true);\r\n    };\r\n\r\n    const printLastReceipt = () => {\r\n        // In real implementation, would print last order\r\n        alert('No recent order to print');\r\n    };\r\n\r\n    // Save Customer\r\n    const saveCustomer = () => {\r\n        if (!customerPhone) return;\r\n\r\n        const existingIndex = customers.findIndex(c => c.phone === customerPhone);\r\n        if (existingIndex >= 0) {\r\n            const updated = [...customers];\r\n            updated[existingIndex] = {\r\n                ...updated[existingIndex],\r\n                name: customerName || updated[existingIndex].name,\r\n                totalOrders: updated[existingIndex].totalOrders + 1,\r\n                totalSpent: updated[existingIndex].totalSpent + cartTotal,\r\n                lastVisit: new Date().toISOString()\r\n            };\r\n            setCustomers(updated);\r\n        } else {\r\n            const newCustomer: Customer = {\r\n                id: Date.now().toString(),\r\n                name: customerName || 'Unknown',\r\n                phone: customerPhone,\r\n                totalOrders: 1,\r\n                totalSpent: cartTotal,\r\n                lastVisit: new Date().toISOString()\r\n            };\r\n            setCustomers(prev => [...prev, newCustomer]);\r\n        }\r\n        localStorage.setItem('pos_customers', JSON.stringify(customers));\r\n    };\r\n\r\n    // Search Customer\r\n    const searchCustomer = (phone: string) => {\r\n        const found = customers.find(c => c.phone === phone);\r\n        if (found) {\r\n            setSelectedCustomer(found);\r\n            setCustomerName(found.name);\r\n            setCustomerPhone(found.phone);\r\n        }\r\n    };\r\n\r\n    // Handle Checkout\r\n    const handleCheckout = () => {\r\n        if (cart.length === 0) return;\r\n\r\n        saveCustomer();\r\n\r\n        // Map orderType to Order type format\r\n        const typeMap: { [key: string]: 'Dine-in' | 'Takeaway' | 'Delivery' } = {\r\n            'Dine In': 'Dine-in',\r\n            'Takeaway': 'Takeaway',\r\n            'Delivery': 'Delivery'\r\n        };\r\n\r\n        const orderData = {\r\n            items: cart.map(item => `${item.name} (${item.quantity})`),\r\n            total: cartTotal,\r\n            type: typeMap[orderType],\r\n            table: orderType === 'Dine In' ? tableNumber : undefined,\r\n            customer: customerName || 'Walk-in Customer',\r\n            mobile: customerPhone || undefined,\r\n            paymentMethod,\r\n            paymentStatus: 'Paid' as const,\r\n            discount: discountAmount > 0 ? {\r\n                type: discountType === 'percent' ? 'percent' as const : 'amount' as const,\r\n                value: discountValue,\r\n                amount: discountAmount\r\n            } : undefined,\r\n            tip: tipAmount,\r\n            waiterName: selectedStaff,\r\n            waiterCalled: false,\r\n        };\r\n\r\n\r\n        createOrder(orderData);\r\n        printReceipt();\r\n\r\n        setShowSuccess(true);\r\n        setTimeout(() => {\r\n            setShowSuccess(false);\r\n            setShowCheckout(false);\r\n            clearCart();\r\n            setTableNumber('');\r\n            setCustomerName('');\r\n            setCustomerPhone('');\r\n            setSelectedCustomer(null);\r\n        }, 2000);\r\n    };\r\n\r\n    const handlePayLater = () => {\r\n        if (cart.length === 0) return;\r\n        saveCustomer();\r\n\r\n        const typeMap: { [key: string]: 'Dine-in' | 'Takeaway' | 'Delivery' } = {\r\n            'Dine In': 'Dine-in',\r\n            'Takeaway': 'Takeaway',\r\n            'Delivery': 'Delivery'\r\n        };\r\n\r\n        const orderData = {\r\n            items: cart.map(item => `${item.name} (${item.quantity})`),\r\n            total: cartTotal,\r\n            type: typeMap[orderType],\r\n            table: orderType === 'Dine In' ? tableNumber : undefined,\r\n            customer: customerName || 'Walk-in Customer',\r\n            mobile: customerPhone || undefined,\r\n            paymentMethod: 'Cash' as const, // Default for record, but status is Unpaid\r\n            paymentStatus: 'Unpaid' as const,\r\n            discount: discountAmount > 0 ? {\r\n                type: discountType === 'percent' ? 'percent' as const : 'amount' as const,\r\n                value: discountValue,\r\n                amount: discountAmount\r\n            } : undefined,\r\n            tip: tipAmount,\r\n            waiterName: selectedStaff\r\n        };\r\n\r\n        createOrder(orderData);\r\n        printReceipt(); // Optional: might want to print bill without 'Paid' stamp\r\n\r\n        setShowSuccess(true);\r\n        setTimeout(() => {\r\n            setShowSuccess(false);\r\n            setShowCheckout(false);\r\n            clearCart();\r\n            setTableNumber('');\r\n            setCustomerName('');\r\n            setCustomerPhone('');\r\n            setSelectedCustomer(null);\r\n        }, 2000);\r\n    };\r\n\r\n    // Split Bill Payment\r\n    const addSplitPayment = () => {\r\n        const remaining = cartTotal - splitPayments.reduce((s, p) => s + p.amount, 0);\r\n        if (remaining > 0) {\r\n            setSplitPayments(prev => [...prev, { method: 'Cash', amount: remaining }]);\r\n        }\r\n    };\r\n\r\n    const updateSplitPayment = (index: number, field: 'method' | 'amount', value: any) => {\r\n        setSplitPayments(prev => prev.map((p, i) => i === index ? { ...p, [field]: value } : p));\r\n    };\r\n\r\n    const removeSplitPayment = (index: number) => {\r\n        setSplitPayments(prev => prev.filter((_, i) => i !== index));\r\n    };\r\n\r\n    if (!mounted) return null;\r\n\r\n    const handleStaffChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n        const staff = e.target.value;\r\n        setSelectedStaff(staff);\r\n        localStorage.setItem('pos_selected_staff', staff);\r\n    };\r\n\r\n    return (\r\n        <div className=\"h-screen flex flex-col bg-gray-100 overflow-hidden\">\r\n            {/* Floor View - Table Layout */}\r\n            {viewMode === 'floor' && (\r\n                <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n                    {/* Floor Header */}\r\n                    <div className=\"bg-gradient-to-r from-orange-500 to-red-500 p-4\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <h1 className=\"text-2xl font-bold text-white\">ü™ë Table Floor</h1>\r\n                                <p className=\"text-white/80 text-sm\">Select a table to take order</p>\r\n                            </div>\r\n                            <div className=\"flex gap-2\">\r\n                                <button\r\n                                    onClick={() => setShowSalesModal(true)}\r\n                                    className=\"px-4 py-2 bg-white/20 text-white rounded-lg font-semibold text-sm hover:bg-white/30\"\r\n                                >\r\n                                    üìä Sales\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => setShowRecentModal(true)}\r\n                                    className=\"px-4 py-2 bg-white/20 text-white rounded-lg font-semibold text-sm hover:bg-white/30\"\r\n                                >\r\n                                    üïí Recent\r\n                                </button>\r\n                                <select\r\n                                    value={selectedStaff}\r\n                                    onChange={handleStaffChange}\r\n                                    className={`px-3 py-2 rounded-lg font-semibold text-sm ${!selectedStaff ? 'bg-red-100 text-red-600 animate-pulse' : 'bg-white/20 text-white'}`}\r\n                                >\r\n                                    <option value=\"\">üë§ Staff</option>\r\n                                    {STAFF_LIST.map(s => <option key={s} value={s}>{s}</option>)}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Legend */}\r\n                    <div className=\"bg-white border-b px-4 py-2 flex gap-4 text-xs\">\r\n                        <div className=\"flex items-center gap-1\"><span className=\"w-3 h-3 rounded bg-green-500\"></span> Free</div>\r\n                        <div className=\"flex items-center gap-1\"><span className=\"w-3 h-3 rounded bg-orange-500\"></span> Occupied</div>\r\n                        <div className=\"flex items-center gap-1\"><span className=\"w-3 h-3 rounded bg-red-500\"></span> Bill Ready</div>\r\n                    </div>\r\n\r\n                    {/* Table Grid */}\r\n                    <div className=\"flex-1 overflow-y-auto p-4\">\r\n                        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\r\n                            {Array.from({ length: TOTAL_TABLES }, (_, i) => {\r\n                                const tableNum = `T-${i + 1}`;\r\n                                const { status, order } = getTableStatus(tableNum);\r\n                                const bgColor = status === 'free' ? 'bg-green-50 border-green-500 hover:bg-green-100' :\r\n                                    status === 'occupied' ? 'bg-orange-50 border-orange-500 hover:bg-orange-100' :\r\n                                        'bg-red-50 border-red-500 hover:bg-red-100';\r\n                                const iconColor = status === 'free' ? 'text-green-500' :\r\n                                    status === 'occupied' ? 'text-orange-500' : 'text-red-500';\r\n\r\n                                return (\r\n                                    <button\r\n                                        key={tableNum}\r\n                                        onClick={() => handleTableClick(tableNum)}\r\n                                        className={`p-4 rounded-2xl border-2 ${bgColor} transition-all hover:scale-105 active:scale-95 text-left`}\r\n                                    >\r\n                                        <div className=\"flex items-center justify-between mb-2\">\r\n                                            <span className={`text-3xl ${iconColor}`}>ü™ë</span>\r\n                                            <span className={`text-xs font-bold px-2 py-1 rounded ${status === 'free' ? 'bg-green-500 text-white' : status === 'occupied' ? 'bg-orange-500 text-white' : 'bg-red-500 text-white'}`}>\r\n                                                {status === 'free' ? 'FREE' : status === 'occupied' ? 'BUSY' : 'BILL'}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className=\"text-xl font-bold text-gray-800\">{tableNum}</div>\r\n                                        {order && (\r\n                                            <div className=\"mt-2 text-sm\">\r\n                                                <div className=\"text-gray-500 truncate\">{order.items.slice(0, 2).join(', ')}</div>\r\n                                                <div className=\"font-bold text-orange-600\">‚Çπ{order.total}</div>\r\n                                            </div>\r\n                                        )}\r\n                                    </button>\r\n                                );\r\n                            })}\r\n                            {/* Takeaway Button */}\r\n                            <button\r\n                                onClick={() => { setOrderType('Takeaway'); setTableNumber(''); setViewMode('pos'); setActiveTab('menu'); }}\r\n                                className=\"p-4 rounded-2xl border-2 bg-blue-50 border-blue-500 hover:bg-blue-100 transition-all hover:scale-105 active:scale-95 text-left\"\r\n                            >\r\n                                <span className=\"text-3xl\">üì¶</span>\r\n                                <div className=\"text-xl font-bold text-gray-800 mt-2\">Takeaway</div>\r\n                                <div className=\"text-sm text-gray-500\">New parcel order</div>\r\n                            </button>\r\n                            {/* Delivery Button */}\r\n                            <button\r\n                                onClick={() => { setOrderType('Delivery'); setTableNumber(''); setViewMode('pos'); setActiveTab('menu'); }}\r\n                                className=\"p-4 rounded-2xl border-2 bg-purple-50 border-purple-500 hover:bg-purple-100 transition-all hover:scale-105 active:scale-95 text-left\"\r\n                            >\r\n                                <span className=\"text-3xl\">üöó</span>\r\n                                <div className=\"text-xl font-bold text-gray-800 mt-2\">Delivery</div>\r\n                                <div className=\"text-sm text-gray-500\">New delivery order</div>\r\n                            </button>\r\n                            {/* Online/Phone Order Button */}\r\n                            <button\r\n                                onClick={() => setShowOnlineModal(true)}\r\n                                className=\"p-4 rounded-2xl border-2 bg-teal-50 border-teal-500 hover:bg-teal-100 transition-all hover:scale-105 active:scale-95 text-left\"\r\n                            >\r\n                                <span className=\"text-3xl\">üìû</span>\r\n                                <div className=\"text-xl font-bold text-gray-800 mt-2\">Phone/Online</div>\r\n                                <div className=\"text-sm text-gray-500\">Customer call order</div>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* POS View - Menu & Cart */}\r\n            {viewMode === 'pos' && (\r\n                <div className=\"flex-1 flex flex-col md:flex-row overflow-hidden\">\r\n                    {/* Left Side - Menu */}\r\n                    <div className={`flex-1 flex flex-col overflow-hidden ${activeTab === 'cart' ? 'hidden md:flex' : 'flex'}`}>\r\n                        {/* Header */}\r\n                        <div className=\"bg-white border-b p-3 flex items-center gap-3\">\r\n                            <button\r\n                                onClick={() => setViewMode('floor')}\r\n                                className=\"px-3 py-2 rounded-lg bg-gray-800 text-white font-semibold text-xs flex items-center gap-1\"\r\n                            >\r\n                                ‚Üê Floor\r\n                            </button>\r\n                            {tableNumber && (\r\n                                <div className=\"px-3 py-2 bg-orange-100 text-orange-600 rounded-lg font-bold text-xs\">\r\n                                    ü™ë {tableNumber}\r\n                                </div>\r\n                            )}\r\n                            <div className=\"flex-1 relative\">\r\n                                <input\r\n                                    ref={searchRef}\r\n                                    type=\"text\"\r\n                                    placeholder=\"üîç Search items... (F1)\"\r\n                                    value={searchQuery}\r\n                                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                                    className=\"w-full pl-4 pr-4 py-2.5 rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-100 outline-none transition-all text-sm\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"flex gap-1\">\r\n                                {['Dine In', 'Takeaway', 'Delivery'].map(type => (\r\n                                    <button\r\n                                        key={type}\r\n                                        onClick={() => setOrderType(type as any)}\r\n                                        className={`px-3 py-2 rounded-lg font-semibold text-xs transition-all ${orderType === type ? 'bg-orange-500 text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n                                            }`}\r\n                                    >\r\n                                        {type === 'Dine In' && 'ü™ë'} {type === 'Takeaway' && 'üì¶'} {type === 'Delivery' && 'üöó'} {type}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                            <button\r\n                                onClick={() => setShowHeldOrders(true)}\r\n                                className=\"relative px-3 py-2 rounded-lg bg-blue-500 text-white font-semibold text-xs\"\r\n                            >\r\n                                üìã Held (F3)\r\n                                {heldOrders.length > 0 && (\r\n                                    <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-4 h-4 rounded-full flex items-center justify-center\">\r\n                                        {heldOrders.length}\r\n                                    </span>\r\n                                )}\r\n                            </button>\r\n\r\n                            <button\r\n                                onClick={() => setShowRecentModal(true)}\r\n                                className=\"px-3 py-2 rounded-lg bg-purple-100 text-purple-600 font-semibold text-xs border border-purple-200\"\r\n                            >\r\n                                üïí Recent\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setShowSalesModal(true)}\r\n                                className=\"px-3 py-2 rounded-lg bg-green-100 text-green-600 font-semibold text-xs border border-green-200\"\r\n                            >\r\n                                üìä Sales\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Quick Keys */}\r\n                        {showQuickKeys && quickKeyItems.length > 0 && (\r\n                            <div className=\"bg-gradient-to-r from-orange-500 to-red-500 px-3 py-2 flex gap-2 overflow-x-auto\">\r\n                                <span className=\"text-white/80 text-xs font-bold py-1\">QUICK:</span>\r\n                                {quickKeyItems.map((itemId, index) => {\r\n                                    const item = items.find(i => i.id === itemId);\r\n                                    if (!item) return null;\r\n                                    return (\r\n                                        <button\r\n                                            key={itemId}\r\n                                            onClick={() => addToCart(item)}\r\n                                            className=\"px-3 py-1 bg-white/20 hover:bg-white/30 rounded-lg text-white text-xs font-semibold whitespace-nowrap transition-all\"\r\n                                        >\r\n                                            [{index + 1}] {item.name}\r\n                                        </button>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Categories */}\r\n                        <div className=\"bg-white border-b px-3 py-2 flex gap-2 overflow-x-auto\">\r\n                            <button\r\n                                onClick={() => setActiveCategory('all')}\r\n                                className={`px-3 py-1.5 rounded-lg font-semibold text-xs whitespace-nowrap transition-all ${activeCategory === 'all' ? 'bg-orange-500 text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n                                    }`}\r\n                            >\r\n                                All\r\n                            </button>\r\n                            {categories.map(cat => (\r\n                                <button\r\n                                    key={cat.id}\r\n                                    onClick={() => setActiveCategory(cat.id)}\r\n                                    className={`px-3 py-1.5 rounded-lg font-semibold text-xs whitespace-nowrap transition-all ${activeCategory === cat.id ? 'bg-orange-500 text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n                                        }`}\r\n                                >\r\n                                    {cat.name}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n\r\n                        {/* Menu Grid */}\r\n                        <div className=\"flex-1 overflow-y-auto p-3\">\r\n                            <div className=\"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-2\">\r\n                                {filteredItems.map(item => {\r\n                                    const qty = getItemQty(item.id);\r\n                                    const isQuickKey = quickKeyItems.includes(item.id);\r\n                                    return (\r\n                                        <div\r\n                                            key={item.id}\r\n                                            className={`bg-white rounded-xl border-2 overflow-hidden cursor-pointer transition-all hover:shadow-lg active:scale-95 relative ${qty > 0 ? 'border-orange-500 shadow-md' : 'border-transparent'\r\n                                                }`}\r\n                                        >\r\n                                            <div onClick={() => addToCart(item)} className=\"h-20 relative bg-gray-100\">\r\n                                                {item.image ? (\r\n                                                    <Image src={item.image} alt={item.name} fill className=\"object-cover\" sizes=\"120px\" />\r\n                                                ) : (\r\n                                                    <div className=\"w-full h-full flex items-center justify-center text-2xl\">ü•ò</div>\r\n                                                )}\r\n                                                {qty > 0 && (\r\n                                                    <div className=\"absolute top-1 right-1 bg-orange-500 text-white w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold\">\r\n                                                        {qty}\r\n                                                    </div>\r\n                                                )}\r\n                                                <div className={`absolute top-1 left-1 w-3 h-3 rounded flex items-center justify-center border ${item.veg ? 'border-green-500 bg-white' : 'border-red-500 bg-white'}`}>\r\n                                                    <div className={`w-1.5 h-1.5 rounded-full ${item.veg ? 'bg-green-500' : 'bg-red-500'}`} />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"p-2\" onClick={() => addToCart(item)}>\r\n                                                <h3 className=\"font-semibold text-xs text-gray-800 line-clamp-1\">{item.name}</h3>\r\n                                                <p className=\"text-orange-600 font-bold text-sm\">‚Çπ{item.price}</p>\r\n                                            </div>\r\n                                            <button\r\n                                                onClick={(e) => { e.stopPropagation(); addToQuickKeys(item.id); }}\r\n                                                className={`absolute bottom-1 right-1 w-5 h-5 rounded text-[10px] ${isQuickKey ? 'bg-orange-500 text-white' : 'bg-gray-200 text-gray-500'}`}\r\n                                                title=\"Add to Quick Keys\"\r\n                                            >\r\n                                                ‚ö°\r\n                                            </button>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Keyboard Shortcuts Bar */}\r\n                        <div className=\"bg-gray-800 text-white px-3 py-2 flex gap-4 text-[10px] font-mono\">\r\n                            <span>F1: Search</span>\r\n                            <span>F2: Hold</span>\r\n                            <span>F3: Held Orders</span>\r\n                            <span>F4: Clear</span>\r\n                            <span>F5: Quick Keys</span>\r\n                            <span>F8: Pay</span>\r\n                            <span>F12: Print</span>\r\n                            <span>1-9: Quick Add</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Right Side - Cart */}\r\n                    <div className={`w-full md:w-96 bg-white border-l flex flex-col shadow-xl absolute md:relative inset-0 z-20 md:z-auto ${activeTab === 'menu' ? 'hidden md:flex' : 'flex'}`}>\r\n                        <div className=\"p-3 border-b bg-gradient-to-r from-gray-50 to-gray-100\">\r\n                            <div className=\"flex items-center justify-between mb-2\">\r\n                                <h2 className=\"text-lg font-bold text-gray-800\">üõí Current Order</h2>\r\n                                <div className=\"flex gap-1\">\r\n                                    {cart.length > 0 && (\r\n                                        <>\r\n                                            <button onClick={printKOT} className={`px-2 py-1 rounded text-xs font-semibold ${kotPrinted ? 'bg-green-100 text-green-600' : 'bg-yellow-100 text-yellow-600'}`}>\r\n                                                {kotPrinted ? '‚úì KOT' : 'üç≥ KOT'}\r\n                                            </button>\r\n                                            <button onClick={holdCurrentOrder} className=\"px-2 py-1 bg-blue-100 text-blue-600 rounded text-xs font-semibold\">‚è∏Ô∏è Hold</button>\r\n                                            <button onClick={clearCart} className=\"px-2 py-1 bg-red-100 text-red-600 rounded text-xs font-semibold\">üóëÔ∏è</button>\r\n                                        </>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                            {/* Order Info Row */}\r\n                            <div className=\"flex gap-2 flex-wrap\">\r\n                                {orderType === 'Dine In' && (\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        placeholder=\"ü™ë Table #\"\r\n                                        value={tableNumber}\r\n                                        onChange={(e) => setTableNumber(e.target.value)}\r\n                                        className=\"w-20 px-2 py-1.5 rounded-lg border border-gray-200 focus:border-orange-500 outline-none text-xs\"\r\n                                    />\r\n                                )}\r\n                                <select\r\n                                    value={selectedStaff}\r\n                                    onChange={handleStaffChange}\r\n                                    className={`px-2 py-1.5 rounded-lg border border-gray-200 text-xs ${!selectedStaff ? 'animate-pulse border-red-400 bg-red-50' : 'bg-white'}`}\r\n                                >\r\n                                    <option value=\"\">üë§ Staff</option>\r\n                                    {STAFF_LIST.map(staff => (\r\n                                        <option key={staff} value={staff}>{staff}</option>\r\n                                    ))}\r\n                                </select>\r\n                                <button\r\n                                    onClick={() => setShowCustomerSearch(true)}\r\n                                    className={`px-2 py-1.5 rounded-lg text-xs font-semibold ${selectedCustomer ? 'bg-green-100 text-green-600' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`}\r\n                                >\r\n                                    {selectedCustomer ? `‚úì ${selectedCustomer.name.split(' ')[0]}` : 'üë§ Customer'}\r\n                                </button>\r\n                            </div>\r\n                            {/* Order Notes */}\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"üìù Order notes (e.g., birthday, allergies...)\"\r\n                                value={orderNotes}\r\n                                onChange={(e) => setOrderNotes(e.target.value)}\r\n                                className=\"w-full mt-2 px-2 py-1.5 rounded-lg border border-gray-200 focus:border-orange-500 outline-none text-xs\"\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Cart Items */}\r\n                        <div className=\"flex-1 overflow-y-auto p-3 space-y-2\">\r\n                            {cart.length === 0 ? (\r\n                                <div className=\"flex flex-col items-center justify-center h-full text-gray-400\">\r\n                                    <span className=\"text-5xl mb-3\">üõí</span>\r\n                                    <p className=\"font-semibold text-sm\">Cart is empty</p>\r\n                                    <p className=\"text-xs\">Click items to add</p>\r\n                                </div>\r\n                            ) : (\r\n                                cart.map(item => (\r\n                                    <div key={item.id} className=\"p-2 bg-gray-50 rounded-xl\">\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <div className=\"w-10 h-10 rounded-lg bg-gray-200 overflow-hidden relative flex-shrink-0\">\r\n                                                {item.image ? (\r\n                                                    <Image src={item.image} alt={item.name} fill className=\"object-cover\" sizes=\"40px\" />\r\n                                                ) : (\r\n                                                    <div className=\"w-full h-full flex items-center justify-center text-lg\">ü•ò</div>\r\n                                                )}\r\n                                            </div>\r\n                                            <div className=\"flex-1 min-w-0\">\r\n                                                <h4 className=\"font-semibold text-xs text-gray-800 truncate\">{item.name}</h4>\r\n                                                <p className=\"text-orange-600 font-bold text-xs\">‚Çπ{item.price}</p>\r\n                                            </div>\r\n                                            <div className=\"flex items-center gap-1 bg-white rounded-lg border p-0.5\">\r\n                                                <button onClick={() => removeFromCart(item.id)} className=\"w-6 h-6 flex items-center justify-center hover:bg-gray-100 rounded font-bold text-gray-600 text-sm\">‚àí</button>\r\n                                                <span className=\"w-5 text-center font-semibold text-xs\">{item.quantity}</span>\r\n                                                <button onClick={() => addToCart(item as any)} className=\"w-6 h-6 flex items-center justify-center hover:bg-gray-100 rounded font-bold text-gray-600 text-sm\">+</button>\r\n                                            </div>\r\n                                            <div className=\"font-bold text-gray-800 w-12 text-right text-xs\">‚Çπ{item.price * item.quantity}</div>\r\n                                        </div>\r\n                                        {/* Item Note */}\r\n                                        {editingNoteId === item.id ? (\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                placeholder=\"Add note (e.g., extra spicy, no onion)\"\r\n                                                defaultValue={item.note || ''}\r\n                                                autoFocus\r\n                                                onBlur={(e) => updateItemNote(item.id, e.target.value)}\r\n                                                onKeyDown={(e) => { if (e.key === 'Enter') updateItemNote(item.id, (e.target as HTMLInputElement).value); }}\r\n                                                className=\"w-full mt-1 px-2 py-1 rounded border text-xs\"\r\n                                            />\r\n                                        ) : (\r\n                                            <button\r\n                                                onClick={() => setEditingNoteId(item.id)}\r\n                                                className=\"mt-1 text-xs text-gray-400 hover:text-orange-500\"\r\n                                            >\r\n                                                {item.note ? `‚úèÔ∏è ${item.note}` : '+ Add Note'}\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                ))\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Cart Footer */}\r\n                        {cart.length > 0 && (\r\n                            <div className=\"border-t p-3 bg-gradient-to-b from-gray-50 to-gray-100 space-y-2\">\r\n                                {/* Discount & Parcel Row */}\r\n                                <div className=\"flex gap-2 items-center\">\r\n                                    <select\r\n                                        value={discountType}\r\n                                        onChange={(e) => setDiscountType(e.target.value as any)}\r\n                                        className=\"px-2 py-1.5 rounded-lg border text-xs\"\r\n                                    >\r\n                                        <option value=\"percent\">%</option>\r\n                                        <option value=\"flat\">‚Çπ</option>\r\n                                    </select>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        placeholder=\"Discount\"\r\n                                        value={discountValue || ''}\r\n                                        onChange={(e) => setDiscountValue(Number(e.target.value))}\r\n                                        className=\"w-16 px-2 py-1.5 rounded-lg border text-xs\"\r\n                                    />\r\n                                    <button onClick={() => setDiscountValue(10)} className=\"px-2 py-1.5 bg-green-100 text-green-600 rounded-lg text-xs font-semibold\">10%</button>\r\n                                    <button onClick={() => setDiscountValue(20)} className=\"px-2 py-1.5 bg-green-100 text-green-600 rounded-lg text-xs font-semibold\">20%</button>\r\n                                    {orderType !== 'Dine In' && (\r\n                                        <button\r\n                                            onClick={() => setParcelCharge(!parcelCharge)}\r\n                                            className={`px-2 py-1.5 rounded-lg text-xs font-semibold ${parcelCharge ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-600'}`}\r\n                                        >\r\n                                            üì¶ +‚Çπ{PARCEL_CHARGE}\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* Tip Row */}\r\n                                <div className=\"flex gap-2 items-center\">\r\n                                    <span className=\"text-xs text-gray-500\">üíù Tip:</span>\r\n                                    <button onClick={() => setTipAmount(20)} className={`px-2 py-1 rounded text-xs ${tipAmount === 20 ? 'bg-pink-500 text-white' : 'bg-pink-100 text-pink-600'}`}>‚Çπ20</button>\r\n                                    <button onClick={() => setTipAmount(50)} className={`px-2 py-1 rounded text-xs ${tipAmount === 50 ? 'bg-pink-500 text-white' : 'bg-pink-100 text-pink-600'}`}>‚Çπ50</button>\r\n                                    <button onClick={() => setTipAmount(100)} className={`px-2 py-1 rounded text-xs ${tipAmount === 100 ? 'bg-pink-500 text-white' : 'bg-pink-100 text-pink-600'}`}>‚Çπ100</button>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        placeholder=\"Custom\"\r\n                                        value={tipAmount || ''}\r\n                                        onChange={(e) => setTipAmount(Number(e.target.value))}\r\n                                        className=\"w-16 px-2 py-1 rounded border text-xs\"\r\n                                    />\r\n                                    {tipAmount > 0 && <button onClick={() => setTipAmount(0)} className=\"text-xs text-red-500\">‚úï</button>}\r\n                                </div>\r\n\r\n                                {/* Totals */}\r\n                                <div className=\"space-y-1 text-xs bg-white rounded-lg p-2\">\r\n                                    <div className=\"flex justify-between text-gray-600\">\r\n                                        <span>Subtotal ({cartCount} items)</span>\r\n                                        <span>‚Çπ{subtotal}</span>\r\n                                    </div>\r\n                                    {discountAmount > 0 && (\r\n                                        <div className=\"flex justify-between text-green-600\">\r\n                                            <span>Discount ({discountType === 'percent' ? `${discountValue}%` : 'Flat'})</span>\r\n                                            <span>-‚Çπ{discountAmount}</span>\r\n                                        </div>\r\n                                    )}\r\n                                    {parcelAmount > 0 && (\r\n                                        <div className=\"flex justify-between text-blue-600\">\r\n                                            <span>üì¶ Parcel Charge</span>\r\n                                            <span>+‚Çπ{parcelAmount}</span>\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"flex justify-between text-gray-600\">\r\n                                        <span>GST (5%)</span>\r\n                                        <span>‚Çπ{taxAmount}</span>\r\n                                    </div>\r\n                                    {tipAmount > 0 && (\r\n                                        <div className=\"flex justify-between text-pink-600\">\r\n                                            <span>üíù Tip</span>\r\n                                            <span>+‚Çπ{tipAmount}</span>\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"flex justify-between text-xl font-bold text-gray-800 pt-2 border-t\">\r\n                                        <span>Total</span>\r\n                                        <span className=\"text-orange-600\">‚Çπ{cartTotal}</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Payment Buttons */}\r\n                                <div className=\"grid grid-cols-3 gap-2\">\r\n                                    {(['Cash', 'UPI', 'Card'] as const).map(method => (\r\n                                        <button\r\n                                            key={method}\r\n                                            onClick={() => { setPaymentMethod(method); setShowCheckout(true); }}\r\n                                            className=\"py-2.5 rounded-xl font-semibold text-xs bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-md hover:shadow-lg active:scale-95 transition-all\"\r\n                                        >\r\n                                            {method === 'Cash' && 'üíµ'} {method === 'UPI' && 'üì±'} {method === 'Card' && 'üí≥'} {method}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                                <div className=\"grid grid-cols-2 gap-2\">\r\n                                    <button\r\n                                        onClick={() => setShowSplitBill(true)}\r\n                                        className=\"py-2 rounded-xl font-semibold text-xs bg-purple-100 text-purple-600 hover:bg-purple-200 transition-all\"\r\n                                    >\r\n                                        ‚úÇÔ∏è Split Bill\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={printReceipt}\r\n                                        className=\"py-2 rounded-xl font-semibold text-xs bg-gray-100 text-gray-600 hover:bg-gray-200 transition-all\"\r\n                                    >\r\n                                        üñ®Ô∏è Print Only\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Mobile Bottom Nav */}\r\n                    <div className=\"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t flex z-30 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]\">\r\n                        <button\r\n                            onClick={() => setActiveTab('menu')}\r\n                            className={`flex-1 py-3 flex flex-col items-center justify-center gap-1 ${activeTab === 'menu' ? 'text-orange-600 bg-orange-50' : 'text-gray-500'}`}\r\n                        >\r\n                            <span className=\"text-xl\">üçî</span>\r\n                            <span className=\"text-xs font-bold\">Menu</span>\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setActiveTab('cart')}\r\n                            className={`flex-1 py-3 flex flex-col items-center justify-center gap-1 relative ${activeTab === 'cart' ? 'text-orange-600 bg-orange-50' : 'text-gray-500'}`}\r\n                        >\r\n                            <div className=\"relative\">\r\n                                <span className=\"text-xl\">üõí</span>\r\n                                {cartCount > 0 && (\r\n                                    <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] w-4 h-4 rounded-full flex items-center justify-center\">\r\n                                        {cartCount}\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n                            <span className=\"text-xs font-bold\">Cart (‚Çπ{cartTotal})</span>\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Held Orders Modal */}\r\n                    {\r\n                        showHeldOrders && (\r\n                            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\" onClick={() => setShowHeldOrders(false)}>\r\n                                <div className=\"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl max-h-[80vh] overflow-auto\" onClick={e => e.stopPropagation()}>\r\n                                    <h3 className=\"text-xl font-bold mb-4\">üìã Held Orders ({heldOrders.length})</h3>\r\n                                    {heldOrders.length === 0 ? (\r\n                                        <p className=\"text-gray-500 text-center py-8\">No held orders</p>\r\n                                    ) : (\r\n                                        <div className=\"space-y-3\">\r\n                                            {heldOrders.map(order => (\r\n                                                <div key={order.id} className=\"p-4 bg-gray-50 rounded-xl flex items-center gap-4\">\r\n                                                    <div className=\"flex-1\">\r\n                                                        <div className=\"font-bold\">{order.name}</div>\r\n                                                        <div className=\"text-sm text-gray-500\">\r\n                                                            {order.cart.length} items ‚Ä¢ ‚Çπ{order.cart.reduce((s, i) => s + i.price * i.quantity, 0)}\r\n                                                        </div>\r\n                                                        <div className=\"text-xs text-gray-400\">{new Date(order.timestamp).toLocaleTimeString()}</div>\r\n                                                    </div>\r\n                                                    <button onClick={() => resumeHeldOrder(order)} className=\"px-4 py-2 bg-green-500 text-white rounded-lg font-semibold text-sm\">Resume</button>\r\n                                                    <button onClick={() => deleteHeldOrder(order.id)} className=\"px-4 py-2 bg-red-100 text-red-600 rounded-lg font-semibold text-sm\">Delete</button>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    )}\r\n                                    <button onClick={() => setShowHeldOrders(false)} className=\"w-full mt-4 py-3 rounded-xl font-semibold bg-gray-100 hover:bg-gray-200\">Close</button>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                    {/* Customer Search Modal */}\r\n                    {\r\n                        showCustomerSearch && (\r\n                            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\" onClick={() => setShowCustomerSearch(false)}>\r\n                                <div className=\"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl\" onClick={e => e.stopPropagation()}>\r\n                                    <h3 className=\"text-xl font-bold mb-4\">üë§ Customer</h3>\r\n                                    <div className=\"space-y-3\">\r\n                                        <input\r\n                                            type=\"tel\"\r\n                                            placeholder=\"Phone Number\"\r\n                                            value={customerPhone}\r\n                                            onChange={(e) => { setCustomerPhone(e.target.value); searchCustomer(e.target.value); }}\r\n                                            className=\"w-full px-4 py-3 rounded-xl border focus:border-orange-500 outline-none\"\r\n                                        />\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            placeholder=\"Name\"\r\n                                            value={customerName}\r\n                                            onChange={(e) => setCustomerName(e.target.value)}\r\n                                            className=\"w-full px-4 py-3 rounded-xl border focus:border-orange-500 outline-none\"\r\n                                        />\r\n                                        {selectedCustomer && (\r\n                                            <div className=\"p-3 bg-green-50 rounded-xl\">\r\n                                                <p className=\"text-sm text-green-700\">‚úÖ Returning customer: {selectedCustomer.totalOrders} previous orders</p>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                    <div className=\"flex gap-3 mt-6\">\r\n                                        <button onClick={() => setShowCustomerSearch(false)} className=\"flex-1 py-3 rounded-xl font-semibold bg-gray-100\">Cancel</button>\r\n                                        <button onClick={() => setShowCustomerSearch(false)} className=\"flex-1 py-3 rounded-xl font-semibold bg-orange-500 text-white\">Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                    {/* Split Bill Modal */}\r\n                    {\r\n                        showSplitBill && (\r\n                            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\" onClick={() => setShowSplitBill(false)}>\r\n                                <div className=\"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl\" onClick={e => e.stopPropagation()}>\r\n                                    <h3 className=\"text-xl font-bold mb-4\">‚úÇÔ∏è Split Bill</h3>\r\n                                    <div className=\"text-center mb-4\">\r\n                                        <div className=\"text-3xl font-bold text-orange-600\">‚Çπ{cartTotal}</div>\r\n                                        <div className=\"text-sm text-gray-500\">Total Amount</div>\r\n                                    </div>\r\n                                    <div className=\"space-y-3 mb-4\">\r\n                                        {splitPayments.map((payment, index) => (\r\n                                            <div key={index} className=\"flex gap-2\">\r\n                                                <select\r\n                                                    value={payment.method}\r\n                                                    onChange={(e) => updateSplitPayment(index, 'method', e.target.value)}\r\n                                                    className=\"px-3 py-2 rounded-lg border\"\r\n                                                >\r\n                                                    <option>Cash</option>\r\n                                                    <option>UPI</option>\r\n                                                    <option>Card</option>\r\n                                                </select>\r\n                                                <input\r\n                                                    type=\"number\"\r\n                                                    value={payment.amount}\r\n                                                    onChange={(e) => updateSplitPayment(index, 'amount', Number(e.target.value))}\r\n                                                    className=\"flex-1 px-3 py-2 rounded-lg border\"\r\n                                                />\r\n                                                <button onClick={() => removeSplitPayment(index)} className=\"px-3 py-2 bg-red-100 text-red-600 rounded-lg\">√ó</button>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                    <button onClick={addSplitPayment} className=\"w-full py-2 rounded-lg border-2 border-dashed border-gray-300 text-gray-500 mb-4\">+ Add Payment</button>\r\n                                    <div className=\"flex gap-3\">\r\n                                        <button onClick={() => setShowSplitBill(false)} className=\"flex-1 py-3 rounded-xl font-semibold bg-gray-100\">Cancel</button>\r\n                                        <button onClick={() => { setShowSplitBill(false); setShowCheckout(true); }} className=\"flex-1 py-3 rounded-xl font-semibold bg-orange-500 text-white\">Confirm</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                    {/* Checkout Modal */}\r\n                    {\r\n                        showCheckout && (\r\n                            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\" onClick={() => setShowCheckout(false)}>\r\n                                <div className=\"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl\" onClick={e => e.stopPropagation()}>\r\n                                    {showSuccess ? (\r\n                                        <div className=\"text-center py-8\">\r\n                                            <div className=\"text-6xl mb-4\">‚úÖ</div>\r\n                                            <h3 className=\"text-2xl font-bold text-green-600 mb-2\">Order Placed!</h3>\r\n                                            <p className=\"text-gray-500\">Printing receipt...</p>\r\n                                            {changeAmount > 0 && (\r\n                                                <div className=\"mt-4 p-4 bg-green-50 rounded-xl\">\r\n                                                    <div className=\"text-lg\">Return Change</div>\r\n                                                    <div className=\"text-3xl font-bold text-green-600\">‚Çπ{changeAmount}</div>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    ) : (\r\n                                        <>\r\n                                            <h3 className=\"text-xl font-bold mb-4\">üí≥ Payment</h3>\r\n\r\n                                            {/* Order Summary */}\r\n                                            <div className=\"bg-gray-50 rounded-xl p-3 mb-4 text-sm space-y-1\">\r\n                                                <div className=\"flex justify-between\"><span>Items ({cartCount})</span><span>‚Çπ{subtotal}</span></div>\r\n                                                {discountAmount > 0 && <div className=\"flex justify-between text-green-600\"><span>Discount</span><span>-‚Çπ{discountAmount}</span></div>}\r\n                                                {parcelAmount > 0 && <div className=\"flex justify-between text-blue-600\"><span>Parcel</span><span>+‚Çπ{parcelAmount}</span></div>}\r\n                                                <div className=\"flex justify-between\"><span>GST</span><span>‚Çπ{taxAmount}</span></div>\r\n                                                {tipAmount > 0 && <div className=\"flex justify-between text-pink-600\"><span>Tip</span><span>+‚Çπ{tipAmount}</span></div>}\r\n                                            </div>\r\n\r\n                                            <div className=\"bg-orange-50 rounded-xl p-4 mb-4\">\r\n                                                <div className=\"flex justify-between text-2xl font-bold\">\r\n                                                    <span>Total</span>\r\n                                                    <span className=\"text-orange-600\">‚Çπ{cartTotal}</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            {/* Payment Method Selection */}\r\n                                            <div className=\"grid grid-cols-3 gap-2 mb-4\">\r\n                                                {(['Cash', 'UPI', 'Card'] as const).map(method => (\r\n                                                    <button\r\n                                                        key={method}\r\n                                                        onClick={() => setPaymentMethod(method)}\r\n                                                        className={`py-3 rounded-xl font-semibold transition-all ${paymentMethod === method ? 'bg-orange-500 text-white' : 'bg-gray-100 text-gray-600'}`}\r\n                                                    >\r\n                                                        {method === 'Cash' && 'üíµ'} {method === 'UPI' && 'üì±'} {method === 'Card' && 'üí≥'} {method}\r\n                                                    </button>\r\n                                                ))}\r\n                                            </div>\r\n                                            <button\r\n                                                onClick={handlePayLater}\r\n                                                className=\"w-full py-3 mb-4 rounded-xl font-bold text-sm bg-yellow-100 text-yellow-700 border border-yellow-300 hover:bg-yellow-200 transition-all\"\r\n                                            >\r\n                                                üïí Pay Later (Mark as Unpaid)\r\n                                            </button>\r\n\r\n                                            {/* Cash Payment - Amount Tendered */}\r\n                                            {paymentMethod === 'Cash' && (\r\n                                                <div className=\"mb-4 p-3 bg-yellow-50 rounded-xl\">\r\n                                                    <label className=\"text-sm font-semibold text-gray-600 mb-2 block\">üíµ Amount Received:</label>\r\n                                                    <div className=\"flex gap-2 mb-2\">\r\n                                                        {[cartTotal, Math.ceil(cartTotal / 100) * 100, Math.ceil(cartTotal / 500) * 500].map(amt => (\r\n                                                            <button\r\n                                                                key={amt}\r\n                                                                onClick={() => setAmountTendered(amt)}\r\n                                                                className={`px-3 py-2 rounded-lg text-sm font-semibold ${amountTendered === amt ? 'bg-green-500 text-white' : 'bg-white border'}`}\r\n                                                            >\r\n                                                                ‚Çπ{amt}\r\n                                                            </button>\r\n                                                        ))}\r\n                                                    </div>\r\n                                                    <input\r\n                                                        type=\"number\"\r\n                                                        value={amountTendered || ''}\r\n                                                        onChange={(e) => setAmountTendered(Number(e.target.value))}\r\n                                                        placeholder=\"Enter amount...\"\r\n                                                        className=\"w-full px-4 py-3 rounded-xl border text-xl font-bold text-center\"\r\n                                                    />\r\n                                                    {amountTendered >= cartTotal && (\r\n                                                        <div className=\"mt-3 p-3 bg-green-100 rounded-lg text-center\">\r\n                                                            <div className=\"text-sm text-green-600\">Change Due</div>\r\n                                                            <div className=\"text-3xl font-bold text-green-700\">‚Çπ{changeAmount}</div>\r\n                                                        </div>\r\n                                                    )}\r\n                                                    {amountTendered > 0 && amountTendered < cartTotal && (\r\n                                                        <div className=\"mt-3 p-3 bg-red-100 rounded-lg text-center\">\r\n                                                            <div className=\"text-sm text-red-600\">Amount Short</div>\r\n                                                            <div className=\"text-xl font-bold text-red-700\">‚Çπ{cartTotal - amountTendered}</div>\r\n                                                        </div>\r\n                                                    )}\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            <div className=\"flex gap-3\">\r\n                                                <button onClick={() => setShowCheckout(false)} className=\"flex-1 py-3 rounded-xl font-semibold bg-gray-100\">Cancel</button>\r\n                                                <button\r\n                                                    onClick={handleCheckout}\r\n                                                    disabled={paymentMethod === 'Cash' && amountTendered < cartTotal && amountTendered > 0}\r\n                                                    className=\"flex-1 py-3 rounded-xl font-semibold bg-gradient-to-r from-orange-500 to-red-500 text-white disabled:opacity-50\"\r\n                                                >\r\n                                                    ‚úì Confirm & Print\r\n                                                </button>\r\n                                            </div>\r\n                                        </>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                    {/* Confirm Clear Modal */}\r\n                    {\r\n                        showConfirmClear && (\r\n                            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n                                <div className=\"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl text-center\">\r\n                                    <div className=\"text-5xl mb-4\">‚ö†Ô∏è</div>\r\n                                    <h3 className=\"text-xl font-bold mb-2\">Clear Cart?</h3>\r\n                                    <p className=\"text-gray-500 mb-4\">This will remove all {cartCount} items from the cart.</p>\r\n                                    <div className=\"flex gap-3\">\r\n                                        <button onClick={() => setShowConfirmClear(false)} className=\"flex-1 py-3 rounded-xl font-semibold bg-gray-100\">Cancel</button>\r\n                                        <button onClick={confirmClear} className=\"flex-1 py-3 rounded-xl font-semibold bg-red-500 text-white\">Yes, Clear</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                    {/* Sales Modal */}\r\n                    {\r\n                        showSalesModal && (\r\n                            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\" onClick={() => setShowSalesModal(false)}>\r\n                                <div className=\"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl\" onClick={e => e.stopPropagation()}>\r\n                                    <h3 className=\"text-xl font-bold mb-6\">üìä Today's Sales</h3>\r\n                                    <div className=\"space-y-4\">\r\n                                        <div className=\"bg-orange-50 p-4 rounded-xl flex justify-between items-center\">\r\n                                            <span className=\"text-gray-600\">Total Revenue</span>\r\n                                            <span className=\"text-2xl font-bold text-orange-600\">‚Çπ{todaySales.totalRevenue}</span>\r\n                                        </div>\r\n                                        <div className=\"grid grid-cols-2 gap-4\">\r\n                                            <div className=\"bg-green-50 p-3 rounded-xl\">\r\n                                                <div className=\"text-xs text-gray-500 mb-1\">Cash</div>\r\n                                                <div className=\"text-lg font-bold text-green-600\">‚Çπ{todaySales.cashAmount}</div>\r\n                                            </div>\r\n                                            <div className=\"bg-blue-50 p-3 rounded-xl\">\r\n                                                <div className=\"text-xs text-gray-500 mb-1\">Online/UPI</div>\r\n                                                <div className=\"text-lg font-bold text-blue-600\">‚Çπ{todaySales.upiAmount}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"p-3 bg-gray-50 rounded-xl flex justify-between\">\r\n                                            <span className=\"text-gray-600\">Total Orders</span>\r\n                                            <span className=\"font-bold\">{todaySales.totalOrders}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <button onClick={() => setShowSalesModal(false)} className=\"w-full mt-6 py-3 rounded-xl font-semibold bg-gray-100\">Close</button>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                    {/* Recent Orders Modal */}\r\n                    {\r\n                        showRecentModal && (\r\n                            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\" onClick={() => setShowRecentModal(false)}>\r\n                                <div className=\"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl max-h-[80vh] overflow-auto\" onClick={e => e.stopPropagation()}>\r\n                                    <h3 className=\"text-xl font-bold mb-4\">üïí Recent Orders</h3>\r\n                                    <div className=\"space-y-3\">\r\n                                        {lastOrders.map(order => (\r\n                                            <div key={order.id} className=\"p-3 bg-gray-50 rounded-xl border border-gray-100\">\r\n                                                <div className=\"flex justify-between items-start mb-2\">\r\n                                                    <div>\r\n                                                        <div className=\"font-bold text-sm\">#{order.id} - {order.customer}</div>\r\n                                                        <div className=\"text-xs text-gray-500\">{order.items.join(', ')}</div>\r\n                                                    </div>\r\n                                                    <div className={`px-2 py-1 rounded text-xs font-bold ${order.paymentStatus === 'Paid' ? 'bg-green-100 text-green-600' : 'bg-red-100 text-red-600'}`}>\r\n                                                        {order.paymentStatus}\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"flex justify-between items-center text-xs text-gray-500\">\r\n                                                    <span>{new Date(order.createdAt || 0).toLocaleTimeString()}</span>\r\n                                                    <span className=\"font-bold text-gray-800 text-sm\">‚Çπ{order.total}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                    <button onClick={() => setShowRecentModal(false)} className=\"w-full mt-4 py-3 rounded-xl font-semibold bg-gray-100\">Close</button>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                </div>\r\n            )}\r\n\r\n            {/* Online Order Modal */}\r\n            {showOnlineModal && (\r\n                <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\" onClick={() => setShowOnlineModal(false)}>\r\n                    <div className=\"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl\" onClick={e => e.stopPropagation()}>\r\n                        <h3 className=\"text-xl font-bold mb-4\">üìû Online/Phone Order</h3>\r\n                        <p className=\"text-sm text-gray-500 mb-4\">Customer details for delivery/pickup</p>\r\n                        <div className=\"space-y-3\">\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"üë§ Customer Name *\"\r\n                                value={onlineCustomer.name}\r\n                                onChange={(e) => setOnlineCustomer(prev => ({ ...prev, name: e.target.value }))}\r\n                                className=\"w-full px-4 py-3 rounded-xl border focus:border-orange-500 outline-none\"\r\n                            />\r\n                            <input\r\n                                type=\"tel\"\r\n                                placeholder=\"üì± Phone Number *\"\r\n                                value={onlineCustomer.phone}\r\n                                onChange={(e) => setOnlineCustomer(prev => ({ ...prev, phone: e.target.value }))}\r\n                                className=\"w-full px-4 py-3 rounded-xl border focus:border-orange-500 outline-none\"\r\n                            />\r\n                            <textarea\r\n                                placeholder=\"üè† Delivery Address (if delivery)\"\r\n                                value={onlineCustomer.address}\r\n                                onChange={(e) => setOnlineCustomer(prev => ({ ...prev, address: e.target.value }))}\r\n                                className=\"w-full px-4 py-3 rounded-xl border focus:border-orange-500 outline-none resize-none\"\r\n                                rows={3}\r\n                            />\r\n                        </div>\r\n                        <div className=\"flex gap-3 mt-6\">\r\n                            <button onClick={() => setShowOnlineModal(false)} className=\"flex-1 py-3 rounded-xl font-semibold bg-gray-100\">Cancel</button>\r\n                            <button\r\n                                onClick={() => {\r\n                                    if (!onlineCustomer.name || !onlineCustomer.phone) {\r\n                                        alert('Please enter name and phone');\r\n                                        return;\r\n                                    }\r\n                                    setCustomerName(onlineCustomer.name);\r\n                                    setCustomerPhone(onlineCustomer.phone);\r\n                                    setOrderNotes(onlineCustomer.address ? `üìç ${onlineCustomer.address}` : '');\r\n                                    setOrderType('Delivery');\r\n                                    setTableNumber('');\r\n                                    setShowOnlineModal(false);\r\n                                    setViewMode('pos');\r\n                                    setActiveTab('menu');\r\n                                }}\r\n                                className=\"flex-1 py-3 rounded-xl font-semibold bg-gradient-to-r from-teal-500 to-green-500 text-white\"\r\n                            >\r\n                                Start Order ‚Üí\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}