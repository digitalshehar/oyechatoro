{"version":3,"sources":["../../../../app/profile/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { signOut } from 'next-auth/react';\r\nimport { useFavorites } from '../lib/storage';\r\nimport { useDbCustomer, useDbOrders, useDbCart, useDbMenu } from '../lib/db-hooks';\r\n\r\nexport default function ProfilePage() {\r\n    const { user, loading, updateUser } = useDbCustomer();\r\n    const { orders } = useDbOrders();\r\n    const { items: menuItems } = useDbMenu();\r\n    const router = useRouter();\r\n    const { addToCart } = useDbCart();\r\n    const { favorites } = useFavorites();\r\n    const [activeTab, setActiveTab] = useState('overview');\r\n    const [orderTab, setOrderTab] = useState<'active' | 'past'>('active');\r\n\r\n    // State for inputs\r\n    const [newAddress, setNewAddress] = useState({ label: '', text: '' });\r\n    const [isAddingAddress, setIsAddingAddress] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!loading && !user) {\r\n            router.push('/login?callbackUrl=/profile');\r\n        }\r\n    }, [loading, user, router]);\r\n\r\n    if (loading) {\r\n        return <div className=\"min-h-screen flex items-center justify-center\"><div className=\"animate-spin text-4xl\">ü•ò</div></div>;\r\n    }\r\n\r\n    if (!user) return null;\r\n\r\n    const myOrders = orders\r\n        .filter((o: any) => (user && user.id && o.userId === user.id) || (user && o.customer === user.name))\r\n        .sort((a: any, b: any) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\r\n\r\n    const activeOrders = myOrders.filter((o: any) => ['Pending', 'Cooking', 'Ready'].includes(o.status));\r\n    const pastOrders = myOrders.filter((o: any) => ['Completed', 'Cancelled'].includes(o.status));\r\n\r\n    // --- Feature Helpers ---\r\n    const triggerConfetti = () => { /* Confetti logic */ };\r\n\r\n    const handleReorder = async (order: any) => {\r\n        // Robust parsing: \"Item Name (Qty)\" or just \"Item Name\"\r\n        for (const itemStr of order.items) {\r\n            let name = itemStr;\r\n            let quantity = 1;\r\n\r\n            const match = itemStr.match(/(.*) \\((\\d+)\\)/);\r\n            if (match) {\r\n                name = match[1];\r\n                quantity = parseInt(match[2]);\r\n            }\r\n\r\n            // Find item in menu to get ID\r\n            const menuItem = menuItems.find(i => i.name.toLowerCase() === name.toLowerCase());\r\n            if (menuItem) {\r\n                await addToCart({ menuItemId: menuItem.id, quantity });\r\n            }\r\n        }\r\n        router.push('/');\r\n    };\r\n\r\n    const downloadInvoice = (order: any) => {\r\n        const element = document.createElement(\"a\");\r\n        const file = new Blob([`INVOICE #ORD-${order.id}\\nDate: ${new Date(order.createdAt).toLocaleString()}\\nTotal: ‚Çπ${order.total}`], { type: 'text/plain' });\r\n        element.href = URL.createObjectURL(file);\r\n        element.download = `Invoice-${order.id}.txt`;\r\n        document.body.appendChild(element);\r\n        element.click();\r\n    };\r\n\r\n    const getStepStatus = (orderStatus: string, step: string) => {\r\n        const steps = ['Pending', 'Cooking', 'Ready', 'Completed'];\r\n        const currentIndex = steps.indexOf(orderStatus);\r\n        const stepIndex = steps.indexOf(step);\r\n        if (orderStatus === 'Cancelled') return 'cancelled';\r\n        if (stepIndex < currentIndex) return 'completed';\r\n        if (stepIndex === currentIndex) return 'current';\r\n        return 'upcoming';\r\n    };\r\n\r\n    // --- Actions ---\r\n    const addAddress = () => {\r\n        if (!newAddress.label || !newAddress.text) return;\r\n        const addresses = user.addresses || [];\r\n        updateUser({ addresses: [...addresses, { id: Date.now().toString(), ...newAddress, isDefault: addresses.length === 0 }] });\r\n        setNewAddress({ label: '', text: '' });\r\n        setIsAddingAddress(false);\r\n    };\r\n\r\n    const removeAddress = (id: string) => {\r\n        const addresses = user.addresses?.filter((a: any) => a.id !== id) || [];\r\n        updateUser({ addresses });\r\n    };\r\n\r\n    const toggleDietary = (pref: string) => {\r\n        const current = user.preferences?.dietary || [];\r\n        const updated = current.includes(pref) ? current.filter((p: any) => p !== pref) : [...current, pref];\r\n        updateUser({ preferences: { ...user.preferences, dietary: updated, language: user.preferences?.language || 'en' } });\r\n    };\r\n\r\n    const updateLanguage = (lang: string) => {\r\n        updateUser({ preferences: { ...user.preferences, dietary: user.preferences?.dietary || [], language: lang } });\r\n    };\r\n\r\n    const updateDate = (field: 'birthday' | 'anniversary', value: string) => {\r\n        updateUser({ dates: { ...user.dates, birthday: user.dates?.birthday || '', anniversary: user.dates?.anniversary || '', [field]: value } });\r\n    };\r\n\r\n    // --- Render Sections ---\r\n\r\n    const renderOverview = () => (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 animate-in\">\r\n            {/* User Info Card */}\r\n            <div className=\"md:col-span-1\">\r\n                <div className=\"glass-card p-6 rounded-2xl text-center sticky top-8\">\r\n                    <div className=\"w-24 h-24 bg-gradient-to-br from-[var(--brand-primary)] to-orange-600 text-white rounded-full flex items-center justify-center text-4xl font-bold mx-auto mb-4 shadow-lg ring-4 ring-orange-100\">\r\n                        {user.name.charAt(0).toUpperCase()}\r\n                    </div>\r\n                    <h2 className=\"text-xl font-bold mb-1\">{user.name}</h2>\r\n                    <p className=\"text-[var(--text-muted)] text-sm mb-4\">{user.email}</p>\r\n\r\n                    <div className=\"flex justify-center gap-2 mb-6\">\r\n                        <div className=\"text-center px-4 py-2 bg-orange-50 rounded-lg\">\r\n                            <div className=\"text-xl font-bold text-orange-600\">{user.loyalty?.points || 0}</div>\r\n                            <div className=\"text-xs text-gray-500\">Points</div>\r\n                        </div>\r\n                        <div className=\"text-center px-4 py-2 bg-blue-50 rounded-lg\">\r\n                            <div className=\"text-xl font-bold text-blue-600\">{myOrders.length}</div>\r\n                            <div className=\"text-xs text-gray-500\">Orders</div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"mb-6\">\r\n                        <h3 className=\"font-bold text-sm text-[var(--text-muted)] mb-2\">MY FAVORITES ‚ù§Ô∏è</h3>\r\n                        <div className=\"flex flex-wrap gap-2 justify-center\">\r\n                            {favorites && favorites.length > 0 ? (\r\n                                favorites.map(fav => (\r\n                                    <span key={fav} className=\"bg-red-50 text-red-600 px-3 py-1 rounded-full text-xs font-medium border border-red-100\">{fav}</span>\r\n                                ))\r\n                            ) : <span className=\"text-xs text-gray-400\">No favorites yet</span>}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Order History */}\r\n            <div className=\"md:col-span-2 space-y-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <h2 className=\"text-2xl font-bold text-[var(--brand-dark)] flex items-center gap-2\"><span>üìú</span> Order History</h2>\r\n                    <div className=\"bg-white p-1 rounded-xl border border-gray-200 flex gap-1\">\r\n                        <button\r\n                            onClick={() => setOrderTab('active')}\r\n                            className={`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${orderTab === 'active' ? 'bg-[var(--brand-primary)] text-white shadow-sm' : 'text-gray-500 hover:bg-gray-50'}`}\r\n                        >\r\n                            Active ({activeOrders.length})\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setOrderTab('past')}\r\n                            className={`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${orderTab === 'past' ? 'bg-gray-800 text-white shadow-sm' : 'text-gray-500 hover:bg-gray-50'}`}\r\n                        >\r\n                            Past ({pastOrders.length})\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {(orderTab === 'active' ? activeOrders : pastOrders).length === 0 ? (\r\n                    <div className=\"glass-card p-12 rounded-2xl text-center text-[var(--text-muted)] flex flex-col items-center justify-center min-h-[300px]\">\r\n                        <div className=\"text-6xl mb-4 opacity-50\">{orderTab === 'active' ? 'üç≥' : 'üï∞Ô∏è'}</div>\r\n                        <h3 className=\"text-xl font-bold text-[var(--brand-dark)] mb-2\">No {orderTab} orders</h3>\r\n                        <p className=\"text-sm text-gray-500 mb-6\">\r\n                            {orderTab === 'active' ? \"You don't have any orders in progress.\" : \"You haven't placed any orders yet.\"}\r\n                        </p>\r\n                        <Link href=\"/#menu\" className=\"btn btn-primary btn-glow\">Start Ordering</Link>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"space-y-6\">\r\n                        {(orderTab === 'active' ? activeOrders : pastOrders).map((order: any) => (\r\n                            <div key={order.id} className=\"glass-card p-0 rounded-2xl hover:shadow-lg transition-all overflow-hidden border border-gray-100 group\">\r\n                                {/* Order Header */}\r\n                                <div className=\"p-6 border-b bg-gray-50/50 flex justify-between items-start\">\r\n                                    <div className=\"flex gap-4\">\r\n                                        <div className={`w-12 h-12 rounded-xl flex items-center justify-center text-2xl ${order.type === 'Delivery' ? 'bg-blue-100 text-blue-600' : order.type === 'Takeaway' ? 'bg-orange-100 text-orange-600' : 'bg-purple-100 text-purple-600'}`}>\r\n                                            {order.type === 'Delivery' ? 'üõµ' : order.type === 'Takeaway' ? 'üõçÔ∏è' : 'üçΩÔ∏è'}\r\n                                        </div>\r\n                                        <div>\r\n                                            <div className=\"flex items-center gap-3 mb-1\">\r\n                                                <span className=\"font-bold text-lg text-[var(--brand-dark)]\">Order #{order.id}</span>\r\n                                                <span className=\"text-xs font-bold text-gray-500 bg-white px-2 py-1 rounded border shadow-sm\">{new Date(order.createdAt).toLocaleTimeString()}</span>\r\n                                            </div>\r\n                                            <div className=\"text-sm text-[var(--text-muted)] font-medium\">{order.items.length} Items ‚Ä¢ {order.type}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"text-right\">\r\n                                        <div className=\"font-bold text-xl text-[var(--brand-primary)]\">‚Çπ{order.total}</div>\r\n                                        {orderTab === 'past' && (\r\n                                            <button onClick={() => downloadInvoice(order)} className=\"text-xs text-blue-600 hover:underline mt-1 flex items-center justify-end gap-1 font-bold\">\r\n                                                üìÑ Invoice\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Order Body */}\r\n                                <div className=\"p-6 bg-white\">\r\n                                    {/* Timeline for Active Orders */}\r\n                                    {orderTab === 'active' && (\r\n                                        <div className=\"mb-8 mt-2\">\r\n                                            <div className=\"relative flex justify-between items-center\">\r\n                                                <div className=\"absolute top-1/2 left-0 w-full h-1 bg-gray-100 -z-10 rounded-full\"></div>\r\n                                                <div className={`absolute top-1/2 left-0 h-1 bg-[var(--brand-primary)] -z-10 rounded-full transition-all duration-1000`} style={{ width: order.status === 'Pending' ? '15%' : order.status === 'Cooking' ? '50%' : '85%' }}></div>\r\n\r\n                                                {['Pending', 'Cooking', 'Ready', 'Completed'].map((step, idx) => {\r\n                                                    const status = getStepStatus(order.status, step);\r\n                                                    const isActive = status === 'current';\r\n                                                    const isCompleted = status === 'completed';\r\n\r\n                                                    return (\r\n                                                        <div key={step} className=\"flex flex-col items-center gap-2 bg-white px-2 relative\">\r\n                                                            <div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-500 ${isCompleted ? 'bg-green-500 text-white scale-110' : isActive ? 'bg-[var(--brand-primary)] text-white shadow-lg shadow-orange-200 scale-125 ring-4 ring-orange-50' : 'bg-gray-100 text-gray-300'}`}>\r\n                                                                {isCompleted ? '‚úì' : idx + 1}\r\n                                                            </div>\r\n                                                            <div className={`text-xs font-bold transition-colors ${isActive ? 'text-[var(--brand-primary)]' : isCompleted ? 'text-green-600' : 'text-gray-400'}`}>{step}</div>\r\n                                                        </div>\r\n                                                    );\r\n                                                })}\r\n                                            </div>\r\n\r\n                                            {/* Live Status Message */}\r\n                                            <div className=\"mt-6 bg-blue-50 border border-blue-100 rounded-xl p-4 flex items-center gap-3 animate-in fade-in slide-in-from-top-2\">\r\n                                                <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-ping\"></div>\r\n                                                <p className=\"text-sm text-blue-800 font-medium\">\r\n                                                    {order.status === 'Pending' && \"We've received your order! The kitchen will start soon.\"}\r\n                                                    {order.status === 'Cooking' && \"Your food is being prepared with love! üë®‚Äçüç≥\"}\r\n                                                    {order.status === 'Ready' && \"Your order is ready! Please collect it from the counter.\"}\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    {/* Items List */}\r\n                                    <div className=\"bg-gray-50 rounded-xl p-4 mt-4 border border-gray-100\">\r\n                                        <div className=\"space-y-3 mb-4 border-b border-gray-200 pb-4\">\r\n                                            {order.items.map((item: string, idx: number) => (\r\n                                                <div key={idx} className=\"flex items-center justify-between text-sm text-[var(--text-main)]\">\r\n                                                    <div className=\"flex items-center gap-3\">\r\n                                                        <span className=\"w-6 h-6 rounded-full bg-white border border-gray-200 flex items-center justify-center text-xs font-bold text-gray-500 shadow-sm\">\r\n                                                            {item.match(/\\((\\d+)\\)/)?.[1] || 1}x\r\n                                                        </span>\r\n                                                        <span className=\"font-medium\">{item.replace(/\\s*\\(\\d+\\)$/, '')}</span>\r\n                                                    </div>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                        <div className=\"space-y-2 text-sm\">\r\n                                            <div className=\"flex justify-between text-[var(--text-muted)]\"><span>Subtotal</span><span>‚Çπ{Math.round(order.total / 1.05)}</span></div>\r\n                                            <div className=\"flex justify-between text-[var(--text-muted)]\"><span>Tax (5%)</span><span>‚Çπ{order.total - Math.round(order.total / 1.05)}</span></div>\r\n                                            <div className=\"flex justify-between font-bold text-[var(--brand-dark)] pt-2 border-t mt-2 text-base\"><span>Grand Total</span><span>‚Çπ{order.total}</span></div>\r\n                                        </div>\r\n\r\n                                        {/* Actions */}\r\n                                        <div className=\"mt-6 pt-4 border-t flex justify-end gap-3\">\r\n                                            {orderTab === 'active' ? (\r\n                                                <button className=\"btn bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 btn-sm py-2 px-4 rounded-lg shadow-sm font-bold\">\r\n                                                    üí¨ Chat Support\r\n                                                </button>\r\n                                            ) : (\r\n                                                <button onClick={() => handleReorder(order)} className=\"btn btn-primary btn-sm py-2 px-6 rounded-lg shadow-lg shadow-orange-200 flex items-center gap-2 transform hover:scale-105 transition-transform\">\r\n                                                    <span>üîÑ</span> Order Again\r\n                                                </button>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderPersonalization = () => (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 animate-in\">\r\n            <div className=\"glass-card p-5 md:p-6 rounded-2xl\">\r\n                <h3 className=\"text-lg font-bold mb-4 flex items-center gap-2\">üìç Manage Addresses</h3>\r\n                <div className=\"space-y-4\">\r\n                    {user.addresses?.map((addr: any, i: number) => (\r\n                        <div key={i} className=\"p-4 border rounded-xl flex justify-between items-center bg-gray-50/50\">\r\n                            <div className=\"flex-1 min-w-0 pr-4\">\r\n                                <div className=\"font-bold text-sm truncate\">{addr.label} {addr.isDefault && <span className=\"text-[10px] bg-green-100 text-green-700 px-2 py-0.5 rounded ml-2 font-black uppercase\">Default</span>}</div>\r\n                                <div className=\"text-xs text-gray-500 truncate\">{addr.text}</div>\r\n                            </div>\r\n                            <button onClick={() => removeAddress(addr.id)} className=\"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors\">üóëÔ∏è</button>\r\n                        </div>\r\n                    ))}\r\n\r\n                    {isAddingAddress ? (\r\n                        <div className=\"p-4 border rounded-2xl bg-gray-50 space-y-3\">\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Label (e.g., Home)\"\r\n                                className=\"w-full p-3 border border-gray-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-primary)]\"\r\n                                value={newAddress.label}\r\n                                onChange={e => setNewAddress({ ...newAddress, label: e.target.value })}\r\n                            />\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Address Text\"\r\n                                className=\"w-full p-3 border border-gray-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-primary)]\"\r\n                                value={newAddress.text}\r\n                                onChange={e => setNewAddress({ ...newAddress, text: e.target.value })}\r\n                            />\r\n                            <div className=\"flex gap-2\">\r\n                                <button onClick={addAddress} className=\"btn btn-primary btn-sm flex-1 py-2.5\">Save</button>\r\n                                <button onClick={() => setIsAddingAddress(false)} className=\"btn btn-outline btn-sm flex-1 py-2.5\">Cancel</button>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <button onClick={() => setIsAddingAddress(true)} className=\"w-full py-4 border-2 border-dashed border-gray-300 rounded-2xl text-gray-500 hover:border-[var(--brand-primary)] hover:text-[var(--brand-primary)] transition-all font-bold text-sm\">+ Add New Address</button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"glass-card p-5 md:p-6 rounded-2xl\">\r\n                <h3 className=\"text-lg font-bold mb-4 flex items-center gap-2\">‚öôÔ∏è Preferences</h3>\r\n                <div className=\"space-y-6\">\r\n                    <div>\r\n                        <label className=\"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3\">Dietary Preferences</label>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                            {['Veg', 'Vegan', 'Jain', 'Spicy'].map(opt => (\r\n                                <button\r\n                                    key={opt}\r\n                                    onClick={() => toggleDietary(opt)}\r\n                                    className={`px-4 py-2 rounded-full text-sm font-bold border transition-all ${user.preferences?.dietary.includes(opt) ? 'bg-green-500 border-green-500 text-white shadow-lg shadow-green-100' : 'bg-white border-gray-200 text-gray-500 hover:border-gray-300'}`}\r\n                                >\r\n                                    {opt}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3\">Language</label>\r\n                        <select\r\n                            className=\"w-full p-3 border border-gray-200 rounded-xl bg-white outline-none focus:ring-2 focus:ring-[var(--brand-primary)] text-sm font-medium\"\r\n                            value={user.preferences?.language || 'en'}\r\n                            onChange={(e) => updateLanguage(e.target.value)}\r\n                        >\r\n                            <option value=\"en\">English</option>\r\n                            <option value=\"hi\">Hindi</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"glass-card p-5 md:p-6 rounded-2xl\">\r\n                <h3 className=\"text-lg font-bold mb-4 flex items-center gap-2\">üí≥ Payments</h3>\r\n                <div className=\"space-y-3\">\r\n                    <div className=\"p-4 border rounded-xl flex items-center gap-4 bg-gray-50/50\">\r\n                        <div className=\"w-10 h-10 bg-white rounded-lg flex items-center justify-center text-xl shadow-sm\">üí≥</div>\r\n                        <div className=\"flex-1\">\r\n                            <div className=\"font-bold text-sm\">Visa ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 4242</div>\r\n                            <div className=\"text-[10px] text-gray-500 font-bold\">EXPIRES 12/25</div>\r\n                        </div>\r\n                        <span className=\"text-[10px] bg-gray-200 px-2 py-0.5 rounded font-black uppercase text-gray-600\">Default</span>\r\n                    </div>\r\n                    <button className=\"w-full py-3 bg-white border border-gray-200 rounded-xl text-sm font-bold text-[var(--brand-primary)] hover:bg-gray-50 transition-colors\">+ Add New Card</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"glass-card p-5 md:p-6 rounded-2xl\">\r\n                <h3 className=\"text-lg font-bold mb-4 flex items-center gap-2\">üìÖ Important Dates</h3>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                        <label className=\"block text-[10px] font-bold text-gray-400 uppercase mb-2\">Birthday</label>\r\n                        <input\r\n                            type=\"date\"\r\n                            className=\"w-full p-3 border border-gray-200 rounded-xl text-xs sm:text-sm outline-none focus:ring-2 focus:ring-[var(--brand-primary)]\"\r\n                            value={user.dates?.birthday || ''}\r\n                            onChange={(e) => updateDate('birthday', e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-[10px] font-bold text-gray-400 uppercase mb-2\">Anniversary</label>\r\n                        <input\r\n                            type=\"date\"\r\n                            className=\"w-full p-3 border border-gray-200 rounded-xl text-xs sm:text-sm outline-none focus:ring-2 focus:ring-[var(--brand-primary)]\"\r\n                            value={user.dates?.anniversary || ''}\r\n                            onChange={(e) => updateDate('anniversary', e.target.value)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <p className=\"text-[10px] text-gray-400 mt-4 leading-relaxed font-medium\">We'll send you a special treat on these days! üéÅ</p>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderLoyalty = () => (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 animate-in\">\r\n            <div className=\"glass-card p-6 sm:p-8 rounded-3xl bg-gradient-to-br from-indigo-900 to-purple-800 text-white md:col-span-2 shadow-xl shadow-purple-100 relative overflow-hidden\">\r\n                {/* Decorative Pattern */}\r\n                <div className=\"absolute top-0 right-0 p-8 opacity-10 pointer-events-none text-9xl\">üèÜ</div>\r\n\r\n                <div className=\"flex flex-col sm:flex-row justify-between items-start gap-6 relative z-10\">\r\n                    <div>\r\n                        <div className=\"text-indigo-200 text-xs font-bold uppercase tracking-widest mb-2\">Total Points Balance</div>\r\n                        <div className=\"text-6xl font-black mb-6 drop-shadow-md\">{user.loyalty?.points || 0}</div>\r\n                        <div className=\"inline-flex items-center gap-2 bg-white/20 px-4 py-1.5 rounded-full text-sm font-bold backdrop-blur-md border border-white/20\">\r\n                            <span className=\"animate-pulse text-yellow-400\">üèÜ</span> {user.loyalty?.tier || 'Bronze'} Member\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"bg-white/10 p-4 rounded-2xl backdrop-blur-md border border-white/10 w-full sm:w-auto text-center sm:text-right\">\r\n                        <div className=\"text-indigo-200 text-[10px] font-bold uppercase mb-1\">Current Streak</div>\r\n                        <div className=\"text-3xl font-black flex items-center justify-center sm:justify-end gap-2\">\r\n                            <span>üî•</span> {user.loyalty?.streak || 0} Days\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"mt-10 relative z-10\">\r\n                    <div className=\"flex justify-between text-xs font-bold text-indigo-100 mb-3\">\r\n                        <span>PROGRESS TO SILVER</span>\r\n                        <span className=\"font-mono\">350 / 1000 PTS</span>\r\n                    </div>\r\n                    <div className=\"w-full bg-black/30 h-3 rounded-full overflow-hidden border border-white/10\">\r\n                        <div className=\"bg-gradient-to-r from-yellow-400 to-orange-400 h-full w-[35%] shadow-[0_0_15px_rgba(250,204,21,0.5)]\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"glass-card p-6 rounded-2xl\">\r\n                <h3 className=\"text-lg font-bold mb-4 flex items-center gap-2\">ü§ù Referral Program</h3>\r\n                <div className=\"bg-blue-50/50 p-6 rounded-2xl border border-blue-100 text-center\">\r\n                    <p className=\"text-xs sm:text-sm text-blue-800 font-bold mb-4 uppercase tracking-tighter\">Share code & earn 100 points!</p>\r\n                    <div className=\"text-3xl font-mono font-black text-blue-600 tracking-[0.2em] mb-4 bg-white p-4 rounded-2xl border border-dashed border-blue-300 shadow-sm\">\r\n                        {user.referralCode || 'OYE123'}\r\n                    </div>\r\n                    <button className=\"text-xs text-blue-600 font-black hover:underline uppercase tracking-widest\">üìã Copy Code</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"glass-card p-6 rounded-2xl\">\r\n                <h3 className=\"text-lg font-bold mb-4 flex items-center gap-2\">üèÖ Badges</h3>\r\n                <div className=\"grid grid-cols-4 gap-3\">\r\n                    {['üçï', 'ü•ó', 'üî•', '‚≠ê'].map((emoji, i) => (\r\n                        <div key={i} className=\"aspect-square bg-gray-50 border border-gray-100 rounded-2xl flex items-center justify-center text-3xl grayscale opacity-30 hover:grayscale-0 hover:opacity-100 transition-all cursor-help hover:scale-110 active:scale-95\" title=\"Locked Badge\">\r\n                            {emoji}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                <p className=\"text-[10px] text-gray-400 text-center mt-4 font-bold uppercase tracking-widest\">Order more to unlock badges!</p>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderUtility = () => (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 animate-in pb-12\">\r\n            <div className=\"glass-card p-5 md:p-6 rounded-2xl\">\r\n                <h3 className=\"text-lg font-bold mb-4\">üìä Feeding Your Cravings</h3>\r\n                <div className=\"space-y-4\">\r\n                    {[{ l: 'Pizza', v: '60%' }, { l: 'Chaat', v: '30%' }, { l: 'Pasta', v: '10%' }].map(stat => (\r\n                        <div key={stat.l}>\r\n                            <div className=\"flex justify-between text-xs font-bold mb-2\">\r\n                                <span className=\"text-gray-600 uppercase tracking-wider\">{stat.l}</span>\r\n                                <span className=\"text-[var(--brand-primary)]\">{stat.v}</span>\r\n                            </div>\r\n                            <div className=\"w-full bg-gray-100 h-2.5 rounded-full overflow-hidden border border-gray-50\">\r\n                                <div\r\n                                    className=\"bg-gradient-to-r from-[var(--brand-primary)] to-orange-400 h-full rounded-full transition-all duration-1000\"\r\n                                    style={{ width: stat.v }}\r\n                                ></div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"glass-card p-5 md:p-6 rounded-2xl\">\r\n                <h3 className=\"text-lg font-bold mb-4\">üîî Notification Center</h3>\r\n                <div className=\"space-y-3 max-h-[250px] overflow-y-auto no-scrollbar pr-1\">\r\n                    <div className=\"flex gap-4 items-start p-4 bg-blue-50/50 rounded-2xl border border-blue-100\">\r\n                        <span className=\"text-2xl bg-white w-10 h-10 rounded-xl flex items-center justify-center shadow-sm\">üéâ</span>\r\n                        <div>\r\n                            <div className=\"text-sm font-black text-blue-900 mb-1\">Welcome Bonus</div>\r\n                            <div className=\"text-[10px] text-blue-700 font-bold uppercase tracking-tight\">You earned 50 points for joining!</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex gap-4 items-start p-4 bg-gray-50/50 rounded-2xl border border-gray-100 opacity-60\">\r\n                        <span className=\"text-2xl bg-white w-10 h-10 rounded-xl flex items-center justify-center shadow-sm\">üì¶</span>\r\n                        <div>\r\n                            <div className=\"text-sm font-black text-gray-800 mb-1\">Order Delivered</div>\r\n                            <div className=\"text-[10px] text-gray-600 font-bold uppercase tracking-tight\">Your order #123 was delivered.</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"glass-card p-5 md:p-8 rounded-3xl md:col-span-2 bg-[var(--brand-dark)] text-white shadow-xl shadow-gray-200\">\r\n                <h3 className=\"text-xl font-black mb-6 flex items-center gap-3\"><span>üí¨</span> Help & Support</h3>\r\n                <div className=\"flex flex-col sm:flex-row gap-4\">\r\n                    <button className=\"flex-1 py-4 bg-green-500 text-white rounded-2xl font-black shadow-lg shadow-green-900/20 hover:opacity-90 transition-all flex items-center justify-center gap-3 active:scale-95\">\r\n                        <span className=\"text-xl\">üí¨</span> WhatsApp Chat\r\n                    </button>\r\n                    <button className=\"flex-1 py-4 bg-white/10 text-white rounded-2xl font-black border border-white/20 hover:bg-white/20 transition-all flex items-center justify-center gap-3 active:scale-95\">\r\n                        <span className=\"text-xl\">üìß</span> Email Support\r\n                    </button>\r\n                </div>\r\n                <div className=\"mt-8 pt-8 border-t border-white/10 text-center\">\r\n                    <button className=\"text-red-400 text-xs font-bold uppercase tracking-widest hover:text-red-300 transition-colors\">\r\n                        Delete My Account\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[var(--bg-light)] p-4 md:p-8\">\r\n            <div className=\"max-w-5xl mx-auto\">\r\n                {/* Header */}\r\n                <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4 animate-in\">\r\n                    <div>\r\n                        <h1 className=\"text-2xl md:text-3xl font-bold text-[var(--brand-dark)]\">My Profile</h1>\r\n                        <p className=\"text-sm md:text-base text-[var(--text-muted)]\">Welcome back, {user.name.split(' ')[0]}!</p>\r\n                    </div>\r\n                    <div className=\"flex gap-3 w-full sm:w-auto\">\r\n                        <Link href=\"/\" className=\"flex-1 sm:flex-none btn btn-outline py-2.5 text-sm\">‚Üê Home</Link>\r\n                        <button onClick={() => { signOut({ callbackUrl: '/' }); }} className=\"flex-1 sm:flex-none btn bg-red-50 text-red-600 hover:bg-red-100 py-2.5 text-sm\">Logout</button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Tabs */}\r\n                <div className=\"flex overflow-x-auto gap-2 mb-8 pb-3 no-scrollbar -mx-4 px-4 sm:mx-0 sm:px-0\">\r\n                    {['overview', 'personalization', 'loyalty', 'utility'].map(tab => (\r\n                        <button\r\n                            key={tab}\r\n                            onClick={() => setActiveTab(tab)}\r\n                            className={`px-6 py-3 rounded-xl font-bold whitespace-nowrap transition-all text-sm ${activeTab === tab\r\n                                ? 'bg-[var(--brand-dark)] text-white shadow-lg scale-105'\r\n                                : 'bg-white text-gray-500 hover:bg-gray-50 border border-transparent hover:border-gray-200'\r\n                                }`}\r\n                        >\r\n                            {tab.charAt(0).toUpperCase() + tab.slice(1)}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Content */}\r\n                {activeTab === 'overview' && renderOverview()}\r\n                {activeTab === 'personalization' && renderPersonalization()}\r\n                {activeTab === 'loyalty' && renderLoyalty()}\r\n                {activeTab === 'utility' && renderUtility()}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}