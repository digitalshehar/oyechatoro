{"version":3,"sources":["../../../../app/dashboard/kitchen/page.tsx","../../../../app/components/chef/ChefHeader.tsx","../../../../app/components/chef/TicketCard.tsx","../../../../app/components/chef/ItemView.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect, useRef, useMemo } from 'react';\r\nimport { useDbOrders, Order } from '../../lib/db-hooks';\r\nimport { ChefHeader, TicketCard, ItemView } from '../../components/chef';\r\n\r\nexport default function KitchenPage() {\r\n    const { orders: allOrders, updateOrder } = useDbOrders();\r\n    const [viewMode, setViewMode] = useState<'active' | 'history' | 'stats'>('active');\r\n    const [currentTime, setCurrentTime] = useState(Date.now());\r\n    const [isSoundEnabled, setIsSoundEnabled] = useState(true);\r\n    const [isTVMode, setIsTVMode] = useState(false);\r\n    const [orderTypeFilter, setOrderTypeFilter] = useState<'all' | 'dine-in' | 'takeaway'>('all');\r\n    const [stationFilter, setStationFilter] = useState<'all' | 'tandoor' | 'chinese' | 'curry'>('all');\r\n\r\n    // Modals state (placeholders for now)\r\n    const [showPrepModal, setShowPrepModal] = useState(false);\r\n    const [showWasteModal, setShowWasteModal] = useState(false);\r\n\r\n    const prevOrderCountRef = useRef(0);\r\n\r\n    // Filter Logic\r\n    const filteredOrders = useMemo(() => {\r\n        let orders = allOrders.filter(o => o.status === 'Pending' || o.status === 'Cooking');\r\n\r\n        if (orderTypeFilter !== 'all') {\r\n            if (orderTypeFilter === 'dine-in') {\r\n                orders = orders.filter(o => o.type === 'DineIn');\r\n            } else {\r\n                orders = orders.filter(o => o.type === 'Takeaway' || o.type === 'Delivery');\r\n            }\r\n        }\r\n\r\n        // Station filtering logic (filtering ITEMS within orders or flagging orders?)\r\n        // For KDS, usually we filter orders that *contain* items from that station.\r\n        // Or strictly show only items from that station.\r\n        // For now, let's filter orders that have at least one item from the station?\r\n        // Actually, simpler: in Item View it filters items. In Ticket View... it's tricky.\r\n        // Let's implement naive text match on item names for now since we don't have explicit station mapping in DB yet.\r\n        if (stationFilter !== 'all') {\r\n            const keywords: Record<string, string[]> = {\r\n                tandoor: ['tandoor', 'tikka', 'naan', 'roti', 'kebab'],\r\n                chinese: ['noodles', 'manchurian', 'rice', 'soup', 'chilli'],\r\n                curry: ['paneer', 'dal', 'kofta', 'masala', 'curry']\r\n            };\r\n            const matchWords = keywords[stationFilter] || [];\r\n            orders = orders.filter(o => {\r\n                const items = o.items as any[];\r\n                return items.some(i => matchWords.some(w => i.name.toLowerCase().includes(w)));\r\n            });\r\n        }\r\n\r\n        return orders.sort((a, b) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime());\r\n    }, [allOrders, orderTypeFilter, stationFilter]);\r\n\r\n    // Timer Logic\r\n    useEffect(() => {\r\n        const timer = setInterval(() => setCurrentTime(Date.now()), 10000);\r\n        return () => clearInterval(timer);\r\n    }, []);\r\n\r\n    // Sound Logic\r\n    useEffect(() => {\r\n        const playSound = () => {\r\n            try {\r\n                const AudioContext = window.AudioContext || (window as any).webkitAudioContext;\r\n                if (!AudioContext) return;\r\n                const ctx = new AudioContext();\r\n                const osc = ctx.createOscillator();\r\n                const gain = ctx.createGain();\r\n                osc.connect(gain);\r\n                gain.connect(ctx.destination);\r\n                osc.type = 'square';\r\n                osc.frequency.setValueAtTime(600, ctx.currentTime);\r\n                osc.frequency.exponentialRampToValueAtTime(300, ctx.currentTime + 0.5);\r\n                gain.gain.setValueAtTime(0.3, ctx.currentTime);\r\n                gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.5);\r\n                osc.start();\r\n                osc.stop(ctx.currentTime + 0.5);\r\n            } catch (e) { console.error(e); }\r\n        };\r\n\r\n        if (filteredOrders.length > prevOrderCountRef.current) {\r\n            if (isSoundEnabled) playSound();\r\n        }\r\n        prevOrderCountRef.current = filteredOrders.length;\r\n    }, [filteredOrders.length, isSoundEnabled]);\r\n\r\n    // Item Aggregation\r\n    const aggregatedItems = useMemo(() => {\r\n        return filteredOrders.reduce((acc: { [key: string]: number }, order) => {\r\n            const items = order.items as any[];\r\n            if (Array.isArray(items)) {\r\n                items.forEach((item) => {\r\n                    // Apply station filter to items too if active\r\n                    if (stationFilter !== 'all') {\r\n                        const keywords: Record<string, string[]> = {\r\n                            tandoor: ['tandoor', 'tikka', 'naan', 'roti', 'kebab'],\r\n                            chinese: ['noodles', 'manchurian', 'rice', 'soup', 'chilli'],\r\n                            curry: ['paneer', 'dal', 'kofta', 'masala', 'curry']\r\n                        };\r\n                        const matchWords = keywords[stationFilter] || [];\r\n                        if (!matchWords.some(w => item.name.toLowerCase().includes(w))) return;\r\n                    }\r\n\r\n                    const name = item.name;\r\n                    const qty = item.quantity || 1;\r\n                    acc[name] = (acc[name] || 0) + qty;\r\n                });\r\n            }\r\n            return acc;\r\n        }, {});\r\n    }, [filteredOrders, stationFilter]);\r\n\r\n    const printKOT = (order: Order) => {\r\n        const time = new Date(order.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n        const itemsList = (order.items as any[]).map(i => `<div>‚ñ° ${i.quantity}x ${i.name}</div>`).join('');\r\n\r\n        const content = `\r\n            <html>\r\n            <head>\r\n                <title>KOT #${order.id}</title>\r\n                <style>\r\n                    body { font-family: monospace; padding: 20px; max-width: 300px; }\r\n                    .header { font-size: 20px; font-weight: bold; text-align: center; margin-bottom: 10px; }\r\n                    .meta { font-size: 14px; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px; }\r\n                    .item { font-size: 18px; font-weight: bold; margin-bottom: 10px; }\r\n                </style>\r\n            </head>\r\n            <body>\r\n                <div class=\"header\">KITCHEN TICKET</div>\r\n                <div class=\"meta\">\r\n                    #${order.id}<br>\r\n                    ${time}<br>\r\n                    ${order.type}\r\n                </div>\r\n                ${itemsList}\r\n                <script>window.print();</script>\r\n            </body>\r\n            </html>\r\n        `;\r\n        const win = window.open('', '', 'width=300,height=600');\r\n        if (win) {\r\n            win.document.write(content);\r\n            win.document.close();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-4 h-full flex flex-col min-h-screen bg-gray-50\">\r\n            <ChefHeader\r\n                soundEnabled={isSoundEnabled}\r\n                setSoundEnabled={setIsSoundEnabled}\r\n                setIsTVMode={setIsTVMode}\r\n                setShowPrepModal={setShowPrepModal}\r\n                setShowWasteModal={setShowWasteModal}\r\n                viewMode={viewMode}\r\n                setViewMode={setViewMode}\r\n                filter={orderTypeFilter}\r\n                setFilter={setOrderTypeFilter}\r\n                stationFilter={stationFilter}\r\n                setStationFilter={setStationFilter}\r\n                displayedCount={filteredOrders.length}\r\n                onLogout={() => { }}\r\n            />\r\n\r\n            {/* Content using new viewMode logic from Header */}\r\n            {/* Header uses 'active' | 'history' | 'stats'. Original code used 'tickets' | 'items' */}\r\n            {/* Let's map 'active' to Ticket View and maybe add a toggle for Items within Active? */}\r\n            {/* Or assume Active = Tickets and maybe Stats = Items? */}\r\n            {/* Actually, let's keep it simple: Active Mode shows tickets. We need a secondary toggle for Item View if requested, \r\n               but ChefHeader has ViewMode which seems to replace the old toggle. \r\n               Let's interpret: 'active' -> Tickets, 'stats' -> Items (aggregated) for now, or just add the sub-toggle back if needed.\r\n               Wait, ChefHeader has 'active', 'history', 'stats'. \r\n               Let's match: Active = Tickets. We can add a sub-toggle below header if we want \"Active Items\".\r\n               But for now let's just use 'active' for Tickets. Where do Items go? \r\n               Maybe 'stats' shows the aggregated items view? That makes sense for \"Production Stats\".\r\n            */}\r\n\r\n            {filteredOrders.length === 0 && viewMode === 'active' ? (\r\n                <div className=\"flex-1 flex flex-col items-center justify-center text-[var(--text-muted)] animate-in\">\r\n                    <div className=\"text-8xl mb-6 opacity-20\">üë®‚Äçüç≥</div>\r\n                    <h2 className=\"text-2xl font-bold text-gray-400\">All Caught Up!</h2>\r\n                    <p className=\"text-gray-400\">Kitchen is clear.</p>\r\n                </div>\r\n            ) : (\r\n                <>\r\n                    {viewMode === 'active' && (\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 animate-in\">\r\n                            {filteredOrders.map(order => (\r\n                                <TicketCard\r\n                                    key={order.id}\r\n                                    order={order}\r\n                                    onUpdateStatus={(id, status) => updateOrder(id, { status })}\r\n                                    onPrintKOT={printKOT}\r\n                                    currentTime={currentTime}\r\n                                />\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n\r\n                    {viewMode === 'stats' && (\r\n                        <ItemView items={aggregatedItems} />\r\n                    )}\r\n\r\n                    {viewMode === 'history' && (\r\n                        <div className=\"text-center text-gray-500 mt-20\">History view coming soon...</div>\r\n                    )}\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","'use client';\r\n\r\nimport React from 'react';\r\n\r\ninterface ChefHeaderProps {\r\n    soundEnabled: boolean;\r\n    setSoundEnabled: (v: boolean) => void;\r\n    setIsTVMode: (v: boolean) => void;\r\n    setShowPrepModal: (v: boolean) => void;\r\n    setShowWasteModal: (v: boolean) => void;\r\n    viewMode: 'active' | 'history' | 'stats';\r\n    setViewMode: (v: 'active' | 'history' | 'stats') => void;\r\n    filter: 'all' | 'dine-in' | 'takeaway';\r\n    setFilter: (v: 'all' | 'dine-in' | 'takeaway') => void;\r\n    stationFilter: 'all' | 'tandoor' | 'chinese' | 'curry';\r\n    setStationFilter: (v: 'all' | 'tandoor' | 'chinese' | 'curry') => void;\r\n    displayedCount: number;\r\n    onLogout: () => void;\r\n}\r\n\r\nexport default function ChefHeader({\r\n    soundEnabled, setSoundEnabled, setIsTVMode, setShowPrepModal, setShowWasteModal,\r\n    viewMode, setViewMode, filter, setFilter, stationFilter, setStationFilter, displayedCount, onLogout\r\n}: ChefHeaderProps) {\r\n    return (\r\n        <div className=\"sticky top-0 z-20 bg-gray-900/95 backdrop-blur-sm pb-4 pt-2 -mx-2 px-2 md:mx-0 md:px-0 md:static md:bg-transparent md:p-0 md:mb-8\">\r\n            <div className=\"bg-gray-800 p-3 md:p-4 rounded-2xl border border-gray-700 shadow-xl flex flex-col md:flex-row justify-between gap-3 md:gap-4\">\r\n                <div className=\"flex justify-between items-center\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"text-2xl md:text-4xl bg-gray-700 p-1.5 md:p-2 rounded-xl\">üë®‚Äçüç≥</div>\r\n                        <div>\r\n                            <h1 className=\"text-lg md:text-2xl font-bold text-orange-500 leading-tight\">Chef Portal</h1>\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <button onClick={() => setSoundEnabled(!soundEnabled)} className={`text-xs px-2 py-0.5 rounded-full border ${soundEnabled ? 'bg-green-500/20 border-green-500 text-green-400' : 'bg-gray-700 border-gray-600 text-gray-400'}`}>{soundEnabled ? 'üîî' : 'üîï'}</button>\r\n                                <button onClick={() => setIsTVMode(true)} className=\"text-xs px-2 py-0.5 rounded-full border bg-purple-500/20 border-purple-500 text-purple-400\">üì∫ TV</button>\r\n                                <button onClick={() => setShowPrepModal(true)} className=\"text-xs px-2 py-0.5 rounded-full border bg-blue-500/20 border-blue-500 text-blue-400\">üìã Prep</button>\r\n                                <button onClick={() => setShowWasteModal(true)} className=\"text-xs px-2 py-0.5 rounded-full border bg-red-500/20 border-red-500 text-red-400\">üóëÔ∏è</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2 md:hidden\">\r\n                        <span className=\"font-bold text-white text-lg bg-gray-700 px-3 py-1.5 rounded-lg\">{displayedCount}</span>\r\n                        <button onClick={onLogout} className=\"p-2 bg-red-500/10 text-red-400 rounded-lg\">üö™</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex flex-col gap-2 w-full md:w-auto\">\r\n                    <div className=\"flex bg-gray-700 p-1 rounded-xl w-full\">\r\n                        {['active', 'history', 'stats'].map(mode => (\r\n                            <button key={mode} onClick={() => setViewMode(mode as any)} className={`flex-1 px-3 py-1.5 rounded-lg text-xs md:text-sm font-bold capitalize ${viewMode === mode ? 'bg-blue-600 text-white shadow-lg' : 'text-gray-400 hover:text-white'}`}>{mode}</button>\r\n                        ))}\r\n                    </div>\r\n                    <div className=\"flex gap-2 overflow-x-auto pb-1\">\r\n                        <select value={filter} onChange={(e) => setFilter(e.target.value as any)} className=\"bg-gray-700 text-white text-xs md:text-sm rounded-lg px-3 py-2 border-none outline-none font-bold\">\r\n                            <option value=\"all\">All Types</option>\r\n                            <option value=\"dine-in\">Dine-in</option>\r\n                            <option value=\"takeaway\">Takeaway</option>\r\n                        </select>\r\n                        <select value={stationFilter} onChange={(e) => setStationFilter(e.target.value as any)} className=\"bg-gray-700 text-white text-xs md:text-sm rounded-lg px-3 py-2 border-none outline-none font-bold\">\r\n                            <option value=\"all\">All Stations</option>\r\n                            <option value=\"tandoor\">Tandoor üî•</option>\r\n                            <option value=\"chinese\">Chinese ü•¢</option>\r\n                            <option value=\"curry\">Curry ü•ò</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div className=\"hidden md:flex items-center gap-4\">\r\n                    <div className=\"text-right\">\r\n                        <div className=\"text-2xl font-bold\">{displayedCount}</div>\r\n                        <div className=\"text-xs text-gray-400 uppercase\">Count</div>\r\n                    </div>\r\n                    <button onClick={onLogout} className=\"px-4 py-2 bg-red-500/20 text-red-400 rounded-xl font-bold text-sm\">Logout</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Order } from '../../lib/db-hooks';\r\n\r\ninterface TicketCardProps {\r\n    order: Order;\r\n    onUpdateStatus: (orderId: number, status: Order['status']) => void;\r\n    onPrintKOT: (order: Order) => void;\r\n    currentTime: number;\r\n}\r\n\r\nexport default function TicketCard({ order, onUpdateStatus, onPrintKOT, currentTime }: TicketCardProps) {\r\n    const getElapsedTime = () => {\r\n        const created = new Date(order.createdAt).getTime();\r\n        if (order.status === 'Pending') {\r\n            const diff = currentTime - created;\r\n            return Math.floor(diff / 60000);\r\n        }\r\n        if (order.status === 'Cooking' && order.cookingStartedAt) {\r\n            const started = new Date(order.cookingStartedAt).getTime();\r\n            const diff = currentTime - started;\r\n            return Math.floor(diff / 60000);\r\n        }\r\n        const diff = currentTime - created;\r\n        return Math.floor(diff / 60000);\r\n    };\r\n\r\n    const getStatusColor = (minutes: number) => {\r\n        if (minutes < 10) return 'bg-green-100 text-green-800 border-green-200';\r\n        if (minutes < 20) return 'bg-yellow-100 text-yellow-800 border-yellow-200';\r\n        return 'bg-red-100 text-red-800 border-red-200 animate-pulse';\r\n    };\r\n\r\n    const elapsed = getElapsedTime();\r\n    const statusColor = getStatusColor(elapsed);\r\n    const timeStr = new Date(order.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    const items = order.items as any[];\r\n\r\n    return (\r\n        <div className={`bg-white rounded-2xl shadow-sm border-2 flex flex-col overflow-hidden transition-all hover:shadow-md ${order.status === 'Pending' ? 'border-yellow-400' : 'border-blue-500'}`}>\r\n            {/* Card Header */}\r\n            <div className={`p-4 flex justify-between items-start border-b ${statusColor}`}>\r\n                <div>\r\n                    <div className=\"flex items-center gap-2 mb-1\">\r\n                        <span className=\"font-bold text-lg\">#{order.id}</span>\r\n                        <span className=\"text-[10px] uppercase font-bold px-2 py-0.5 bg-white/50 rounded\">{order.type}</span>\r\n                    </div>\r\n                    <div className=\"text-xs font-mono opacity-80\">{timeStr}</div>\r\n                </div>\r\n                <div className=\"text-right\">\r\n                    <div className=\"text-2xl font-bold leading-none\">{elapsed}m</div>\r\n                    <div className=\"text-[10px] uppercase font-bold opacity-80\">{order.status === 'Cooking' ? 'Cooking' : 'Waiting'}</div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Items */}\r\n            <div className=\"p-4 flex-1 space-y-3\">\r\n                {Array.isArray(items) && items.map((item: any, idx: number) => (\r\n                    <div key={idx} className=\"flex items-start gap-3 text-lg font-bold text-gray-800\">\r\n                        <span className=\"mt-1.5 w-2 h-2 rounded-full bg-gray-300 shrink-0\"></span>\r\n                        <span className=\"leading-tight\">\r\n                            {item.quantity}x {item.name}\r\n                            {item.modifiers && item.modifiers.length > 0 && (\r\n                                <div className=\"text-sm font-normal text-gray-500\">\r\n                                    {item.modifiers.map((m: any) => `+ ${m.name}`).join(', ')}\r\n                                </div>\r\n                            )}\r\n                            {item.note && <div className=\"text-sm font-normal text-red-500 italic\">Note: {item.note}</div>}\r\n                        </span>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"p-4 bg-gray-50 border-t flex gap-2\">\r\n                <button\r\n                    onClick={() => onPrintKOT(order)}\r\n                    className=\"p-3 bg-white border border-gray-200 rounded-xl text-gray-500 hover:bg-gray-100\"\r\n                    title=\"Print KOT\"\r\n                >\r\n                    üñ®Ô∏è\r\n                </button>\r\n                {order.status === 'Pending' ? (\r\n                    <button\r\n                        onClick={() => onUpdateStatus(order.id, 'Cooking')}\r\n                        className=\"flex-1 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg shadow-blue-200 transition-all\"\r\n                    >\r\n                        Start Cooking\r\n                    </button>\r\n                ) : (\r\n                    <button\r\n                        onClick={() => onUpdateStatus(order.id, 'Ready')}\r\n                        className=\"flex-1 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold shadow-lg shadow-green-200 transition-all\"\r\n                    >\r\n                        Mark Ready\r\n                    </button>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","'use client';\r\nimport React from 'react';\r\n\r\ninterface ItemViewProps {\r\n    items: { [key: string]: number };\r\n}\r\n\r\nexport default function ItemView({ items }: ItemViewProps) {\r\n    if (Object.keys(items).length === 0) return null;\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 animate-in\">\r\n            {Object.entries(items).map(([item, count]) => (\r\n                <div key={item} className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col items-center text-center hover:shadow-md transition-all\">\r\n                    <div className=\"text-5xl font-bold text-[var(--brand-primary)] mb-2\">{count}</div>\r\n                    <div className=\"text-lg font-bold text-gray-800 leading-tight\">{item}</div>\r\n                    <div className=\"mt-4 text-xs text-gray-400 uppercase tracking-wider font-bold\">To Prepare</div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}