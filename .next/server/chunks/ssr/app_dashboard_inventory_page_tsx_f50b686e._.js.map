{"version":3,"sources":["../../../../app/dashboard/inventory/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { useDbInventory, InventoryItem } from '../../lib/db-hooks';\r\n\r\nexport default function InventoryPage() {\r\n    const { inventory, stockLogs, wastageLogs, addItem, updateItem, deleteItem, recordWastage } = useDbInventory();\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [filterStatus, setFilterStatus] = useState('All Status');\r\n\r\n    // Modal States\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [isHistoryOpen, setIsHistoryOpen] = useState(false);\r\n    const [isWastageOpen, setIsWastageOpen] = useState(false);\r\n\r\n    const [editingItem, setEditingItem] = useState<InventoryItem | null>(null);\r\n    const [selectedItemForHistory, setSelectedItemForHistory] = useState<InventoryItem | null>(null);\r\n    const [selectedItemForWastage, setSelectedItemForWastage] = useState<InventoryItem | null>(null);\r\n\r\n    // AI & Automation States\r\n    const [isPredicting, setIsPredicting] = useState(false);\r\n    const [showPredictModal, setShowPredictModal] = useState(false);\r\n    const [predictions, setPredictions] = useState<any[]>([]);\r\n    const [isAnalyzingWaste, setIsAnalyzingWaste] = useState(false);\r\n    const [showWasteModal, setShowWasteModal] = useState(false);\r\n    const [wasteReports, setWasteReports] = useState<any[]>([]);\r\n\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        quantity: 0,\r\n        unit: 'kg',\r\n        minLevel: 0,\r\n        category: '',\r\n        supplierName: '',\r\n        supplierContact: ''\r\n    });\r\n\r\n    const [wastageForm, setWastageForm] = useState({\r\n        quantity: 0,\r\n        reason: ''\r\n    });\r\n\r\n    const filteredItems = inventory.filter(item => {\r\n        const matchesSearch = item.name.toLowerCase().includes(searchTerm.toLowerCase());\r\n        const matchesStatus = filterStatus === 'All Status' || item.status === filterStatus;\r\n        return matchesSearch && matchesStatus;\r\n    });\r\n\r\n    const lowStockCount = inventory.filter(i => i.status === 'Low Stock' || i.status === 'Out of Stock').length;\r\n    const totalValue = inventory.reduce((acc, item) => acc + (item.quantity * 100), 0); // Mock value calculation\r\n\r\n    const handleOpenModal = (item?: InventoryItem) => {\r\n        if (item) {\r\n            setEditingItem(item);\r\n            setFormData({\r\n                name: item.name,\r\n                quantity: item.quantity,\r\n                unit: item.unit,\r\n                minLevel: item.minLevel,\r\n                category: item.category || '',\r\n                supplierName: item.supplier?.name || '',\r\n                supplierContact: item.supplier?.contact || ''\r\n            });\r\n        } else {\r\n            setEditingItem(null);\r\n            setFormData({\r\n                name: '',\r\n                quantity: 0,\r\n                unit: 'kg',\r\n                minLevel: 0,\r\n                category: '',\r\n                supplierName: '',\r\n                supplierContact: ''\r\n            });\r\n        }\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    const handleSave = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        const itemData = {\r\n            name: formData.name,\r\n            quantity: formData.quantity,\r\n            unit: formData.unit,\r\n            minLevel: formData.minLevel,\r\n            category: formData.category,\r\n            supplier: {\r\n                name: formData.supplierName,\r\n                contact: formData.supplierContact\r\n            }\r\n        };\r\n\r\n        if (editingItem) {\r\n            updateItem(editingItem.id, itemData);\r\n        } else {\r\n            addItem(itemData);\r\n        }\r\n        setIsModalOpen(false);\r\n    };\r\n\r\n    const handleOpenHistory = (item: InventoryItem) => {\r\n        setSelectedItemForHistory(item);\r\n        setIsHistoryOpen(true);\r\n    };\r\n\r\n    const handleOpenWastage = (item: InventoryItem) => {\r\n        setSelectedItemForWastage(item);\r\n        setWastageForm({ quantity: 0, reason: '' });\r\n        setIsWastageOpen(true);\r\n    };\r\n\r\n    const handleSaveWastage = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (selectedItemForWastage) {\r\n            recordWastage(selectedItemForWastage.id, wastageForm.quantity, wastageForm.reason);\r\n            setIsWastageOpen(false);\r\n        }\r\n    };\r\n\r\n    const handleQuickUpdate = (id: number, currentQty: number, change: number) => {\r\n        updateItem(id, { quantity: Math.max(0, currentQty + change) });\r\n    };\r\n\r\n    const handlePredictStock = async () => {\r\n        setIsPredicting(true);\r\n        setShowPredictModal(true);\r\n        try {\r\n            const res = await fetch('/api/seo/ai/inventory/predict', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ inventory })\r\n            });\r\n            const data = await res.json();\r\n            if (data.predictions) setPredictions(data.predictions);\r\n        } catch (error) {\r\n            console.error('Prediction error:', error);\r\n        } finally {\r\n            setIsPredicting(false);\r\n        }\r\n    };\r\n\r\n    const handleGenerateShoppingList = () => {\r\n        const lowItems = inventory.filter(i => i.status === 'Low Stock' || i.status === 'Out of Stock');\r\n        if (lowItems.length === 0) {\r\n            alert('Inventory is healthy! No urgent shopping needed. ü•ï');\r\n            return;\r\n        }\r\n\r\n        let message = `*Oye Chatoro - Shopping List (${new Date().toLocaleDateString()})*\\n\\n`;\r\n        lowItems.forEach(i => {\r\n            message += `‚Ä¢ ${i.name}: Need approx ${i.minLevel * 2 - i.quantity} ${i.unit}\\n`;\r\n        });\r\n        message += `\\n_Generated by Oye AI_`;\r\n\r\n        const encoded = encodeURIComponent(message);\r\n        window.open(`https://wa.me/?text=${encoded}`, '_blank');\r\n    };\r\n\r\n    const handleAnalyzeWastage = async () => {\r\n        if (wastageLogs.length === 0) {\r\n            alert('No wastage logs found to analyze.');\r\n            return;\r\n        }\r\n        setIsAnalyzingWaste(true);\r\n        setShowWasteModal(true);\r\n        try {\r\n            const res = await fetch('/api/seo/ai/inventory/wastage', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ logs: wastageLogs })\r\n            });\r\n            const data = await res.json();\r\n            if (data.reports) setWasteReports(data.reports);\r\n        } catch (error) {\r\n            console.error('Wastage analysis error:', error);\r\n        } finally {\r\n            setIsAnalyzingWaste(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-4\">\r\n            <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8 animate-in\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold text-[var(--brand-dark)]\">Inventory Management</h1>\r\n                    <p className=\"text-gray-500 text-sm\">Track ingredients, predict shortages, and manage supply.</p>\r\n                </div>\r\n                <div className=\"flex gap-3\">\r\n                    <button\r\n                        onClick={handlePredictStock}\r\n                        className=\"px-4 py-2 bg-purple-50 text-purple-700 rounded-xl font-bold border border-purple-100 hover:bg-purple-100 flex items-center gap-2 transition-all\"\r\n                    >\r\n                        <span>üîÆ</span> Predict Stock\r\n                    </button>\r\n                    <button\r\n                        onClick={handleGenerateShoppingList}\r\n                        className=\"px-4 py-2 bg-green-50 text-green-700 rounded-xl font-bold border border-green-100 hover:bg-green-100 flex items-center gap-2 transition-all\"\r\n                    >\r\n                        <span>üõí</span> Buy List\r\n                    </button>\r\n                    <button\r\n                        onClick={() => handleOpenModal()}\r\n                        className=\"px-6 py-2 bg-[var(--brand-primary)] text-white rounded-xl font-bold shadow-lg hover:shadow-orange-500/30 transition-all hover:-translate-y-0.5\"\r\n                    >\r\n                        + Add Item\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 animate-in\" style={{ animationDelay: '0.1s' }}>\r\n                <div className=\"glass-card p-6 rounded-2xl bg-red-50/50 border-red-100\">\r\n                    <div className=\"text-red-600 font-bold mb-1\">Low Stock Alerts</div>\r\n                    <div className=\"text-3xl font-bold text-[var(--brand-dark)]\">{lowStockCount}</div>\r\n                    <div className=\"text-sm text-[var(--text-muted)]\">Items below minimum level</div>\r\n                </div>\r\n                <div className=\"glass-card p-6 rounded-2xl\">\r\n                    <div className=\"text-[var(--text-muted)] font-bold mb-1\">Total Items</div>\r\n                    <div className=\"text-3xl font-bold text-[var(--brand-dark)]\">{inventory.length}</div>\r\n                    <div className=\"text-sm text-[var(--text-muted)]\">Tracked ingredients</div>\r\n                </div>\r\n                <div className=\"glass-card p-6 rounded-2xl relative overflow-hidden group\">\r\n                    <div className=\"text-[var(--text-muted)] font-bold mb-1\">Estimated Value</div>\r\n                    <div className=\"text-3xl font-bold text-[var(--brand-dark)]\">‚Çπ{totalValue.toLocaleString()}</div>\r\n                    <div className=\"text-sm text-[var(--text-muted)]\">Based on avg cost</div>\r\n                    <button\r\n                        onClick={handleAnalyzeWastage}\r\n                        className=\"absolute bottom-4 right-4 text-xs font-bold text-orange-600 bg-orange-50 px-2 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-1\"\r\n                    >\r\n                        <span>‚ôªÔ∏è</span> Analyze Waste\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"glass-card rounded-2xl overflow-hidden animate-in\" style={{ animationDelay: '0.2s' }}>\r\n                <div className=\"p-4 md:p-6 border-b border-[var(--border-light)] flex gap-3 md:gap-4 bg-white/30 flex-col md:flex-row\">\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Search ingredients...\"\r\n                        className=\"flex-1 px-4 py-2 text-sm border border-[var(--border-light)] rounded-xl outline-none focus:border-[var(--brand-primary)] bg-white/80\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                    />\r\n                    <select\r\n                        className=\"px-4 py-2 text-sm border border-[var(--border-light)] rounded-xl outline-none focus:border-[var(--brand-primary)] bg-white/80\"\r\n                        value={filterStatus}\r\n                        onChange={(e) => setFilterStatus(e.target.value)}\r\n                    >\r\n                        <option>All Status</option>\r\n                        <option>Low Stock</option>\r\n                        <option>Out of Stock</option>\r\n                        <option>In Stock</option>\r\n                    </select>\r\n                </div>\r\n\r\n                {/* Mobile Card View */}\r\n                <div className=\"md:hidden grid grid-cols-1 gap-4 p-4\">\r\n                    {filteredItems.map((item) => (\r\n                        <div key={item.id} className=\"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm relative overflow-hidden group\">\r\n                            <div className=\"flex justify-between items-start mb-3\">\r\n                                <div>\r\n                                    <h3 className=\"font-bold text-gray-800\">{item.name}</h3>\r\n                                    <p className=\"text-xs text-gray-500\">{item.category}</p>\r\n                                </div>\r\n                                <span className={`px-2 py-1 rounded-lg text-[10px] font-black uppercase ${item.status === 'Out of Stock' ? 'bg-gray-100 text-gray-600' :\r\n                                    item.status === 'Low Stock' ? 'bg-red-50 text-red-600' :\r\n                                        'bg-green-50 text-green-600'\r\n                                    }`}>\r\n                                    {item.status}\r\n                                </span>\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-2 gap-4 mb-4 bg-gray-50 p-3 rounded-xl\">\r\n                                <div>\r\n                                    <div className=\"text-[10px] text-gray-400 uppercase font-black\">Stock Level</div>\r\n                                    <div className=\"flex items-center gap-2 mt-1\">\r\n                                        <button onClick={() => handleQuickUpdate(item.id, item.quantity, -1)} className=\"w-8 h-8 rounded-lg bg-white border border-gray-200 flex items-center justify-center text-gray-600 shadow-sm active:scale-95 transition-transform\">-</button>\r\n                                        <div className=\"font-bold text-[var(--brand-dark)]\">{item.quantity} <span className=\"text-[10px] font-normal\">{item.unit}</span></div>\r\n                                        <button onClick={() => handleQuickUpdate(item.id, item.quantity, 1)} className=\"w-8 h-8 rounded-lg bg-white border border-gray-200 flex items-center justify-center text-gray-600 shadow-sm active:scale-95 transition-transform\">+</button>\r\n                                    </div>\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"text-[10px] text-gray-400 uppercase font-black\">Supplier</div>\r\n                                    <div className=\"text-xs font-bold text-gray-700 mt-1 truncate\">{item.supplier?.name || '-'}</div>\r\n                                    <div className=\"text-[10px] text-gray-500\">{item.supplier?.contact || ''}</div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex gap-2\">\r\n                                <button onClick={() => handleOpenHistory(item)} className=\"flex-1 py-2 bg-blue-50 text-blue-600 rounded-xl text-xs font-bold active:bg-blue-100\">üïí History</button>\r\n                                <button onClick={() => handleOpenWastage(item)} className=\"flex-1 py-2 bg-orange-50 text-orange-600 rounded-xl text-xs font-bold active:bg-orange-100\">üóëÔ∏è Waste</button>\r\n                                <button onClick={() => handleOpenModal(item)} className=\"flex-1 py-2 bg-gray-50 text-gray-600 rounded-xl text-xs font-bold active:bg-gray-100\">‚úèÔ∏è Edit</button>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Desktop Table View */}\r\n                <div className=\"hidden md:block overflow-x-auto\">\r\n                    <table className=\"w-full text-left\">\r\n                        <thead className=\"bg-[var(--brand-primary)]/10 text-[var(--brand-dark)] text-sm uppercase tracking-wider\">\r\n                            <tr>\r\n                                <th className=\"px-6 py-4 font-bold\">Item Name</th>\r\n                                <th className=\"px-6 py-4 font-bold\">Category</th>\r\n                                <th className=\"px-6 py-4 font-bold\">Quantity</th>\r\n                                <th className=\"px-6 py-4 font-bold\">Status</th>\r\n                                <th className=\"px-6 py-4 font-bold\">Supplier</th>\r\n                                <th className=\"px-6 py-4 font-bold text-right\">Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-[var(--border-light)]\">\r\n                            {filteredItems.map((item) => (\r\n                                <tr key={item.id} className=\"hover:bg-white/40 transition-colors\">\r\n                                    <td className=\"px-6 py-4 font-medium text-[var(--text-main)]\">{item.name}</td>\r\n                                    <td className=\"px-6 py-4 text-sm text-[var(--text-muted)]\">{item.category}</td>\r\n                                    <td className=\"px-6 py-4 font-bold text-[var(--brand-dark)]\">\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <button onClick={() => handleQuickUpdate(item.id, item.quantity, -1)} className=\"w-6 h-6 rounded bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600\">-</button>\r\n                                            <span>{item.quantity} <span className=\"text-xs font-normal text-[var(--text-muted)]\">{item.unit}</span></span>\r\n                                            <button onClick={() => handleQuickUpdate(item.id, item.quantity, 1)} className=\"w-6 h-6 rounded bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600\">+</button>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4\">\r\n                                        <span className={`px-3 py-1 rounded-full text-xs font-bold ${item.status === 'Out of Stock' ? 'bg-gray-200 text-gray-700' :\r\n                                            item.status === 'Low Stock' ? 'bg-red-100 text-red-700 animate-pulse' :\r\n                                                'bg-green-100 text-green-700'\r\n                                            }`}>\r\n                                            {item.status}\r\n                                        </span>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 text-sm text-[var(--text-muted)]\">\r\n                                        {item.supplier?.name ? (\r\n                                            <div>\r\n                                                <div className=\"font-medium text-[var(--brand-dark)]\">{item.supplier.name}</div>\r\n                                                <div className=\"text-xs\">{item.supplier.contact}</div>\r\n                                            </div>\r\n                                        ) : '-'}\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 text-right space-x-2\">\r\n                                        <button onClick={() => handleOpenHistory(item)} className=\"text-sm text-blue-500 hover:underline\" title=\"History\">üïí</button>\r\n                                        <button onClick={() => handleOpenWastage(item)} className=\"text-sm text-orange-500 hover:underline\" title=\"Report Wastage\">üóëÔ∏è</button>\r\n                                        <button onClick={() => handleOpenModal(item)} className=\"text-sm text-[var(--brand-primary)] hover:underline font-medium\">Edit</button>\r\n                                        <button onClick={() => { if (confirm('Delete?')) deleteItem(item.id); }} className=\"text-sm text-red-500 hover:text-red-700\">Delete</button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Add/Edit Modal */}\r\n            {isModalOpen && (\r\n                <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm\">\r\n                    <div className=\"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl animate-in max-h-[90vh] overflow-y-auto custom-scrollbar\">\r\n                        <h2 className=\"text-2xl font-bold mb-6 text-[var(--brand-dark)]\">\r\n                            {editingItem ? 'Edit Item' : 'Add New Item'}\r\n                        </h2>\r\n                        <form onSubmit={handleSave} className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Item Name</label>\r\n                                <input required type=\"text\" className=\"w-full px-4 py-2 border rounded-xl\" value={formData.name} onChange={e => setFormData({ ...formData, name: e.target.value })} />\r\n                            </div>\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Quantity</label>\r\n                                    <input required type=\"number\" className=\"w-full px-4 py-2 border rounded-xl\" value={formData.quantity} onChange={e => setFormData({ ...formData, quantity: Number(e.target.value) })} />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Unit</label>\r\n                                    <select className=\"w-full px-4 py-2 border rounded-xl\" value={formData.unit} onChange={e => setFormData({ ...formData, unit: e.target.value })}>\r\n                                        <option value=\"kg\">kg</option>\r\n                                        <option value=\"g\">g</option>\r\n                                        <option value=\"l\">l</option>\r\n                                        <option value=\"ml\">ml</option>\r\n                                        <option value=\"pcs\">pcs</option>\r\n                                        <option value=\"box\">box</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Min Level</label>\r\n                                    <input required type=\"number\" className=\"w-full px-4 py-2 border rounded-xl\" value={formData.minLevel} onChange={e => setFormData({ ...formData, minLevel: Number(e.target.value) })} />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Category</label>\r\n                                    <input type=\"text\" className=\"w-full px-4 py-2 border rounded-xl\" value={formData.category} onChange={e => setFormData({ ...formData, category: e.target.value })} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"pt-4 border-t\">\r\n                                <h3 className=\"font-bold text-[var(--brand-dark)] mb-2\">Supplier Details</h3>\r\n                                <div className=\"space-y-3\">\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Name</label>\r\n                                        <input type=\"text\" className=\"w-full px-4 py-2 border rounded-xl\" value={formData.supplierName} onChange={e => setFormData({ ...formData, supplierName: e.target.value })} />\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Contact / WhatsApp</label>\r\n                                        <input type=\"text\" className=\"w-full px-4 py-2 border rounded-xl\" value={formData.supplierContact} onChange={e => setFormData({ ...formData, supplierContact: e.target.value })} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex gap-3 mt-8 pt-4 border-t\">\r\n                                <button type=\"button\" onClick={() => setIsModalOpen(false)} className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl\">Cancel</button>\r\n                                <button type=\"submit\" className=\"flex-1 px-4 py-2 bg-[var(--brand-primary)] text-white rounded-xl font-bold\">Save Item</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* History Modal */}\r\n            {isHistoryOpen && selectedItemForHistory && (\r\n                <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm\">\r\n                    <div className=\"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl animate-in max-h-[80vh] overflow-y-auto custom-scrollbar\">\r\n                        <div className=\"flex justify-between items-center mb-4\">\r\n                            <h2 className=\"text-xl font-bold\">History: {selectedItemForHistory.name}</h2>\r\n                            <button onClick={() => setIsHistoryOpen(false)} className=\"text-gray-500 hover:text-gray-700\">‚úï</button>\r\n                        </div>\r\n                        <div className=\"space-y-3\">\r\n                            {stockLogs.filter(log => log.inventoryItemId === selectedItemForHistory.id).length === 0 ? (\r\n                                <p className=\"text-gray-500 text-center py-4\">No history available.</p>\r\n                            ) : (\r\n                                stockLogs.filter(log => log.inventoryItemId === selectedItemForHistory.id).map(log => (\r\n                                    <div key={log.id} className=\"flex justify-between items-center p-3 bg-gray-50 rounded-xl border border-gray-100\">\r\n                                        <div>\r\n                                            <div className=\"font-medium text-gray-800\">{log.reason || log.type}</div>\r\n                                            <div className=\"text-xs text-gray-500\">{new Date(log.createdAt).toLocaleString()}</div>\r\n                                        </div>\r\n                                        <div className={`font-bold ${log.change > 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                                            {log.change > 0 ? '+' : ''}{log.change}\r\n                                        </div>\r\n                                    </div>\r\n                                ))\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Wastage Modal */}\r\n            {isWastageOpen && selectedItemForWastage && (\r\n                <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm\">\r\n                    <div className=\"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl animate-in\">\r\n                        <h2 className=\"text-xl font-bold mb-4 text-red-600\">Report Wastage</h2>\r\n                        <p className=\"text-sm text-gray-600 mb-4\">Reporting wastage for <strong>{selectedItemForWastage.name}</strong></p>\r\n                        <form onSubmit={handleSaveWastage} className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Quantity Wasted</label>\r\n                                <input required type=\"number\" className=\"w-full px-4 py-2 border rounded-xl\" value={wastageForm.quantity} onChange={e => setWastageForm({ ...wastageForm, quantity: Number(e.target.value) })} />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Reason</label>\r\n                                <select className=\"w-full px-4 py-2 border rounded-xl\" value={wastageForm.reason} onChange={e => setWastageForm({ ...wastageForm, reason: e.target.value })}>\r\n                                    <option value=\"\">Select Reason</option>\r\n                                    <option value=\"Expired\">Expired</option>\r\n                                    <option value=\"Damaged\">Damaged</option>\r\n                                    <option value=\"Spilled/Dropped\">Spilled/Dropped</option>\r\n                                    <option value=\"Burnt/Overcooked\">Burnt/Overcooked</option>\r\n                                    <option value=\"Other\">Other</option>\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"flex gap-3 mt-6\">\r\n                                <button type=\"button\" onClick={() => setIsWastageOpen(false)} className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl\">Cancel</button>\r\n                                <button type=\"submit\" className=\"flex-1 px-4 py-2 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700\">Report Waste</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n            {/* Prediction Modal */}\r\n            {showPredictModal && (\r\n                <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm\">\r\n                    <div className=\"bg-white rounded-[2rem] p-8 w-full max-w-2xl shadow-2xl animate-in max-h-[85vh] overflow-hidden flex flex-col\">\r\n                        <div className=\"flex justify-between items-center mb-6\">\r\n                            <div>\r\n                                <h2 className=\"text-2xl font-black text-purple-900 flex items-center gap-2\">\r\n                                    <span>üîÆ</span> AI Stock Forecast\r\n                                </h2>\r\n                                <p className=\"text-gray-500 text-sm\">Data-driven depletion estimates</p>\r\n                            </div>\r\n                            <button onClick={() => setShowPredictModal(false)} className=\"text-gray-400 hover:text-gray-600 text-2xl\">‚úï</button>\r\n                        </div>\r\n\r\n                        <div className=\"flex-1 overflow-y-auto space-y-4 pr-2 custom-scrollbar\">\r\n                            {isPredicting ? (\r\n                                <div className=\"py-20 flex flex-col items-center justify-center text-center\">\r\n                                    <div className=\"w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mb-4\"></div>\r\n                                    <p className=\"text-purple-900 font-bold\">Calculating burn rates...</p>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"grid gap-4\">\r\n                                    {predictions.map((p, idx) => (\r\n                                        <div key={idx} className={`p-4 rounded-2xl border flex justify-between items-center ${p.daysLeft < 3 ? 'bg-red-50 border-red-100' : 'bg-gray-50 border-gray-100'}`}>\r\n                                            <div>\r\n                                                <h4 className=\"font-bold text-gray-800\">{p.name}</h4>\r\n                                                <p className=\"text-xs text-gray-500\">{p.status}</p>\r\n                                            </div>\r\n                                            <div className=\"text-right\">\r\n                                                <div className={`text-xl font-black ${p.daysLeft < 3 ? 'text-red-600' : 'text-purple-600'}`}>\r\n                                                    ~{p.daysLeft} <span className=\"text-xs font-bold uppercase\">Days Left</span>\r\n                                                </div>\r\n                                                <div className=\"text-[10px] font-bold text-gray-400 uppercase tracking-wider\">\r\n                                                    Action: {p.suggestedOrder}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"mt-6 pt-6 border-t flex justify-between items-center\">\r\n                            <span className=\"text-xs text-gray-400\">Next update in 24 hours</span>\r\n                            <button onClick={() => setShowPredictModal(false)} className=\"px-6 py-2 bg-gray-100 text-gray-700 font-bold rounded-xl hover:bg-gray-200\">\r\n                                Dismiss\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n            {/* Wastage Analysis Modal */}\r\n            {showWasteModal && (\r\n                <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm\">\r\n                    <div className=\"bg-white rounded-[2rem] p-8 w-full max-w-2xl shadow-2xl animate-in max-h-[85vh] overflow-hidden flex flex-col border-t-4 border-orange-500\">\r\n                        <div className=\"flex justify-between items-center mb-6\">\r\n                            <div>\r\n                                <h2 className=\"text-2xl font-black text-orange-900 flex items-center gap-2\">\r\n                                    <span>‚ôªÔ∏è</span> Wastage Intelligence\r\n                                </h2>\r\n                                <p className=\"text-gray-500 text-sm\">Identifying patterns to reduce food waste</p>\r\n                            </div>\r\n                            <button onClick={() => setShowWasteModal(false)} className=\"text-gray-400 hover:text-gray-600 text-2xl\">‚úï</button>\r\n                        </div>\r\n\r\n                        <div className=\"flex-1 overflow-y-auto space-y-4 pr-2 custom-scrollbar\">\r\n                            {isAnalyzingWaste ? (\r\n                                <div className=\"py-20 flex flex-col items-center justify-center text-center\">\r\n                                    <div className=\"w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mb-4\"></div>\r\n                                    <p className=\"text-orange-900 font-bold\">Scanning wastage logs for leakages...</p>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"grid gap-4\">\r\n                                    {wasteReports.map((report, idx) => (\r\n                                        <div key={idx} className=\"bg-orange-50/30 p-5 rounded-2xl border border-orange-100\">\r\n                                            <div className=\"flex justify-between items-start mb-2\">\r\n                                                <h4 className=\"font-bold text-orange-900\">{report.title}</h4>\r\n                                                <span className={`text-[10px] uppercase font-black px-2 py-1 rounded ${report.impact === 'High' ? 'bg-red-100 text-red-600' : 'bg-orange-100 text-orange-600'}`}>\r\n                                                    {report.impact} Impact\r\n                                                </span>\r\n                                            </div>\r\n                                            <p className=\"text-sm text-gray-700 mb-4\">{report.finding}</p>\r\n                                            <div className=\"bg-white p-3 rounded-xl border border-dashed border-orange-200\">\r\n                                                <span className=\"text-[10px] font-bold text-orange-400 uppercase block mb-1\">AI Recommendation</span>\r\n                                                <p className=\"text-sm font-bold text-orange-700\">{report.recommendation}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"mt-6 pt-6 border-t flex justify-end\">\r\n                            <button onClick={() => setShowWasteModal(false)} className=\"px-8 py-3 bg-orange-600 text-white font-bold rounded-xl hover:bg-orange-700 transition-all shadow-lg shadow-orange-200\">\r\n                                Done\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}