{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/oyechatorocomingsoon/app/dashboard/pos/page.tsx"],"sourcesContent":["'use client';\r\nimport React, { useState, useMemo, useEffect, useCallback, useRef } from 'react';\r\nimport Image from 'next/image';\r\nimport { useDbMenu, useDbOrders, MenuItem, Order } from '../../lib/db-hooks';\r\nimport { useDbSettings as useSettings } from '../../lib/db-hooks';\r\n\r\nimport ModifierModal from '../../components/pos/ModifierModal';\r\n\r\ninterface CartItem {\r\n    id: string;\r\n    name: string;\r\n    price: number;\r\n    quantity: number;\r\n    veg: boolean;\r\n    image?: string;\r\n    note?: string; // Special instructions\r\n    modifiers?: { name: string; price: number }[];\r\n}\r\n\r\n// ... (HeldOrder interface update skipped as it uses CartItem which is already updated above)\r\n\r\n// ...\r\n\r\nexport default function POSPage() {\r\n    // ... (existing hooks)\r\n    const [cart, setCart] = useState<CartItem[]>([]);\r\n\r\n    // ... (existing state)\r\n    // NEW: Modifiers State\r\n    const [showModifierModal, setShowModifierModal] = useState(false);\r\n    const [selectedItemForMods, setSelectedItemForMods] = useState<MenuItem | null>(null);\r\n\r\n    // ... (existing effects)\r\n\r\n    const addToCart = useCallback((item: MenuItem) => {\r\n        // Check for modifiers\r\n        if (item.modifiers && item.modifiers.length > 0) {\r\n            setSelectedItemForMods(item);\r\n            setShowModifierModal(true);\r\n            return;\r\n        }\r\n\r\n        // Direct Add\r\n        addItemToCart(item, [], '');\r\n    }, []);\r\n\r\n    const addItemToCart = (item: MenuItem, modifiers: { name: string; price: number }[], note: string) => {\r\n        const modifierTotal = modifiers.reduce((sum, m) => sum + m.price, 0);\r\n        const finalPrice = item.price + modifierTotal;\r\n\r\n        // Create a unique ID based on modifiers to separate same items with different mods\r\n        const cartItemId = modifiers.length > 0\r\n            ? `${item.id}-${Date.now()}`\r\n            : item.id;\r\n\r\n        setCart(prev => {\r\n            // Only merge if exactly same item (same modifiers) - simplified for now:\r\n            // If modifiers exist, we usually treat as distinct line item or need deep comparison.\r\n            // For simplicity, strict equality on ID if no modifiers, else new line item.\r\n\r\n            if (modifiers.length === 0) {\r\n                const existing = prev.find(i => i.id === item.id && (!i.modifiers || i.modifiers.length === 0));\r\n                if (existing) {\r\n                    return prev.map(i => i.id === item.id && (!i.modifiers || i.modifiers.length === 0) ? { ...i, quantity: i.quantity + 1 } : i);\r\n                }\r\n            }\r\n\r\n            return [...prev, {\r\n                id: cartItemId,\r\n                name: item.name,\r\n                price: finalPrice,\r\n                quantity: 1,\r\n                veg: item.veg,\r\n                image: item.image,\r\n                modifiers,\r\n                note\r\n            }];\r\n        });\r\n    };\r\n\r\n    const handleModifierConfirm = (modifiers: { name: string; price: number }[], note: string) => {\r\n        if (selectedItemForMods) {\r\n            addItemToCart(selectedItemForMods, modifiers, note);\r\n            setShowModifierModal(false);\r\n            setSelectedItemForMods(null);\r\n        }\r\n    };\r\n\r\n\r\n    const clearCart = () => {\r\n        if (cart.length > 0 && !showConfirmClear) {\r\n            setShowConfirmClear(true);\r\n            return;\r\n        }\r\n        setCart([]);\r\n        setDiscountValue(0);\r\n        setSelectedCustomer(null);\r\n        setParcelCharge(false);\r\n        setTipAmount(0);\r\n        setOrderNotes('');\r\n        setSelectedStaff('');\r\n        setAmountTendered(0);\r\n        setKotPrinted(false);\r\n        setShowConfirmClear(false);\r\n    };\r\n\r\n    const confirmClear = () => {\r\n        setCart([]);\r\n        setDiscountValue(0);\r\n        setSelectedCustomer(null);\r\n        setParcelCharge(false);\r\n        setTipAmount(0);\r\n        setOrderNotes('');\r\n        setSelectedStaff('');\r\n        setAmountTendered(0);\r\n        setKotPrinted(false);\r\n        setShowConfirmClear(false);\r\n    };\r\n\r\n    const updateItemNote = (itemId: string, note: string) => {\r\n        setCart(prev => prev.map(item =>\r\n            item.id === itemId ? { ...item, note } : item\r\n        ));\r\n        setEditingNoteId(null);\r\n    };\r\n\r\n    const getItemQty = (itemId: string) => cart.find(i => i.id === itemId)?.quantity || 0;\r\n\r\n    const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);\r\n    const discountAmount = discountType === 'percent'\r\n        ? Math.round(subtotal * discountValue / 100)\r\n        : discountValue;\r\n    const parcelAmount = parcelCharge && orderType !== 'Dine In' ? PARCEL_CHARGE : 0;\r\n    const taxableAmount = subtotal - discountAmount + parcelAmount;\r\n    const taxAmount = Math.round(taxableAmount * 0.05);\r\n    const cartTotal = taxableAmount + taxAmount + tipAmount;\r\n    const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);\r\n    const changeAmount = amountTendered > cartTotal ? amountTendered - cartTotal : 0;\r\n\r\n    // Hold Order\r\n    const holdCurrentOrder = () => {\r\n        if (cart.length === 0) return;\r\n        const held: HeldOrder = {\r\n            id: Date.now().toString(),\r\n            name: tableNumber ? `Table ${tableNumber}` : `Order ${heldOrders.length + 1}`,\r\n            cart: [...cart],\r\n            tableNumber,\r\n            orderType,\r\n            timestamp: Date.now()\r\n        };\r\n        setHeldOrders(prev => [...prev, held]);\r\n        clearCart();\r\n        setTableNumber('');\r\n    };\r\n\r\n    // Resume Held Order\r\n    const resumeHeldOrder = (order: HeldOrder) => {\r\n        setCart(order.cart);\r\n        setTableNumber(order.tableNumber);\r\n        setOrderType(order.orderType);\r\n        setHeldOrders(prev => prev.filter(o => o.id !== order.id));\r\n        setShowHeldOrders(false);\r\n    };\r\n\r\n    // Delete Held Order\r\n    const deleteHeldOrder = (orderId: string) => {\r\n        setHeldOrders(prev => prev.filter(o => o.id !== orderId));\r\n    };\r\n\r\n    // Add to Quick Keys\r\n    const addToQuickKeys = (itemId: string) => {\r\n        if (quickKeyItems.includes(itemId)) {\r\n            setQuickKeyItems(prev => prev.filter(id => id !== itemId));\r\n        } else if (quickKeyItems.length < 9) {\r\n            setQuickKeyItems(prev => [...prev, itemId]);\r\n        }\r\n        localStorage.setItem('pos_quick_keys', JSON.stringify(quickKeyItems));\r\n    };\r\n\r\n    // Print Receipt\r\n    const printReceipt = () => {\r\n        const receiptWindow = window.open('', '_blank', 'width=300,height=600');\r\n        if (!receiptWindow) return;\r\n\r\n        const receiptHTML = `\r\n            <!DOCTYPE html>\r\n            <html>\r\n            <head>\r\n                <title>Receipt</title>\r\n                <style>\r\n                    body { font-family: 'Courier New', monospace; font-size: 12px; padding: 10px; max-width: 280px; margin: 0 auto; }\r\n                    .center { text-align: center; }\r\n                    .bold { font-weight: bold; }\r\n                    .line { border-top: 1px dashed #000; margin: 10px 0; }\r\n                    .row { display: flex; justify-content: space-between; margin: 3px 0; }\r\n                    .note { font-size: 10px; color: #666; margin-left: 15px; }\r\n                    h1 { font-size: 18px; margin: 5px 0; }\r\n                    h2 { font-size: 14px; margin: 5px 0; }\r\n                </style>\r\n            </head>\r\n            <body>\r\n                <div class=\"center\">\r\n                    <h1>OYE CHATORO</h1>\r\n                    <p>Abu Road, Rajasthan</p>\r\n                    <p>Ph: 9509913792</p>\r\n                </div>\r\n                <div class=\"line\"></div>\r\n                <div class=\"row\"><span>Date:</span><span>${new Date().toLocaleDateString()}</span></div>\r\n                <div class=\"row\"><span>Time:</span><span>${new Date().toLocaleTimeString()}</span></div>\r\n                <div class=\"row\"><span>Type:</span><span>${orderType}</span></div>\r\n                ${tableNumber ? `<div class=\"row\"><span>Table:</span><span>${tableNumber}</span></div>` : ''}\r\n                ${selectedStaff ? `<div class=\"row\"><span>Staff:</span><span>${selectedStaff}</span></div>` : ''}\r\n                ${customerName ? `<div class=\"row\"><span>Customer:</span><span>${customerName}</span></div>` : ''}\r\n                <div class=\"line\"></div>\r\n                ${cart.map(item => `\r\n                    <div class=\"row\">\r\n                        <span>${item.quantity}x ${item.name}</span>\r\n                        <span>‚Çπ${item.price * item.quantity}</span>\r\n                    </div>\r\n                    ${item.note ? `<div class=\"note\">‚Ü≥ ${item.note}</div>` : ''}\r\n                `).join('')}\r\n                <div class=\"line\"></div>\r\n                <div class=\"row\"><span>Subtotal:</span><span>‚Çπ${subtotal}</span></div>\r\n                ${discountAmount > 0 ? `<div class=\"row\"><span>Discount:</span><span>-‚Çπ${discountAmount}</span></div>` : ''}\r\n                ${parcelAmount > 0 ? `<div class=\"row\"><span>Parcel Charge:</span><span>‚Çπ${parcelAmount}</span></div>` : ''}\r\n                <div class=\"row\"><span>GST (5%):</span><span>‚Çπ${taxAmount}</span></div>\r\n                ${tipAmount > 0 ? `<div class=\"row\"><span>Tip:</span><span>‚Çπ${tipAmount}</span></div>` : ''}\r\n                <div class=\"line\"></div>\r\n                <div class=\"row bold\"><span>TOTAL:</span><span>‚Çπ${cartTotal}</span></div>\r\n                ${paymentMethod === 'Cash' && amountTendered > 0 ? `\r\n                    <div class=\"row\"><span>Tendered:</span><span>‚Çπ${amountTendered}</span></div>\r\n                    <div class=\"row bold\"><span>Change:</span><span>‚Çπ${changeAmount}</span></div>\r\n                ` : ''}\r\n                <div class=\"row\"><span>Payment:</span><span>${paymentMethod}</span></div>\r\n                ${orderNotes ? `<div class=\"line\"></div><p><b>Notes:</b> ${orderNotes}</p>` : ''}\r\n                <div class=\"line\"></div>\r\n                <div class=\"center\">\r\n                    <p>Thank you for visiting!</p>\r\n                    <p>Please come again üôè</p>\r\n                </div>\r\n                <!-- <script>window.print(); window.close();</script> -->\r\n            </body>\r\n            </html>\r\n        `;\r\n        receiptWindow.document.write(receiptHTML);\r\n    };\r\n\r\n    // Print KOT (Kitchen Order Ticket)\r\n    const printKOT = () => {\r\n        const kotWindow = window.open('', '_blank', 'width=300,height=400');\r\n        if (!kotWindow) return;\r\n\r\n        const kotHTML = `\r\n            <!DOCTYPE html>\r\n            <html>\r\n            <head>\r\n                <title>KOT</title>\r\n                <style>\r\n                    body { font-family: 'Courier New', monospace; font-size: 14px; padding: 10px; max-width: 280px; margin: 0 auto; }\r\n                    .center { text-align: center; }\r\n                    .bold { font-weight: bold; font-size: 16px; }\r\n                    .line { border-top: 2px dashed #000; margin: 8px 0; }\r\n                    .item { margin: 8px 0; padding: 5px; background: #f5f5f5; }\r\n                    .qty { font-size: 20px; font-weight: bold; }\r\n                    .note { color: red; font-weight: bold; }\r\n                    h1 { font-size: 22px; margin: 5px 0; }\r\n                </style>\r\n            </head>\r\n            <body>\r\n                <div class=\"center\">\r\n                    <h1>üç≥ KITCHEN ORDER</h1>\r\n                    <p class=\"bold\">${new Date().toLocaleTimeString()}</p>\r\n                </div>\r\n                <div class=\"line\"></div>\r\n                <div class=\"bold\">${orderType} ${tableNumber ? '‚Ä¢ Table ' + tableNumber : ''}</div>\r\n                <div class=\"line\"></div>\r\n                ${cart.map(item => `\r\n                    <div class=\"item\">\r\n                        <span class=\"qty\">${item.quantity}x</span> ${item.name}\r\n                        ${item.note ? `<div class=\"note\">‚ö†Ô∏è ${item.note}</div>` : ''}\r\n                    </div>\r\n                `).join('')}\r\n                ${orderNotes ? `<div class=\"line\"></div><div class=\"note\">üìù ${orderNotes}</div>` : ''}\r\n                <div class=\"line\"></div>\r\n                <div class=\"center bold\">--- END OF KOT ---</div>\r\n                <!-- <script>window.print(); window.close();</script> -->\r\n            </body>\r\n            </html>\r\n        `;\r\n        kotWindow.document.write(kotHTML);\r\n        setKotPrinted(true);\r\n    };\r\n\r\n    const printLastReceipt = () => {\r\n        // In real implementation, would print last order\r\n        alert('No recent order to print');\r\n    };\r\n\r\n    // Save Customer\r\n    const saveCustomer = () => {\r\n        if (!customerPhone) return;\r\n\r\n        const existingIndex = customers.findIndex(c => c.phone === customerPhone);\r\n        if (existingIndex >= 0) {\r\n            const updated = [...customers];\r\n            updated[existingIndex] = {\r\n                ...updated[existingIndex],\r\n                name: customerName || updated[existingIndex].name,\r\n                totalOrders: updated[existingIndex].totalOrders + 1,\r\n                totalSpent: updated[existingIndex].totalSpent + cartTotal,\r\n                lastVisit: new Date().toISOString()\r\n            };\r\n            setCustomers(updated);\r\n        } else {\r\n            const newCustomer: Customer = {\r\n                id: Date.now().toString(),\r\n                name: customerName || 'Unknown',\r\n                phone: customerPhone,\r\n                totalOrders: 1,\r\n                totalSpent: cartTotal,\r\n                lastVisit: new Date().toISOString()\r\n            };\r\n            setCustomers(prev => [...prev, newCustomer]);\r\n        }\r\n        localStorage.setItem('pos_customers', JSON.stringify(customers));\r\n    };\r\n\r\n    // Search Customer\r\n    const searchCustomer = (phone: string) => {\r\n        const found = customers.find(c => c.phone === phone);\r\n        if (found) {\r\n            setSelectedCustomer(found);\r\n            setCustomerName(found.name);\r\n            setCustomerPhone(found.phone);\r\n        }\r\n    };\r\n\r\n    // Handle Checkout\r\n    const handleCheckout = () => {\r\n        if (cart.length === 0) return;\r\n\r\n        saveCustomer();\r\n\r\n        // Map orderType to Order type format\r\n        const typeMap: { [key: string]: 'DineIn' | 'Takeaway' | 'Delivery' } = {\r\n            'Dine In': 'DineIn',\r\n            'Takeaway': 'Takeaway',\r\n            'Delivery': 'Delivery'\r\n        };\r\n\r\n        const orderData = {\r\n            items: cart.map(item => ({ name: item.name, quantity: item.quantity, price: item.price, note: item.note })), // Send structured items\r\n            total: cartTotal,\r\n            type: typeMap[orderType],\r\n            table: orderType === 'Dine In' ? tableNumber : undefined,\r\n            customer: customerName || 'Walk-in Customer',\r\n            mobile: customerPhone || undefined,\r\n            paymentMethod,\r\n            paymentStatus: 'Paid' as const,\r\n            discount: discountAmount > 0 ? {\r\n                type: discountType === 'percent' ? 'percent' as const : 'amount' as const,\r\n                value: discountValue,\r\n                amount: discountAmount\r\n            } : undefined,\r\n            tip: tipAmount,\r\n            waiterName: selectedStaff,\r\n            waiterCalled: false,\r\n        };\r\n\r\n\r\n        createDbOrder(orderData).catch(console.error); // Async create\r\n        printReceipt();\r\n\r\n        setShowSuccess(true);\r\n        setTimeout(() => {\r\n            setShowSuccess(false);\r\n            setShowCheckout(false);\r\n            clearCart();\r\n            setTableNumber('');\r\n            setCustomerName('');\r\n            setCustomerPhone('');\r\n            setSelectedCustomer(null);\r\n        }, 2000);\r\n    };\r\n\r\n    const handlePayLater = () => {\r\n        if (cart.length === 0) return;\r\n        saveCustomer();\r\n\r\n        const typeMap: { [key: string]: 'DineIn' | 'Takeaway' | 'Delivery' } = {\r\n            'Dine In': 'DineIn',\r\n            'Takeaway': 'Takeaway',\r\n            'Delivery': 'Delivery'\r\n        };\r\n\r\n        const orderData = {\r\n            items: cart.map(item => ({ name: item.name, quantity: item.quantity, price: item.price, note: item.note })),\r\n            total: cartTotal,\r\n            type: typeMap[orderType],\r\n            table: orderType === 'Dine In' ? tableNumber : undefined,\r\n            customer: customerName || 'Walk-in Customer',\r\n            mobile: customerPhone || undefined,\r\n            paymentMethod: 'Cash' as const, // Default for record, but status is Unpaid\r\n            paymentStatus: 'Unpaid' as const,\r\n            discount: discountAmount > 0 ? {\r\n                type: discountType === 'percent' ? 'percent' as const : 'amount' as const,\r\n                value: discountValue,\r\n                amount: discountAmount\r\n            } : undefined,\r\n            tip: tipAmount,\r\n            waiterName: selectedStaff\r\n        };\r\n\r\n        createDbOrder(orderData).catch(console.error);\r\n        printReceipt(); // Optional: might want to print bill without 'Paid' stamp\r\n\r\n        setShowSuccess(true);\r\n        setTimeout(() => {\r\n            setShowSuccess(false);\r\n            setShowCheckout(false);\r\n            clearCart();\r\n            setTableNumber('');\r\n            setCustomerName('');\r\n            setCustomerPhone('');\r\n            setSelectedCustomer(null);\r\n        }, 2000);\r\n    };\r\n\r\n    // Split Bill Payment\r\n    const addSplitPayment = () => {\r\n        const remaining = cartTotal - splitPayments.reduce((s, p) => s + p.amount, 0);\r\n        if (remaining > 0) {\r\n            setSplitPayments(prev => [...prev, { method: 'Cash', amount: remaining }]);\r\n        }\r\n    };\r\n\r\n    const updateSplitPayment = (index: number, field: 'method' | 'amount', value: any) => {\r\n        setSplitPayments(prev => prev.map((p, i) => i === index ? { ...p, [field]: value } : p));\r\n    };\r\n\r\n    const removeSplitPayment = (index: number) => {\r\n        setSplitPayments(prev => prev.filter((_, i) => i !== index));\r\n    };\r\n\r\n    if (!mounted) return null;\r\n\r\n    const handleStaffChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n        const staff = e.target.value;\r\n        setSelectedStaff(staff);\r\n        localStorage.setItem('pos_selected_staff', staff);\r\n    };\r\n\r\n    return (\r\n        <div className=\"h-screen flex flex-col bg-gray-100 overflow-hidden\">\r\n            {/* Floor View - Table Layout */}\r\n            {viewMode === 'floor' && (\r\n                <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n                    {/* Floor Header */}\r\n                    <div className=\"bg-gradient-to-r from-orange-500 to-red-500 p-4\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <h1 className=\"text-2xl font-bold text-white\">ü™ë Table Floor</h1>\r\n                                <p className=\"text-white/80 text-sm\">Select a table to take order</p>\r\n                            </div>\r\n                            <div className=\"flex gap-2\">\r\n                                <button\r\n                                    onClick={() => setShowSalesModal(true)}\r\n                                    className=\"px-4 py-2 bg-white/20 text-white rounded-lg font-semibold text-sm hover:bg-white/30\"\r\n                                >\r\n                                    üìä Sales\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => setShowRecentModal(true)}\r\n                                    className=\"px-4 py-2 bg-white/20 text-white rounded-lg font-semibold text-sm hover:bg-white/30\"\r\n                                >\r\n                                    üïí Recent\r\n                                </button>\r\n                                <select\r\n                                    value={selectedStaff}\r\n                                    onChange={handleStaffChange}\r\n                                    className={`px-3 py-2 rounded-lg font-semibold text-sm ${!selectedStaff ? 'bg-red-100 text-red-600 animate-pulse' : 'bg-white/20 text-white'}`}\r\n                                >\r\n                                    <option value=\"\">üë§ Staff</option>\r\n                                    {STAFF_LIST.map(s => <option key={s} value={s}>{s}</option>)}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Legend */}\r\n                    <div className=\"bg-white border-b px-4 py-2 flex gap-4 text-xs\">\r\n                        <div className=\"flex items-center gap-1\"><span className=\"w-3 h-3 rounded bg-green-500\"></span> Free</div>\r\n                        <div className=\"flex items-center gap-1\"><span className=\"w-3 h-3 rounded bg-orange-500\"></span> Occupied</div>\r\n                        <div className=\"flex items-center gap-1\"><span className=\"w-3 h-3 rounded bg-red-500\"></span> Bill Ready</div>\r\n                    </div>\r\n\r\n                    {/* Table Grid */}\r\n                    <div className=\"flex-1 overflow-y-auto p-4\">\r\n                        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\r\n                            {Array.from({ length: TOTAL_TABLES }, (_, i) => {\r\n                                const tableNum = `T-${i + 1}`;\r\n                                const { status, order } = getTableStatus(tableNum);\r\n                                const bgColor = status === 'free' ? 'bg-green-50 border-green-500 hover:bg-green-100' :\r\n                                    status === 'occupied' ? 'bg-orange-50 border-orange-500 hover:bg-orange-100' :\r\n                                        'bg-red-50 border-red-500 hover:bg-red-100';\r\n                                const iconColor = status === 'free' ? 'text-green-500' :\r\n                                    status === 'occupied' ? 'text-orange-500' : 'text-red-500';\r\n\r\n                                return (\r\n                                    <button\r\n                                        key={tableNum}\r\n                                        onClick={() => handleTableClick(tableNum)}\r\n                                        className={`p-4 rounded-2xl border-2 ${bgColor} transition-all hover:scale-105 active:scale-95 text-left`}\r\n                                    >\r\n                                        <div className=\"flex items-center justify-between mb-2\">\r\n                                            <span className={`text-3xl ${iconColor}`}>ü™ë</span>\r\n                                            <span className={`text-xs font-bold px-2 py-1 rounded ${status === 'free' ? 'bg-green-500 text-white' : status === 'occupied' ? 'bg-orange-500 text-white' : 'bg-red-500 text-white'}`}>\r\n                                                {status === 'free' ? 'FREE' : status === 'occupied' ? 'BUSY' : 'BILL'}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className=\"text-xl font-bold text-gray-800\">{tableNum}</div>\r\n                                        {order && (\r\n                                            <div className=\"mt-2 text-sm\">\r\n                                                <div className=\"text-gray-500 truncate\">{order.items.slice(0, 2).join(', ')}</div>\r\n                                                <div className=\"font-bold text-orange-600\">‚Çπ{order.total}</div>\r\n                                            </div>\r\n                                        )}\r\n                                    </button>\r\n                                );\r\n                            })}\r\n                            {/* Takeaway Button */}\r\n                            <button\r\n                                onClick={() => { setOrderType('Takeaway'); setTableNumber(''); setViewMode('pos'); setActiveTab('menu'); }}\r\n                                className=\"p-4 rounded-2xl border-2 bg-blue-50 border-blue-500 hover:bg-blue-100 transition-all hover:scale-105 active:scale-95 text-left\"\r\n                            >\r\n                                <span className=\"text-3xl\">üì¶</span>\r\n                                <div className=\"text-xl font-bold text-gray-800 mt-2\">Takeaway</div>\r\n                                <div className=\"text-sm text-gray-500\">New parcel order</div>\r\n                            </button>\r\n                            {/* Delivery Button */}\r\n                            <button\r\n                                onClick={() => { setOrderType('Delivery'); setTableNumber(''); setViewMode('pos'); setActiveTab('menu'); }}\r\n                                className=\"p-4 rounded-2xl border-2 bg-purple-50 border-purple-500 hover:bg-purple-100 transition-all hover:scale-105 active:scale-95 text-left\"\r\n                            >\r\n                                <span className=\"text-3xl\">üöó</span>\r\n                                <div className=\"text-xl font-bold text-gray-800 mt-2\">Delivery</div>\r\n                                <div className=\"text-sm text-gray-500\">New delivery order</div>\r\n                            </button>\r\n                            {/* Online/Phone Order Button */}\r\n                            <button\r\n                                onClick={() => setShowOnlineModal(true)}\r\n                                className=\"p-4 rounded-2xl border-2 bg-teal-50 border-teal-500 hover:bg-teal-100 transition-all hover:scale-105 active:scale-95 text-left\"\r\n                            >\r\n                                <span className=\"text-3xl\">üìû</span>\r\n                                <div className=\"text-xl font-bold text-gray-800 mt-2\">Phone/Online</div>\r\n                                <div className=\"text-sm text-gray-500\">Customer call order</div>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* POS View - Menu & Cart */}\r\n            {viewMode === 'pos' && (\r\n                <div className=\"flex-1 flex flex-col md:flex-row overflow-hidden\">\r\n                    {/* Left Side - Menu */}\r\n                    <div className={`flex-1 flex flex-col overflow-hidden ${activeTab === 'cart' ? 'hidden md:flex' : 'flex'}`}>\r\n                        {/* Header */}\r\n                        <div className=\"bg-white border-b p-3 flex items-center gap-3\">\r\n                            <button\r\n                                onClick={() => setViewMode('floor')}\r\n                                className=\"px-3 py-2 rounded-lg bg-gray-800 text-white font-semibold text-xs flex items-center gap-1\"\r\n                            >\r\n                                ‚Üê Floor\r\n                            </button>\r\n                            {tableNumber && (\r\n                                <div className=\"px-3 py-2 bg-orange-100 text-orange-600 rounded-lg font-bold text-xs\">\r\n                                    ü™ë {tableNumber}\r\n                                </div>\r\n                            )}\r\n                            <div className=\"flex-1 relative\">\r\n                                <input\r\n                                    ref={searchRef}\r\n                                    type=\"text\"\r\n                                    placeholder=\"üîç Search items... (F1)\"\r\n                                    value={searchQuery}\r\n                                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                                    className=\"w-full pl-4 pr-4 py-2.5 rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-100 outline-none transition-all text-sm\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"flex gap-1\">\r\n                                {['Dine In', 'Takeaway', 'Delivery'].map(type => (\r\n                                    <button\r\n                                        key={type}\r\n                                        onClick={() => setOrderType(type as any)}\r\n                                        className={`px-3 py-2 rounded-lg font-semibold text-xs transition-all ${orderType === type ? 'bg-orange-500 text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n                                            }`}\r\n                                    >\r\n                                        {type === 'Dine In' && 'ü™ë'} {type === 'Takeaway' && 'üì¶'} {type === 'Delivery' && 'üöó'} {type}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                            <button\r\n                                onClick={() => setShowHeldOrders(true)}\r\n                                className=\"relative px-3 py-2 rounded-lg bg-blue-500 text-white font-semibold text-xs\"\r\n                            >\r\n                                üìã Held (F3)\r\n                                {heldOrders.length > 0 && (\r\n                                    <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-4 h-4 rounded-full flex items-center justify-center\">\r\n                                        {heldOrders.length}\r\n                                    </span>\r\n                                )}\r\n                            </button>\r\n\r\n                            <button\r\n                                onClick={() => setShowRecentModal(true)}\r\n                                className=\"px-3 py-2 rounded-lg bg-purple-100 text-purple-600 font-semibold text-xs border border-purple-200\"\r\n                            >\r\n                                üïí Recent\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setShowSalesModal(true)}\r\n                                className=\"px-3 py-2 rounded-lg bg-green-100 text-green-600 font-semibold text-xs border border-green-200\"\r\n                            >\r\n                                üìä Sales\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Quick Keys */}\r\n                        {showQuickKeys && quickKeyItems.length > 0 && (\r\n                            <div className=\"bg-gradient-to-r from-orange-500 to-red-500 px-3 py-2 flex gap-2 overflow-x-auto\">\r\n                                <span className=\"text-white/80 text-xs font-bold py-1\">QUICK:</span>\r\n                                {quickKeyItems.map((itemId, index) => {\r\n                                    const item = items.find(i => i.id === itemId);\r\n                                    if (!item) return null;\r\n                                    return (\r\n                                        <button\r\n                                            key={itemId}\r\n                                            onClick={() => addToCart(item)}\r\n                                            className=\"px-3 py-1 bg-white/20 hover:bg-white/30 rounded-lg text-white text-xs font-semibold whitespace-nowrap transition-all\"\r\n                                        >\r\n                                            [{index + 1}] {item.name}\r\n                                        </button>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Categories */}\r\n                        <div className=\"bg-white border-b px-3 py-2 flex gap-2 overflow-x-auto\">\r\n                            <button\r\n                                onClick={() => setActiveCategory('all')}\r\n                                className={`px-3 py-1.5 rounded-lg font-semibold text-xs whitespace-nowrap transition-all ${activeCategory === 'all' ? 'bg-orange-500 text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n                                    }`}\r\n                            >\r\n                                All\r\n                            </button>\r\n                            {categories.map(cat => (\r\n                                <button\r\n                                    key={cat.id}\r\n                                    onClick={() => setActiveCategory(cat.id)}\r\n                                    className={`px-3 py-1.5 rounded-lg font-semibold text-xs whitespace-nowrap transition-all ${activeCategory === cat.id ? 'bg-orange-500 text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n                                        }`}\r\n                                >\r\n                                    {cat.name}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n\r\n                        {/* Menu Grid */}\r\n                        <div className=\"flex-1 overflow-y-auto p-3\">\r\n                            <div className=\"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-2\">\r\n                                {filteredItems.map(item => {\r\n                                    const qty = getItemQty(item.id);\r\n                                    const isQuickKey = quickKeyItems.includes(item.id);\r\n                                    return (\r\n                                        <div\r\n                                            key={item.id}\r\n                                            className={`bg-white rounded-xl border-2 overflow-hidden cursor-pointer transition-all hover:shadow-lg active:scale-95 relative ${qty > 0 ? 'border-orange-500 shadow-md' : 'border-transparent'\r\n                                                }`}\r\n                                        >\r\n                                            <div onClick={() => addToCart(item)} className=\"h-20 relative bg-gray-100\">\r\n                                                {item.image ? (\r\n                                                    <Image src={item.image} alt={item.name} fill className=\"object-cover\" sizes=\"120px\" />\r\n                                                ) : (\r\n                                                    <div className=\"w-full h-full flex items-center justify-center text-2xl\">ü•ò</div>\r\n                                                )}\r\n                                                {qty > 0 && (\r\n                                                    <div className=\"absolute top-1 right-1 bg-orange-500 text-white w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold\">\r\n                                                        {qty}\r\n                                                    </div>\r\n                                                )}\r\n                                                <div className={`absolute top-1 left-1 w-3 h-3 rounded flex items-center justify-center border ${item.veg ? 'border-green-500 bg-white' : 'border-red-500 bg-white'}`}>\r\n                                                    <div className={`w-1.5 h-1.5 rounded-full ${item.veg ? 'bg-green-500' : 'bg-red-500'}`} />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"p-2\" onClick={() => addToCart(item)}>\r\n                                                <h3 className=\"font-semibold text-xs text-gray-800 line-clamp-1\">{item.name}</h3>\r\n                                                <p className=\"text-orange-600 font-bold text-sm\">‚Çπ{item.price}</p>\r\n                                            </div>\r\n                                            <button\r\n                                                onClick={(e) => { e.stopPropagation(); addToQuickKeys(item.id); }}\r\n                                                className={`absolute bottom-1 right-1 w-5 h-5 rounded text-[10px] ${isQuickKey ? 'bg-orange-500 text-white' : 'bg-gray-200 text-gray-500'}`}\r\n                                                title=\"Add to Quick Keys\"\r\n                                            >\r\n                                                ‚ö°\r\n                                            </button>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Keyboard Shortcuts Bar */}\r\n                        <div className=\"bg-gray-800 text-white px-3 py-2 flex gap-4 text-[10px] font-mono\">\r\n                            <span>F1: Search</span>\r\n                            <span>F2: Hold</span>\r\n                            <span>F3: Held Orders</span>\r\n                            <span>F4: Clear</span>\r\n                            <span>F5: Quick Keys</span>\r\n                            <span>F8: Pay</span>\r\n                            <span>F12: Print</span>\r\n                            <span>1-9: Quick Add</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Right Side - Cart */}\r\n                    <div className={`w-full md:w-96 bg-white border-l flex flex-col shadow-xl absolute md:relative inset-0 z-20 md:z-auto ${activeTab === 'menu' ? 'hidden md:flex' : 'flex'}`}>\r\n                        <div className=\"p-3 border-b bg-gradient-to-r from-gray-50 to-gray-100\">\r\n                            <div className=\"flex items-center justify-between mb-2\">\r\n                                <h2 className=\"text-lg font-bold text-gray-800\">üõí Current Order</h2>\r\n                                <div className=\"flex gap-1\">\r\n                                    {cart.length > 0 && (\r\n                                        <>\r\n                                            <button onClick={printKOT} className={`px-2 py-1 rounded text-xs font-semibold ${kotPrinted ? 'bg-green-100 text-green-600' : 'bg-yellow-100 text-yellow-600'}`}>\r\n                                                {kotPrinted ? '‚úì KOT' : 'üç≥ KOT'}\r\n                                            </button>\r\n                                            <button onClick={holdCurrentOrder} className=\"px-2 py-1 bg-blue-100 text-blue-600 rounded text-xs font-semibold\">‚è∏Ô∏è Hold</button>\r\n                                            <button onClick={clearCart} className=\"px-2 py-1 bg-red-100 text-red-600 rounded text-xs font-semibold\">üóëÔ∏è</button>\r\n                                        </>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                            {/* Order Info Row */}\r\n                            <div className=\"flex gap-2 flex-wrap\">\r\n                                {orderType === 'Dine In' && (\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        placeholder=\"ü™ë Table #\"\r\n                                        value={tableNumber}\r\n                                        onChange={(e) => setTableNumber(e.target.value)}\r\n                                        className=\"w-20 px-2 py-1.5 rounded-lg border border-gray-200 focus:border-orange-500 outline-none text-xs\"\r\n                                    />\r\n                                )}\r\n                                <select\r\n                                    value={selectedStaff}\r\n                                    onChange={handleStaffChange}\r\n                                    className={`px-2 py-1.5 rounded-lg border border-gray-200 text-xs ${!selectedStaff ? 'animate-pulse border-red-400 bg-red-50' : 'bg-white'}`}\r\n                                >\r\n                                    <option value=\"\">üë§ Staff</option>\r\n                                    {STAFF_LIST.map(staff => (\r\n                                        <option key={staff} value={staff}>{staff}</option>\r\n                                    ))}\r\n                                </select>\r\n                                <button\r\n                                    onClick={() => setShowCustomerSearch(true)}\r\n                                    className={`px-2 py-1.5 rounded-lg text-xs font-semibold ${selectedCustomer ? 'bg-green-100 text-green-600' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`}\r\n                                >\r\n                                    {selectedCustomer ? `‚úì ${selectedCustomer.name.split(' ')[0]}` : 'üë§ Customer'}\r\n                                </button>\r\n                            </div>\r\n                            {/* Order Notes */}\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"üìù Order notes (e.g., birthday, allergies...)\"\r\n                                value={orderNotes}\r\n                                onChange={(e) => setOrderNotes(e.target.value)}\r\n                                className=\"w-full mt-2 px-2 py-1.5 rounded-lg border border-gray-200 focus:border-orange-500 outline-none text-xs\"\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Cart Items */}\r\n                        <div className=\"flex-1 overflow-y-auto p-3 space-y-2\">\r\n                            {cart.length === 0 ? (\r\n                                <div className=\"flex flex-col items-center justify-center h-full text-gray-400\">\r\n                                    <span className=\"text-5xl mb-3\">üõí</span>\r\n                                    <p className=\"font-semibold text-sm\">Cart is empty</p>\r\n                                    <p className=\"text-xs\">Click items to add</p>\r\n                                </div>\r\n                            ) : (\r\n                                cart.map(item => (\r\n                                    <div key={item.id} className=\"p-2 bg-gray-50 rounded-xl\">\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <div className=\"w-10 h-10 rounded-lg bg-gray-200 overflow-hidden relative flex-shrink-0\">\r\n                                                {item.image ? (\r\n                                                    <Image src={item.image} alt={item.name} fill className=\"object-cover\" sizes=\"40px\" />\r\n                                                ) : (\r\n                                                    <div className=\"w-full h-full flex items-center justify-center text-lg\">ü•ò</div>\r\n                                                )}\r\n                                            </div>\r\n                                            <div className=\"flex-1 min-w-0\">\r\n                                                <h4 className=\"font-semibold text-xs text-gray-800 truncate\">{item.name}</h4>\r\n                                                <p className=\"text-orange-600 font-bold text-xs\">‚Çπ{item.price}</p>\r\n                                            </div>\r\n                                            <div className=\"flex items-center gap-1 bg-white rounded-lg border p-0.5\">\r\n                                                <button onClick={() => removeFromCart(item.id)} className=\"w-6 h-6 flex items-center justify-center hover:bg-gray-100 rounded font-bold text-gray-600 text-sm\">‚àí</button>\r\n                                                <span className=\"w-5 text-center font-semibold text-xs\">{item.quantity}</span>\r\n                                                <button onClick={() => addToCart(item as any)} className=\"w-6 h-6 flex items-center justify-center hover:bg-gray-100 rounded font-bold text-gray-600 text-sm\">+</button>\r\n                                            </div>\r\n                                            <div className=\"font-bold text-gray-800 w-12 text-right text-xs\">‚Çπ{item.price * item.quantity}</div>\r\n                                        </div>\r\n                                        {/* Item Note */}\r\n                                        {editingNoteId === item.id ? (\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                placeholder=\"Add note (e.g., extra spicy, no onion)\"\r\n                                                defaultValue={item.note || ''}\r\n                                                autoFocus\r\n                                                onBlur={(e) => updateItemNote(item.id, e.target.value)}\r\n                                                onKeyDown={(e) => { if (e.key === 'Enter') updateItemNote(item.id, (e.target as HTMLInputElement).value); }}\r\n                                                className=\"w-full mt-1 px-2 py-1 rounded border text-xs\"\r\n                                            />\r\n                                        ) : (\r\n                                            <button\r\n                                                onClick={() => setEditingNoteId(item.id)}\r\n                                                className=\"mt-1 text-xs text-gray-400 hover:text-orange-500\"\r\n                                            >\r\n                                                {item.note ? `‚úèÔ∏è ${item.note}` : '+ Add Note'}\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                ))\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Cart Footer */}\r\n                        {cart.length > 0 && (\r\n                            <div className=\"border-t p-3 bg-gradient-to-b from-gray-50 to-gray-100 space-y-2\">\r\n                                {/* Discount & Parcel Row */}\r\n                                <div className=\"flex gap-2 items-center\">\r\n                                    <select\r\n                                        value={discountType}\r\n                                        onChange={(e) => setDiscountType(e.target.value as any)}\r\n                                        className=\"px-2 py-1.5 rounded-lg border text-xs\"\r\n                                    >\r\n                                        <option value=\"percent\">%</option>\r\n                                        <option value=\"flat\">‚Çπ</option>\r\n                                    </select>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        placeholder=\"Discount\"\r\n                                        value={discountValue || ''}\r\n                                        onChange={(e) => setDiscountValue(Number(e.target.value))}\r\n                                        className=\"w-16 px-2 py-1.5 rounded-lg border text-xs\"\r\n                                    />\r\n                                    <button onClick={() => setDiscountValue(10)} className=\"px-2 py-1.5 bg-green-100 text-green-600 rounded-lg text-xs font-semibold\">10%</button>\r\n                                    <button onClick={() => setDiscountValue(20)} className=\"px-2 py-1.5 bg-green-100 text-green-600 rounded-lg text-xs font-semibold\">20%</button>\r\n                                    {orderType !== 'Dine In' && (\r\n                                        <button\r\n                                            onClick={() => setParcelCharge(!parcelCharge)}\r\n                                            className={`px-2 py-1.5 rounded-lg text-xs font-semibold ${parcelCharge ? 'bg-blue-500 text-white' : 'bg-gray-100 text-gray-600'}`}\r\n                                        >\r\n                                            üì¶ +‚Çπ{PARCEL_CHARGE}\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* Tip Row */}\r\n                                <div className=\"flex gap-2 items-center\">\r\n                                    <span className=\"text-xs text-gray-500\">üíù Tip:</span>\r\n                                    <button onClick={() => setTipAmount(20)} className={`px-2 py-1 rounded text-xs ${tipAmount === 20 ? 'bg-pink-500 text-white' : 'bg-pink-100 text-pink-600'}`}>‚Çπ20</button>\r\n                                    <button onClick={() => setTipAmount(50)} className={`px-2 py-1 rounded text-xs ${tipAmount === 50 ? 'bg-pink-500 text-white' : 'bg-pink-100 text-pink-600'}`}>‚Çπ50</button>\r\n                                    <button onClick={() => setTipAmount(100)} className={`px-2 py-1 rounded text-xs ${tipAmount === 100 ? 'bg-pink-500 text-white' : 'bg-pink-100 text-pink-600'}`}>‚Çπ100</button>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        placeholder=\"Custom\"\r\n                                        value={tipAmount || ''}\r\n                                        onChange={(e) => setTipAmount(Number(e.target.value))}\r\n                                        className=\"w-16 px-2 py-1 rounded border text-xs\"\r\n                                    />\r\n                                    {tipAmount > 0 && <button onClick={() => setTipAmount(0)} className=\"text-xs text-red-500\">‚úï</button>}\r\n                                </div>\r\n\r\n                                {/* Totals */}\r\n                                <div className=\"space-y-1 text-xs bg-white rounded-lg p-2\">\r\n                                    <div className=\"flex justify-between text-gray-600\">\r\n                                        <span>Subtotal ({cartCount} items)</span>\r\n                                        <span>‚Çπ{subtotal}</span>\r\n                                    </div>\r\n                                    {discountAmount > 0 && (\r\n                                        <div className=\"flex justify-between text-green-600\">\r\n                                            <span>Discount ({discountType === 'percent' ? `${discountValue}%` : 'Flat'})</span>\r\n                                            <span>-‚Çπ{discountAmount}</span>\r\n                                        </div>\r\n                                    )}\r\n                                    {parcelAmount > 0 && (\r\n                                        <div className=\"flex justify-between text-blue-600\">\r\n                                            <span>üì¶ Parcel Charge</span>\r\n                                            <span>+‚Çπ{parcelAmount}</span>\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"flex justify-between text-gray-600\">\r\n                                        <span>GST (5%)</span>\r\n                                        <span>‚Çπ{taxAmount}</span>\r\n                                    </div>\r\n                                    {tipAmount > 0 && (\r\n                                        <div className=\"flex justify-between text-pink-600\">\r\n                                            <span>üíù Tip</span>\r\n                                            <span>+‚Çπ{tipAmount}</span>\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"flex justify-between text-xl font-bold text-gray-800 pt-2 border-t\">\r\n                                        <span>Total</span>\r\n                                        <span className=\"text-orange-600\">‚Çπ{cartTotal}</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Payment Buttons */}\r\n                                <div className=\"grid grid-cols-3 gap-2\">\r\n                                    {(['Cash', 'UPI', 'Card'] as const).map(method => (\r\n                                        <button\r\n                                            key={method}\r\n                                            onClick={() => { setPaymentMethod(method); setShowCheckout(true); }}\r\n                                            className=\"py-2.5 rounded-xl font-semibold text-xs bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-md hover:shadow-lg active:scale-95 transition-all\"\r\n                                        >\r\n                                            {method === 'Cash' && 'üíµ'} {method === 'UPI' && 'üì±'} {method === 'Card' && 'üí≥'} {method}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                                <div className=\"grid grid-cols-2 gap-2\">\r\n                                    <button\r\n                                        onClick={() => setShowSplitBill(true)}\r\n                                        className=\"py-2 rounded-xl font-semibold text-xs bg-purple-100 text-purple-600 hover:bg-purple-200 transition-all\"\r\n                                    >\r\n                                        ‚úÇÔ∏è Split Bill\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={printReceipt}\r\n                                        className=\"py-2 rounded-xl font-semibold text-xs bg-gray-100 text-gray-600 hover:bg-gray-200 transition-all\"\r\n                                    >\r\n                                        üñ®Ô∏è Print Only\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Mobile Bottom Nav */}\r\n                    <div className=\"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t flex z-30 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]\">\r\n                        <button\r\n                            onClick={() => setActiveTab('menu')}\r\n                            className={`flex-1 py-3 flex flex-col items-center justify-center gap-1 ${activeTab === 'menu' ? 'text-orange-600 bg-orange-50' : 'text-gray-500'}`}\r\n                        >\r\n                            <span className=\"text-xl\">üçî</span>\r\n                            <span className=\"text-xs font-bold\">Menu</span>\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setActiveTab('cart')}\r\n                            className={`flex-1 py-3 flex flex-col items-center justify-center gap-1 relative ${activeTab === 'cart' ? 'text-orange-600 bg-orange-50' : 'text-gray-500'}`}\r\n                        >\r\n                            <div className=\"relative\">\r\n                                <span className=\"text-xl\">üõí</span>\r\n                                {cartCount > 0 && (\r\n                                    <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] w-4 h-4 rounded-full flex items-center justify-center\">\r\n                                        {cartCount}\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n                            <span className=\"text-xs font-bold\">Cart (‚Çπ{cartTotal})</span>\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Held Orders Modal */}\r\n                    {\r\n                        showHeldOrders && (\r\n                            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\" onClick={() => setShowHeldOrders(false)}>\r\n                                <div className=\"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl max-h-[80vh] overflow-auto\" onClick={e => e.stopPropagation()}>\r\n                                    <h3 className=\"text-xl font-bold mb-4\">üìã Held Orders ({heldOrders.length})</h3>\r\n                                    {heldOrders.length === 0 ? (\r\n                                        <p className=\"text-gray-500 text-center py-8\">No held orders</p>\r\n                                    ) : (\r\n                                        <div className=\"space-y-3\">\r\n                                            {heldOrders.map(order => (\r\n                                                <div key={order.id} className=\"p-4 bg-gray-50 rounded-xl flex items-center gap-4\">\r\n                                                    <div className=\"flex-1\">\r\n                                                        <div className=\"font-bold\">{order.name}</div>\r\n                                                        <div className=\"text-sm text-gray-500\">\r\n                                                            {order.cart.length} items ‚Ä¢ ‚Çπ{order.cart.reduce((s, i) => s + i.price * i.quantity, 0)}\r\n                                                        </div>\r\n                                                        <div className=\"text-xs text-gray-400\">{new Date(order.timestamp).toLocaleTimeString()}</div>\r\n                                                    </div>\r\n                                                    <button onClick={() => resumeHeldOrder(order)} className=\"px-4 py-2 bg-green-500 text-white rounded-lg font-semibold text-sm\">Resume</button>\r\n                                                    <button onClick={() => deleteHeldOrder(order.id)} className=\"px-4 py-2 bg-red-100 text-red-600 rounded-lg font-semibold text-sm\">Delete</button>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    )}\r\n                                    <button onClick={() => setShowHeldOrders(false)} className=\"w-full mt-4 py-3 rounded-xl font-semibold bg-gray-100 hover:bg-gray-200\">Close</button>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                    {/* Customer Search Modal */}\r\n                    {\r\n                        showCustomerSearch && (\r\n                            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\" onClick={() => setShowCustomerSearch(false)}>\r\n                                <div className=\"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl\" onClick={e => e.stopPropagation()}>\r\n                                    <h3 className=\"text-xl font-bold mb-4\">üë§ Customer</h3>\r\n                                    <div className=\"space-y-3\">\r\n                                        <input\r\n                                            type=\"tel\"\r\n                                            placeholder=\"Phone Number\"\r\n                                            value={customerPhone}\r\n                                            onChange={(e) => { setCustomerPhone(e.target.value); searchCustomer(e.target.value); }}\r\n                                            className=\"w-full px-4 py-3 rounded-xl border focus:border-orange-500 outline-none\"\r\n                                        />\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            placeholder=\"Name\"\r\n                                            value={customerName}\r\n                                            onChange={(e) => setCustomerName(e.target.value)}\r\n                                            className=\"w-full px-4 py-3 rounded-xl border focus:border-orange-500 outline-none\"\r\n                                        />\r\n                                        {selectedCustomer && (\r\n                                            <div className=\"p-3 bg-green-50 rounded-xl\">\r\n                                                <p className=\"text-sm text-green-700\">‚úÖ Returning customer: {selectedCustomer.totalOrders} previous orders</p>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                    <div className=\"flex gap-3 mt-6\">\r\n                                        <button onClick={() => setShowCustomerSearch(false)} className=\"flex-1 py-3 rounded-xl font-semibold bg-gray-100\">Cancel</button>\r\n                                        <button onClick={() => setShowCustomerSearch(false)} className=\"flex-1 py-3 rounded-xl font-semibold bg-orange-500 text-white\">Save</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                    {/* Split Bill Modal */}\r\n                    {\r\n                        showSplitBill && (\r\n                            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\" onClick={() => setShowSplitBill(false)}>\r\n                                <div className=\"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl\" onClick={e => e.stopPropagation()}>\r\n                                    <h3 className=\"text-xl font-bold mb-4\">‚úÇÔ∏è Split Bill</h3>\r\n                                    <div className=\"text-center mb-4\">\r\n                                        <div className=\"text-3xl font-bold text-orange-600\">‚Çπ{cartTotal}</div>\r\n                                        <div className=\"text-sm text-gray-500\">Total Amount</div>\r\n                                    </div>\r\n                                    <div className=\"space-y-3 mb-4\">\r\n                                        {splitPayments.map((payment, index) => (\r\n                                            <div key={index} className=\"flex gap-2\">\r\n                                                <select\r\n                                                    value={payment.method}\r\n                                                    onChange={(e) => updateSplitPayment(index, 'method', e.target.value)}\r\n                                                    className=\"px-3 py-2 rounded-lg border\"\r\n                                                >\r\n                                                    <option>Cash</option>\r\n                                                    <option>UPI</option>\r\n                                                    <option>Card</option>\r\n                                                </select>\r\n                                                <input\r\n                                                    type=\"number\"\r\n                                                    value={payment.amount}\r\n                                                    onChange={(e) => updateSplitPayment(index, 'amount', Number(e.target.value))}\r\n                                                    className=\"flex-1 px-3 py-2 rounded-lg border\"\r\n                                                />\r\n                                                <button onClick={() => removeSplitPayment(index)} className=\"px-3 py-2 bg-red-100 text-red-600 rounded-lg\">√ó</button>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                    <button onClick={addSplitPayment} className=\"w-full py-2 rounded-lg border-2 border-dashed border-gray-300 text-gray-500 mb-4\">+ Add Payment</button>\r\n                                    <div className=\"flex gap-3\">\r\n                                        <button onClick={() => setShowSplitBill(false)} className=\"flex-1 py-3 rounded-xl font-semibold bg-gray-100\">Cancel</button>\r\n                                        <button onClick={() => { setShowSplitBill(false); setShowCheckout(true); }} className=\"flex-1 py-3 rounded-xl font-semibold bg-orange-500 text-white\">Confirm</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                    {/* Checkout Modal */}\r\n                    {\r\n                        showCheckout && (\r\n                            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\" onClick={() => setShowCheckout(false)}>\r\n                                <div className=\"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl\" onClick={e => e.stopPropagation()}>\r\n                                    {showSuccess ? (\r\n                                        <div className=\"text-center py-8\">\r\n                                            <div className=\"text-6xl mb-4\">‚úÖ</div>\r\n                                            <h3 className=\"text-2xl font-bold text-green-600 mb-2\">Order Placed!</h3>\r\n                                            <p className=\"text-gray-500\">Printing receipt...</p>\r\n                                            {changeAmount > 0 && (\r\n                                                <div className=\"mt-4 p-4 bg-green-50 rounded-xl\">\r\n                                                    <div className=\"text-lg\">Return Change</div>\r\n                                                    <div className=\"text-3xl font-bold text-green-600\">‚Çπ{changeAmount}</div>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    ) : (\r\n                                        <>\r\n                                            <h3 className=\"text-xl font-bold mb-4\">üí≥ Payment</h3>\r\n\r\n                                            {/* Order Summary */}\r\n                                            <div className=\"bg-gray-50 rounded-xl p-3 mb-4 text-sm space-y-1\">\r\n                                                <div className=\"flex justify-between\"><span>Items ({cartCount})</span><span>‚Çπ{subtotal}</span></div>\r\n                                                {discountAmount > 0 && <div className=\"flex justify-between text-green-600\"><span>Discount</span><span>-‚Çπ{discountAmount}</span></div>}\r\n                                                {parcelAmount > 0 && <div className=\"flex justify-between text-blue-600\"><span>Parcel</span><span>+‚Çπ{parcelAmount}</span></div>}\r\n                                                <div className=\"flex justify-between\"><span>GST</span><span>‚Çπ{taxAmount}</span></div>\r\n                                                {tipAmount > 0 && <div className=\"flex justify-between text-pink-600\"><span>Tip</span><span>+‚Çπ{tipAmount}</span></div>}\r\n                                            </div>\r\n\r\n                                            <div className=\"bg-orange-50 rounded-xl p-4 mb-4\">\r\n                                                <div className=\"flex justify-between text-2xl font-bold\">\r\n                                                    <span>Total</span>\r\n                                                    <span className=\"text-orange-600\">‚Çπ{cartTotal}</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            {/* Payment Method Selection */}\r\n                                            <div className=\"grid grid-cols-3 gap-2 mb-4\">\r\n                                                {(['Cash', 'UPI', 'Card'] as const).map(method => (\r\n                                                    <button\r\n                                                        key={method}\r\n                                                        onClick={() => setPaymentMethod(method)}\r\n                                                        className={`py-3 rounded-xl font-semibold transition-all ${paymentMethod === method ? 'bg-orange-500 text-white' : 'bg-gray-100 text-gray-600'}`}\r\n                                                    >\r\n                                                        {method === 'Cash' && 'üíµ'} {method === 'UPI' && 'üì±'} {method === 'Card' && 'üí≥'} {method}\r\n                                                    </button>\r\n                                                ))}\r\n                                            </div>\r\n                                            <button\r\n                                                onClick={handlePayLater}\r\n                                                className=\"w-full py-3 mb-4 rounded-xl font-bold text-sm bg-yellow-100 text-yellow-700 border border-yellow-300 hover:bg-yellow-200 transition-all\"\r\n                                            >\r\n                                                üïí Pay Later (Mark as Unpaid)\r\n                                            </button>\r\n\r\n                                            {/* Cash Payment - Amount Tendered */}\r\n                                            {paymentMethod === 'Cash' && (\r\n                                                <div className=\"mb-4 p-3 bg-yellow-50 rounded-xl\">\r\n                                                    <label className=\"text-sm font-semibold text-gray-600 mb-2 block\">üíµ Amount Received:</label>\r\n                                                    <div className=\"flex gap-2 mb-2\">\r\n                                                        {[cartTotal, Math.ceil(cartTotal / 100) * 100, Math.ceil(cartTotal / 500) * 500].map(amt => (\r\n                                                            <button\r\n                                                                key={amt}\r\n                                                                onClick={() => setAmountTendered(amt)}\r\n                                                                className={`px-3 py-2 rounded-lg text-sm font-semibold ${amountTendered === amt ? 'bg-green-500 text-white' : 'bg-white border'}`}\r\n                                                            >\r\n                                                                ‚Çπ{amt}\r\n                                                            </button>\r\n                                                        ))}\r\n                                                    </div>\r\n                                                    <input\r\n                                                        type=\"number\"\r\n                                                        value={amountTendered || ''}\r\n                                                        onChange={(e) => setAmountTendered(Number(e.target.value))}\r\n                                                        placeholder=\"Enter amount...\"\r\n                                                        className=\"w-full px-4 py-3 rounded-xl border text-xl font-bold text-center\"\r\n                                                    />\r\n                                                    {amountTendered >= cartTotal && (\r\n                                                        <div className=\"mt-3 p-3 bg-green-100 rounded-lg text-center\">\r\n                                                            <div className=\"text-sm text-green-600\">Change Due</div>\r\n                                                            <div className=\"text-3xl font-bold text-green-700\">‚Çπ{changeAmount}</div>\r\n                                                        </div>\r\n                                                    )}\r\n                                                    {amountTendered > 0 && amountTendered < cartTotal && (\r\n                                                        <div className=\"mt-3 p-3 bg-red-100 rounded-lg text-center\">\r\n                                                            <div className=\"text-sm text-red-600\">Amount Short</div>\r\n                                                            <div className=\"text-xl font-bold text-red-700\">‚Çπ{cartTotal - amountTendered}</div>\r\n                                                        </div>\r\n                                                    )}\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            <div className=\"flex gap-3\">\r\n                                                <button onClick={() => setShowCheckout(false)} className=\"flex-1 py-3 rounded-xl font-semibold bg-gray-100\">Cancel</button>\r\n                                                <button\r\n                                                    onClick={handleCheckout}\r\n                                                    disabled={paymentMethod === 'Cash' && amountTendered < cartTotal && amountTendered > 0}\r\n                                                    className=\"flex-1 py-3 rounded-xl font-semibold bg-gradient-to-r from-orange-500 to-red-500 text-white disabled:opacity-50\"\r\n                                                >\r\n                                                    ‚úì Confirm & Print\r\n                                                </button>\r\n                                            </div>\r\n                                        </>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                    {/* Confirm Clear Modal */}\r\n                    {\r\n                        showConfirmClear && (\r\n                            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n                                <div className=\"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl text-center\">\r\n                                    <div className=\"text-5xl mb-4\">‚ö†Ô∏è</div>\r\n                                    <h3 className=\"text-xl font-bold mb-2\">Clear Cart?</h3>\r\n                                    <p className=\"text-gray-500 mb-4\">This will remove all {cartCount} items from the cart.</p>\r\n                                    <div className=\"flex gap-3\">\r\n                                        <button onClick={() => setShowConfirmClear(false)} className=\"flex-1 py-3 rounded-xl font-semibold bg-gray-100\">Cancel</button>\r\n                                        <button onClick={confirmClear} className=\"flex-1 py-3 rounded-xl font-semibold bg-red-500 text-white\">Yes, Clear</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                    {/* Sales Modal */}\r\n                    {\r\n                        showSalesModal && (\r\n                            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\" onClick={() => setShowSalesModal(false)}>\r\n                                <div className=\"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl\" onClick={e => e.stopPropagation()}>\r\n                                    <h3 className=\"text-xl font-bold mb-6\">üìä Today's Sales</h3>\r\n                                    <div className=\"space-y-4\">\r\n                                        <div className=\"bg-orange-50 p-4 rounded-xl flex justify-between items-center\">\r\n                                            <span className=\"text-gray-600\">Total Revenue</span>\r\n                                            <span className=\"text-2xl font-bold text-orange-600\">‚Çπ{todaySales.totalRevenue}</span>\r\n                                        </div>\r\n                                        <div className=\"grid grid-cols-2 gap-4\">\r\n                                            <div className=\"bg-green-50 p-3 rounded-xl\">\r\n                                                <div className=\"text-xs text-gray-500 mb-1\">Cash</div>\r\n                                                <div className=\"text-lg font-bold text-green-600\">‚Çπ{todaySales.cashAmount}</div>\r\n                                            </div>\r\n                                            <div className=\"bg-blue-50 p-3 rounded-xl\">\r\n                                                <div className=\"text-xs text-gray-500 mb-1\">Online/UPI</div>\r\n                                                <div className=\"text-lg font-bold text-blue-600\">‚Çπ{todaySales.upiAmount}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"p-3 bg-gray-50 rounded-xl flex justify-between\">\r\n                                            <span className=\"text-gray-600\">Total Orders</span>\r\n                                            <span className=\"font-bold\">{todaySales.totalOrders}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <button onClick={() => setShowSalesModal(false)} className=\"w-full mt-6 py-3 rounded-xl font-semibold bg-gray-100\">Close</button>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                    {/* Recent Orders Modal */}\r\n                    {\r\n                        showRecentModal && (\r\n                            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\" onClick={() => setShowRecentModal(false)}>\r\n                                <div className=\"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl max-h-[80vh] overflow-auto\" onClick={e => e.stopPropagation()}>\r\n                                    <h3 className=\"text-xl font-bold mb-4\">üïí Recent Orders</h3>\r\n                                    <div className=\"space-y-3\">\r\n                                        {lastOrders.map(order => (\r\n                                            <div key={order.id} className=\"p-3 bg-gray-50 rounded-xl border border-gray-100\">\r\n                                                <div className=\"flex justify-between items-start mb-2\">\r\n                                                    <div>\r\n                                                        <div className=\"font-bold text-sm\">#{order.id} - {order.customer}</div>\r\n                                                        <div className=\"text-xs text-gray-500\">{order.items.join(', ')}</div>\r\n                                                    </div>\r\n                                                    <div className={`px-2 py-1 rounded text-xs font-bold ${order.paymentStatus === 'Paid' ? 'bg-green-100 text-green-600' : 'bg-red-100 text-red-600'}`}>\r\n                                                        {order.paymentStatus}\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"flex justify-between items-center text-xs text-gray-500\">\r\n                                                    <span>{new Date(order.createdAt || 0).toLocaleTimeString()}</span>\r\n                                                    <span className=\"font-bold text-gray-800 text-sm\">‚Çπ{order.total}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                    <button onClick={() => setShowRecentModal(false)} className=\"w-full mt-4 py-3 rounded-xl font-semibold bg-gray-100\">Close</button>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                </div>\r\n            )}\r\n\r\n            {/* Online Order Modal */}\r\n            {showOnlineModal && (\r\n                <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\" onClick={() => setShowOnlineModal(false)}>\r\n                    <div className=\"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl\" onClick={e => e.stopPropagation()}>\r\n                        <h3 className=\"text-xl font-bold mb-4\">üìû Online/Phone Order</h3>\r\n                        <p className=\"text-sm text-gray-500 mb-4\">Customer details for delivery/pickup</p>\r\n                        <div className=\"space-y-3\">\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"üë§ Customer Name *\"\r\n                                value={onlineCustomer.name}\r\n                                onChange={(e) => setOnlineCustomer(prev => ({ ...prev, name: e.target.value }))}\r\n                                className=\"w-full px-4 py-3 rounded-xl border focus:border-orange-500 outline-none\"\r\n                            />\r\n                            <input\r\n                                type=\"tel\"\r\n                                placeholder=\"üì± Phone Number *\"\r\n                                value={onlineCustomer.phone}\r\n                                onChange={(e) => setOnlineCustomer(prev => ({ ...prev, phone: e.target.value }))}\r\n                                className=\"w-full px-4 py-3 rounded-xl border focus:border-orange-500 outline-none\"\r\n                            />\r\n                            <textarea\r\n                                placeholder=\"üè† Delivery Address (if delivery)\"\r\n                                value={onlineCustomer.address}\r\n                                onChange={(e) => setOnlineCustomer(prev => ({ ...prev, address: e.target.value }))}\r\n                                className=\"w-full px-4 py-3 rounded-xl border focus:border-orange-500 outline-none resize-none\"\r\n                                rows={3}\r\n                            />\r\n                        </div>\r\n                        <div className=\"flex gap-3 mt-6\">\r\n                            <button onClick={() => setShowOnlineModal(false)} className=\"flex-1 py-3 rounded-xl font-semibold bg-gray-100\">Cancel</button>\r\n                            <button\r\n                                onClick={() => {\r\n                                    if (!onlineCustomer.name || !onlineCustomer.phone) {\r\n                                        alert('Please enter name and phone');\r\n                                        return;\r\n                                    }\r\n                                    setCustomerName(onlineCustomer.name);\r\n                                    setCustomerPhone(onlineCustomer.phone);\r\n                                    setOrderNotes(onlineCustomer.address ? `üìç ${onlineCustomer.address}` : '');\r\n                                    setOrderType('Delivery');\r\n                                    setTableNumber('');\r\n                                    setShowOnlineModal(false);\r\n                                    setViewMode('pos');\r\n                                    setActiveTab('menu');\r\n                                }}\r\n                                className=\"flex-1 py-3 rounded-xl font-semibold bg-gradient-to-r from-teal-500 to-green-500 text-white\"\r\n                            >\r\n                                Start Order ‚Üí\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}