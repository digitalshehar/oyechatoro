{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///E:/oyechatorocomingsoon/app/lib/socket.ts"],"sourcesContent":["'use client';\r\n\r\nimport { io, Socket } from 'socket.io-client';\r\n\r\nlet socket: Socket;\r\n\r\nexport const getSocket = () => {\r\n    if (!socket) {\r\n        socket = io({\r\n            path: '/socket.io',\r\n            addTrailingSlash: false,\r\n        });\r\n    }\r\n    return socket;\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAIA,IAAI;AAEG,MAAM,YAAY;IACrB,IAAI,CAAC,QAAQ;QACT,SAAS,IAAA,8LAAE,EAAC;YACR,MAAM;YACN,kBAAkB;QACtB;IACJ;IACA,OAAO;AACX"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///E:/oyechatorocomingsoon/app/lib/storage.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { getSocket } from './socket';\r\n\r\n// --- ORDER SYSTEM ---\r\n\r\nexport interface Order {\r\n    id: number;\r\n    customer: string;\r\n    items: string[];\r\n    total: number;\r\n    status: 'Pending' | 'Cooking' | 'Ready' | 'Completed' | 'Cancelled';\r\n    time: string;\r\n    type: 'Dine-in' | 'Takeaway' | 'Delivery';\r\n    table?: string;\r\n    userId?: string;\r\n    cookingStartedAt?: number;\r\n    createdAt?: number;\r\n    paymentStatus?: 'Paid' | 'Unpaid';\r\n    paymentMethod?: 'Cash' | 'UPI' | 'Card' | 'Online';\r\n    mobile?: string;\r\n    discount?: {\r\n        type: 'amount' | 'percent';\r\n        value: number;\r\n        amount: number;\r\n    };\r\n    tip?: number;\r\n    waiterCalled?: boolean;\r\n    waiterName?: string;\r\n    dietary?: string[]; // e.g. ['veg', 'spicy', 'nut-allergy']\r\n    trainDetails?: {\r\n        pnr: string;\r\n        trainNo: string;\r\n        coachSeat: string;\r\n    };\r\n}\r\n\r\nexport interface PrepItem {\r\n    id: number;\r\n    task: string;\r\n    completed: boolean;\r\n    station: string;\r\n}\r\n\r\nconst INITIAL_ORDERS: Order[] = [\r\n    {\r\n        id: 1006,\r\n        customer: 'Rajesh Kumar',\r\n        items: ['Standard Veg Thali (2)', 'Sweet Lassi (2)'],\r\n        total: 640,\r\n        status: 'Pending',\r\n        time: 'Just now',\r\n        type: 'Delivery',\r\n        createdAt: Date.now(),\r\n        paymentStatus: 'Unpaid',\r\n        paymentMethod: 'Cash',\r\n        trainDetails: {\r\n            pnr: '1234567890',\r\n            trainNo: '12956',\r\n            coachSeat: 'B2-45'\r\n        }\r\n    },\r\n    {\r\n        id: 1001,\r\n        customer: 'Rahul Sharma',\r\n        items: ['Classic Margherita (1)', 'Coke (2)'],\r\n        total: 299,\r\n        status: 'Pending',\r\n        time: '10 mins ago',\r\n        type: 'Dine-in',\r\n        table: 'T-4',\r\n        createdAt: Date.now() - 10 * 60000,\r\n        waiterName: 'Rahul',\r\n        dietary: ['veg', 'spicy']\r\n    },\r\n    {\r\n        id: 1002,\r\n        customer: 'Priya Singh',\r\n        items: ['Paneer Tikka Pizza (1)', 'White Sauce Pasta (1)'],\r\n        total: 398,\r\n        status: 'Cooking',\r\n        time: '25 mins ago',\r\n        type: 'Dine-in',\r\n        table: 'T-2',\r\n        createdAt: Date.now() - 25 * 60000,\r\n        waiterName: 'Amit',\r\n        dietary: ['veg']\r\n    },\r\n    {\r\n        id: 1003,\r\n        customer: 'Amit Patel',\r\n        items: ['Dahi Papdi Chaat (2)'],\r\n        total: 98,\r\n        status: 'Completed',\r\n        time: '45 mins ago',\r\n        type: 'Takeaway',\r\n        createdAt: Date.now() - 45 * 60000\r\n    },\r\n    {\r\n        id: 1004,\r\n        customer: 'Sneha Gupta',\r\n        items: ['Veggie Supreme (1)', 'Garlic Bread (1)'],\r\n        total: 349,\r\n        status: 'Ready',\r\n        time: '1 hour ago',\r\n        type: 'Delivery',\r\n        createdAt: Date.now() - 60 * 60000\r\n    },\r\n    {\r\n        id: 1005,\r\n        customer: 'Vikram Malhotra',\r\n        items: ['Makhani Paneer Supreme (1)'],\r\n        total: 279,\r\n        status: 'Cancelled',\r\n        time: '2 hours ago',\r\n        type: 'Dine-in',\r\n        table: 'T-8',\r\n        createdAt: Date.now() - 120 * 60000\r\n    },\r\n];\r\n\r\nexport const INITIAL_PREP_LIST: PrepItem[] = [\r\n    { id: 1, task: 'Chop Onions', completed: false, station: 'Vegetable Prep' },\r\n    { id: 2, task: 'Marinate Paneer', completed: false, station: 'Tandoor' },\r\n    { id: 3, task: 'Prepare Pizza Dough', completed: true, station: 'Pizza Station' },\r\n    { id: 4, task: 'Chop Coriander', completed: false, station: 'Vegetable Prep' },\r\n    { id: 5, task: 'Check Gas Levels', completed: false, station: 'Safety' },\r\n];\r\n\r\nconst STORAGE_KEY = 'oye_chatoro_orders';\r\n\r\nexport const getOrders = (): Order[] => {\r\n    if (typeof window === 'undefined') return INITIAL_ORDERS;\r\n    const stored = localStorage.getItem(STORAGE_KEY);\r\n    if (!stored) {\r\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(INITIAL_ORDERS));\r\n        return INITIAL_ORDERS;\r\n    }\r\n    return JSON.parse(stored);\r\n};\r\n\r\nexport const updateOrderStatus = (orderId: number, newStatus: Order['status']) => {\r\n    const orders = getOrders();\r\n    const updatedOrders = orders.map(order => {\r\n        if (order.id === orderId) {\r\n            const updates: Partial<Order> = { status: newStatus };\r\n            if (newStatus === 'Cooking' && !order.cookingStartedAt) {\r\n                updates.cookingStartedAt = Date.now();\r\n            }\r\n            return { ...order, ...updates };\r\n        }\r\n        return order;\r\n    });\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(updatedOrders));\r\n    // Dispatch a custom event to notify other components/tabs\r\n    window.dispatchEvent(new Event('ordersUpdated'));\r\n\r\n    // Emit socket event\r\n    const socket = getSocket();\r\n    socket.emit('update-status', { orderId, status: newStatus });\r\n};\r\n\r\nexport const toggleWaiterCall = (orderId: number, isCalled: boolean) => {\r\n    const orders = getOrders();\r\n    const updatedOrders = orders.map(order =>\r\n        order.id === orderId ? { ...order, waiterCalled: isCalled } : order\r\n    );\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(updatedOrders));\r\n    window.dispatchEvent(new Event('ordersUpdated'));\r\n\r\n    const socket = getSocket();\r\n    socket.emit('waiter-call', { orderId, isCalled });\r\n};\r\n\r\nexport const updatePaymentStatus = (orderId: number, paymentStatus: 'Paid' | 'Unpaid') => {\r\n    const orders = getOrders();\r\n    const updatedOrders = orders.map(order =>\r\n        order.id === orderId ? { ...order, paymentStatus } : order\r\n    );\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(updatedOrders));\r\n    window.dispatchEvent(new Event('ordersUpdated'));\r\n\r\n    const socket = getSocket();\r\n    socket.emit('payment-updated', { orderId, paymentStatus });\r\n};\r\n\r\nexport const updatePaymentMethod = (orderId: number, paymentMethod: 'Cash' | 'UPI' | 'Online' | 'Card') => {\r\n    const orders = getOrders();\r\n    const updatedOrders = orders.map(order =>\r\n        order.id === orderId ? { ...order, paymentMethod } : order\r\n    );\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(updatedOrders));\r\n    window.dispatchEvent(new Event('ordersUpdated'));\r\n\r\n    const socket = getSocket();\r\n    socket.emit('payment-method-updated', { orderId, paymentMethod });\r\n};\r\nexport const createOrder = (orderData: Omit<Order, 'id' | 'status' | 'time'>) => {\r\n    const orders = getOrders();\r\n    const newOrder: Order = {\r\n        id: Math.floor(1000 + Math.random() * 9000), // Random 4-digit ID\r\n        ...orderData,\r\n        status: 'Pending',\r\n        time: 'Just now',\r\n        createdAt: Date.now(),\r\n        paymentStatus: orderData.paymentStatus || 'Unpaid',\r\n        paymentMethod: orderData.paymentMethod || 'Online',\r\n        mobile: orderData.mobile,\r\n        tip: orderData.tip\r\n    };\r\n\r\n    const updatedOrders = [newOrder, ...orders];\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(updatedOrders));\r\n    window.dispatchEvent(new Event('ordersUpdated'));\r\n\r\n    // Deduct Stock\r\n    deductStockForOrder(newOrder.items);\r\n\r\n    // Update Customer Loyalty\r\n    const customers = getCustomers();\r\n    // Try to find by phone if available, else name\r\n    let customer = customers.find(c =>\r\n        (newOrder.mobile && c.phone === newOrder.mobile) ||\r\n        (!newOrder.mobile && c.name.toLowerCase() === newOrder.customer.toLowerCase())\r\n    );\r\n\r\n    if (customer) {\r\n        const pointsEarned = Math.floor(newOrder.total / 100); // 1 point per 100\r\n        customer = {\r\n            ...customer,\r\n            totalOrders: customer.totalOrders + 1,\r\n            totalSpent: customer.totalSpent + newOrder.total,\r\n            loyaltyPoints: customer.loyaltyPoints + pointsEarned,\r\n            lastVisit: new Date().toISOString()\r\n        };\r\n        saveCustomer(customer);\r\n    } else if (newOrder.mobile) {\r\n        // Create new customer only if mobile is provided (reliable ID)\r\n        const newCustomer: Customer = {\r\n            id: `cust_${Date.now()}`,\r\n            name: newOrder.customer,\r\n            phone: newOrder.mobile,\r\n            totalOrders: 1,\r\n            totalSpent: newOrder.total,\r\n            loyaltyPoints: Math.floor(newOrder.total / 100),\r\n            lastVisit: new Date().toISOString()\r\n        };\r\n        saveCustomer(newCustomer);\r\n    }\r\n\r\n    // Emit socket event\r\n    const socket = getSocket();\r\n    socket.emit('new-order', newOrder);\r\n\r\n    return newOrder;\r\n};\r\n\r\nexport const getDailyStats = () => {\r\n    const orders = getOrders();\r\n    const today = new Date().toDateString();\r\n\r\n    const todayOrders = orders.filter(order => {\r\n        return new Date(order.createdAt || Date.now()).toDateString() === today;\r\n    });\r\n\r\n    const totalOrders = todayOrders.length;\r\n    const totalSales = todayOrders.reduce((sum, order) => sum + order.total, 0);\r\n    const cashSales = todayOrders.filter(o => o.paymentMethod === 'Cash').reduce((sum, order) => sum + order.total, 0);\r\n    const onlineSales = todayOrders.filter(o => o.paymentMethod === 'Online' || o.paymentMethod === 'UPI' || o.paymentMethod === 'Card').reduce((sum, order) => sum + order.total, 0);\r\n\r\n    return {\r\n        totalOrders,\r\n        totalSales,\r\n        cashSales,\r\n        onlineSales\r\n    };\r\n};\r\n\r\nexport const useOrders = () => {\r\n    const [orders, setOrders] = useState<Order[]>([]);\r\n\r\n    useEffect(() => {\r\n        // Initial load\r\n        setOrders(getOrders());\r\n\r\n        // Listen for updates\r\n        const handleStorageChange = () => {\r\n            setOrders(getOrders());\r\n        };\r\n\r\n        window.addEventListener('ordersUpdated', handleStorageChange);\r\n        window.addEventListener('storage', handleStorageChange); // For cross-tab sync\r\n\r\n        // Socket listeners\r\n        const socket = getSocket();\r\n\r\n        socket.on('order-received', (newOrder: Order) => {\r\n            // Update local storage to reflect the new order from another device\r\n            const currentOrders = getOrders();\r\n            // Avoid duplicates\r\n            if (!currentOrders.find(o => o.id === newOrder.id)) {\r\n                const updated = [newOrder, ...currentOrders];\r\n                localStorage.setItem(STORAGE_KEY, JSON.stringify(updated));\r\n                setOrders(updated);\r\n            }\r\n        });\r\n\r\n        socket.on('status-updated', ({ orderId, status }: { orderId: number, status: Order['status'] }) => {\r\n            const currentOrders = getOrders();\r\n            const updated = currentOrders.map(o => o.id === orderId ? { ...o, status } : o);\r\n            localStorage.setItem(STORAGE_KEY, JSON.stringify(updated));\r\n            setOrders(updated);\r\n        });\r\n\r\n        return () => {\r\n            window.removeEventListener('ordersUpdated', handleStorageChange);\r\n            window.removeEventListener('storage', handleStorageChange);\r\n            socket.off('order-received');\r\n            socket.off('status-updated');\r\n        };\r\n    }, []);\r\n\r\n    return { orders, updateStatus: updateOrderStatus, createOrder, toggleWaiterCall };\r\n};\r\n\r\nexport function usePrepList() {\r\n    const [prepList, setPrepList] = useState<PrepItem[]>(() => {\r\n        if (typeof window !== 'undefined') {\r\n            const saved = localStorage.getItem('prepList');\r\n            return saved ? JSON.parse(saved) : INITIAL_PREP_LIST;\r\n        }\r\n        return INITIAL_PREP_LIST;\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (typeof window !== 'undefined') {\r\n            localStorage.setItem('prepList', JSON.stringify(prepList));\r\n        }\r\n    }, [prepList]);\r\n\r\n    const togglePrepItem = (id: number) => {\r\n        setPrepList(prev => prev.map(item =>\r\n            item.id === id ? { ...item, completed: !item.completed } : item\r\n        ));\r\n    };\r\n\r\n    const resetPrepList = () => {\r\n        setPrepList(INITIAL_PREP_LIST.map(item => ({ ...item, completed: false })));\r\n    };\r\n\r\n    return { prepList, togglePrepItem, resetPrepList };\r\n}\r\n\r\n// --- BLOG SYSTEM ---\r\n\r\nexport interface BlogPost {\r\n    id: string;\r\n    title: string;\r\n    slug: string;\r\n    excerpt: string;\r\n    content: string;\r\n    image: string;\r\n    date: string;\r\n    author: string;\r\n    category: string;\r\n    tags: string[];\r\n    seoTitle?: string;\r\n    seoDescription?: string;\r\n    readingTime?: string;\r\n    servings?: string;\r\n    calories?: string;\r\n    ingredients?: string[];\r\n    status?: 'Draft' | 'Published';\r\n    isRecipe?: boolean;\r\n    views?: number;\r\n    likes?: number;\r\n    canonicalUrl?: string;\r\n    featured?: boolean;\r\n    recipeDetails?: {\r\n        prepTime?: string;\r\n        cookTime?: string;\r\n        servings?: string;\r\n        difficulty?: string;\r\n        ingredients?: string[];\r\n        calories?: string;\r\n    };\r\n}\r\n\r\nexport interface BlogCategory {\r\n    id: string;\r\n    name: string;\r\n    slug: string;\r\n    count: number;\r\n}\r\n\r\nexport interface BlogTag {\r\n    id: string;\r\n    name: string;\r\n    slug: string;\r\n}\r\n\r\nconst BLOG_STORAGE_KEY = 'oye_chatoro_blog_posts';\r\n\r\nconst INITIAL_POSTS: BlogPost[] = [\r\n    {\r\n        id: '1',\r\n        title: 'Welcome to Oye Chatoro!',\r\n        slug: 'welcome-to-oye-chatoro',\r\n        excerpt: 'We are excited to announce the grand opening of our new outlet in Abu Road.',\r\n        content: 'Welcome to Oye Chatoro! We are thrilled to bring the authentic flavors of street food to Abu Road. Our mission is to serve happiness on every plate with our fresh ingredients and live kitchen concept. Come visit us and try our famous Paneer Tikka Pizza and refreshing beverages.',\r\n        image: 'https://images.unsplash.com/photo-1555396273-367ea4eb4db5?auto=format&fit=crop&w=800&q=80',\r\n        date: new Date().toLocaleDateString(),\r\n        author: 'Admin',\r\n        category: 'News',\r\n        tags: ['Grand Opening', 'Abu Road', 'Street Food'],\r\n        seoTitle: 'Welcome to Oye Chatoro - Best Street Food in Abu Road',\r\n        seoDescription: 'Oye Chatoro is now open in Abu Road! Experience authentic street food, live kitchen, and fresh ingredients. Visit us today.',\r\n        readingTime: '2 min read',\r\n        status: 'Published',\r\n        featured: true\r\n    },\r\n    {\r\n        id: '2',\r\n        title: 'Top 5 Must-Try Dishes',\r\n        slug: 'top-5-must-try-dishes',\r\n        excerpt: 'Discover the customer favorites that you absolutely cannot miss.',\r\n        content: '1. **Paneer Tikka Pizza**: A fusion delight.\\n2. **White Sauce Pasta**: Creamy and delicious.\\n3. **Dahi Papdi Chaat**: The perfect balance of sweet and tangy.\\n4. **Veggie Supreme**: Loaded with fresh veggies.\\n5. **Masala Chai**: The perfect end to your meal.',\r\n        image: 'https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?auto=format&fit=crop&w=800&q=80',\r\n        date: new Date(Date.now() - 86400000).toLocaleDateString(),\r\n        author: 'Chef',\r\n        category: 'Food Guide',\r\n        tags: ['Pizza', 'Pasta', 'Chaat', 'Recommendations'],\r\n        seoTitle: 'Top 5 Must-Try Dishes at Oye Chatoro',\r\n        seoDescription: 'From Paneer Tikka Pizza to Dahi Papdi Chaat, discover the top 5 dishes you must try at Oye Chatoro Abu Road.',\r\n        readingTime: '3 min read',\r\n        status: 'Published'\r\n    },\r\n    {\r\n        id: '3',\r\n        title: 'Best Restaurant in Abu Road - Why Oye Chatoro Stands Out',\r\n        slug: 'best-restaurant-in-abu-road',\r\n        excerpt: 'Looking for the best restaurant in Abu Road? Discover why Oye Chatoro is the top choice for vegetarian food lovers near Mount Abu.',\r\n        content: '## Best Restaurant in Abu Road\\n\\nWhen it comes to finding a great restaurant in Abu Road, Oye Chatoro stands out as the premier destination for food lovers. Located in Abu Central Mall, we offer a unique dining experience.\\n\\n### Why Choose Oye Chatoro?\\n\\n1. **100% Pure Vegetarian**\\n2. **Live Kitchen**\\n3. **Near Mount Abu**\\n4. **AC Dining**\\n5. **FSSAI Licensed**\\n\\nVisit us today and experience why we are rated as the best restaurant in Abu Road!',\r\n        image: 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=800&q=80',\r\n        date: new Date(Date.now() - 172800000).toLocaleDateString(),\r\n        author: 'Admin',\r\n        category: 'About Us',\r\n        tags: ['Restaurant in Abu Road', 'Best Restaurant', 'Mount Abu', 'Pure Veg'],\r\n        seoTitle: 'Best Restaurant in Abu Road | Oye Chatoro - Pure Veg Food',\r\n        seoDescription: 'Looking for the best restaurant in Abu Road? Oye Chatoro offers 100% pure vegetarian food, pizzas, pastas, chaats near Mount Abu. FSSAI Licensed.',\r\n        readingTime: '4 min read',\r\n        status: 'Published',\r\n        featured: true\r\n    },\r\n    {\r\n        id: '4',\r\n        title: 'Complete Food Guide: What to Eat in Abu Road',\r\n        slug: 'food-guide-what-to-eat-abu-road',\r\n        excerpt: 'A complete guide to the best food options in Abu Road, Rajasthan.',\r\n        content: '## Food Guide: Abu Road\\n\\nAbu Road, the gateway to Mount Abu, has become a growing food destination in Rajasthan.\\n\\n### Best Restaurants\\n\\n**Oye Chatoro** - Location: Abu Central Mall, G-5\\n\\n### Popular Food Items\\n\\n1. **Pizza** - Fresh, wood-fire style\\n2. **Chaat** - Authentic North Indian flavors\\n3. **Pasta** - Creamy options\\n4. **Burgers** - Loaded veggie burgers\\n5. **Momos** - Steamed and fried varieties',\r\n        image: 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=800&q=80',\r\n        date: new Date(Date.now() - 259200000).toLocaleDateString(),\r\n        author: 'Food Blogger',\r\n        category: 'Food Guide',\r\n        tags: ['Abu Road Food', 'Mount Abu', 'Food Guide'],\r\n        seoTitle: 'Food Guide Abu Road | Best Places to Eat Near Mount Abu',\r\n        seoDescription: 'Complete food guide for Abu Road, Rajasthan. Discover the best restaurants near Mount Abu.',\r\n        readingTime: '5 min read',\r\n        status: 'Published'\r\n    },\r\n    {\r\n        id: '5',\r\n        title: 'Oye Chatoro - Your Family Restaurant in Abu Road',\r\n        slug: 'family-restaurant-abu-road',\r\n        excerpt: 'Looking for a family-friendly restaurant in Abu Road? Oye Chatoro offers the perfect dining experience.',\r\n        content: '## Family Restaurant in Abu Road\\n\\nPlanning a family outing? Oye Chatoro is the perfect destination.\\n\\n### Why Families Love Us\\n\\n1. **Kid-Friendly Menu**\\n2. **AC Seating**\\n3. **Pure Vegetarian**\\n4. **Quick Service**\\n5. **Affordable Prices**\\n\\nVisit Oye Chatoro - The best family restaurant in Abu Road!',\r\n        image: 'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?auto=format&fit=crop&w=800&q=80',\r\n        date: new Date(Date.now() - 345600000).toLocaleDateString(),\r\n        author: 'Admin',\r\n        category: 'About Us',\r\n        tags: ['Family Restaurant', 'Abu Road', 'Kids Menu'],\r\n        seoTitle: 'Family Restaurant in Abu Road | Oye Chatoro - Kid Friendly',\r\n        seoDescription: 'Best family restaurant in Abu Road. Kid-friendly menu, AC seating, pure vegetarian food.',\r\n        readingTime: '3 min read',\r\n        status: 'Published'\r\n    }\r\n];\r\n\r\nexport const getBlogPosts = (): BlogPost[] => {\r\n    if (typeof window === 'undefined') return INITIAL_POSTS;\r\n    const stored = localStorage.getItem(BLOG_STORAGE_KEY);\r\n    if (!stored) {\r\n        localStorage.setItem(BLOG_STORAGE_KEY, JSON.stringify(INITIAL_POSTS));\r\n        return INITIAL_POSTS;\r\n    }\r\n    return JSON.parse(stored);\r\n};\r\n\r\n\r\nexport const saveBlogPost = (post: BlogPost) => {\r\n    const posts = getBlogPosts();\r\n    const existingIndex = posts.findIndex(p => p.id === post.id);\r\n\r\n    let updatedPosts;\r\n    if (existingIndex >= 0) {\r\n        updatedPosts = posts.map(p => p.id === post.id ? post : p);\r\n    } else {\r\n        updatedPosts = [post, ...posts];\r\n    }\r\n\r\n    localStorage.setItem(BLOG_STORAGE_KEY, JSON.stringify(updatedPosts));\r\n    window.dispatchEvent(new Event('blogUpdated'));\r\n};\r\n\r\nexport const deleteBlogPost = (id: string) => {\r\n    const posts = getBlogPosts();\r\n    const updatedPosts = posts.filter(p => p.id !== id);\r\n    localStorage.setItem(BLOG_STORAGE_KEY, JSON.stringify(updatedPosts));\r\n    window.dispatchEvent(new Event('blogUpdated'));\r\n};\r\n\r\n// --- CATEGORIES & TAGS ---\r\n\r\nconst CATEGORY_STORAGE_KEY = 'oye_chatoro_blog_categories';\r\nconst TAG_STORAGE_KEY = 'oye_chatoro_blog_tags';\r\n\r\nexport const useBlog = () => {\r\n    const [posts, setPosts] = useState<BlogPost[]>([]);\r\n    const [categories, setCategories] = useState<BlogCategory[]>([]);\r\n    const [tags, setTags] = useState<BlogTag[]>([]);\r\n\r\n    useEffect(() => {\r\n        const loadData = () => {\r\n            setPosts(getBlogPosts());\r\n\r\n            const storedCategories = localStorage.getItem(CATEGORY_STORAGE_KEY);\r\n            if (storedCategories) {\r\n                setCategories(JSON.parse(storedCategories));\r\n            } else {\r\n                const defaults = [\r\n                    { id: '1', name: 'News', slug: 'news', count: 0 },\r\n                    { id: '2', name: 'Recipes', slug: 'recipes', count: 0 },\r\n                    { id: '3', name: 'Food Guide', slug: 'food-guide', count: 0 },\r\n                    { id: '4', name: 'Offers', slug: 'offers', count: 0 },\r\n                    { id: '5', name: 'Events', slug: 'events', count: 0 }\r\n                ];\r\n                setCategories(defaults);\r\n                localStorage.setItem(CATEGORY_STORAGE_KEY, JSON.stringify(defaults));\r\n            }\r\n\r\n            const storedTags = localStorage.getItem(TAG_STORAGE_KEY);\r\n            if (storedTags) setTags(JSON.parse(storedTags));\r\n        };\r\n\r\n        loadData();\r\n        const handleStorageChange = () => loadData();\r\n\r\n        window.addEventListener('blogUpdated', handleStorageChange);\r\n        window.addEventListener('storage', handleStorageChange);\r\n\r\n        return () => {\r\n            window.removeEventListener('blogUpdated', handleStorageChange);\r\n            window.removeEventListener('storage', handleStorageChange);\r\n        };\r\n    }, []);\r\n\r\n    const saveCategory = (category: BlogCategory) => {\r\n        const current = [...categories];\r\n        const index = current.findIndex(c => c.id === category.id);\r\n        if (index >= 0) current[index] = category;\r\n        else current.push(category);\r\n        localStorage.setItem(CATEGORY_STORAGE_KEY, JSON.stringify(current));\r\n        setCategories(current);\r\n    };\r\n\r\n    const deleteCategory = (id: string) => {\r\n        const updated = categories.filter(c => c.id !== id);\r\n        localStorage.setItem(CATEGORY_STORAGE_KEY, JSON.stringify(updated));\r\n        setCategories(updated);\r\n    };\r\n\r\n    const saveTag = (tag: BlogTag) => {\r\n        const current = [...tags];\r\n        if (!current.find(t => t.name.toLowerCase() === tag.name.toLowerCase())) {\r\n            current.push(tag);\r\n            localStorage.setItem(TAG_STORAGE_KEY, JSON.stringify(current));\r\n            setTags(current);\r\n        }\r\n    };\r\n\r\n    return {\r\n        posts, categories, tags,\r\n        savePost: saveBlogPost, deletePost: deleteBlogPost,\r\n        saveCategory, deleteCategory,\r\n        saveTag\r\n    };\r\n};\r\n\r\n// --- MENU SYSTEM ---\r\n\r\nexport interface MenuCategory {\r\n    id: string;\r\n    name: string;\r\n}\r\n\r\nexport interface MenuItem {\r\n    id: string;\r\n    name: string;\r\n    price: number;\r\n    description: string;\r\n    categoryId: string;\r\n    veg: boolean;\r\n    status: 'Active' | 'Out of Stock';\r\n    image?: string;\r\n    recipe?: { inventoryItemId: number; quantity: number }[];\r\n    isDigitalMenu?: boolean; // Show in public digital menu\r\n    isTrainMenu?: boolean;   // Show in train delivery menu\r\n    isFeatured?: boolean;    // Highlight as featured/bestseller\r\n    costPrice?: number;      // Cost price for menu engineering\r\n}\r\n\r\nconst MENU_CATS_KEY = 'oye_chatoro_menu_cats';\r\nconst MENU_ITEMS_KEY = 'oye_chatoro_menu_items';\r\n\r\nconst INITIAL_CATS: MenuCategory[] = [\r\n    { id: 'cat_train', name: 'Train Specials ðŸš‚' },\r\n    { id: 'cat_1', name: 'Pizza' },\r\n    { id: 'cat_2', name: 'Pasta' },\r\n    { id: 'cat_3', name: 'Chaat' }\r\n];\r\n\r\nconst INITIAL_MENU_ITEMS: MenuItem[] = [\r\n    // Train Specials\r\n    {\r\n        id: 'item_t1',\r\n        name: 'Standard Veg Thali',\r\n        price: 240,\r\n        description: 'Dal Fry, Seasonal Veg, 4 Roti, Rice, Salad, Pickle. Perfect for a hearty train meal.',\r\n        categoryId: 'cat_train',\r\n        veg: true,\r\n        status: 'Active',\r\n        isDigitalMenu: false,\r\n        isTrainMenu: true,\r\n        isFeatured: true,\r\n        image: 'https://images.unsplash.com/photo-1546833999-b9f581a1996d?auto=format&fit=crop&w=800&q=80'\r\n    },\r\n    {\r\n        id: 'item_t2',\r\n        name: 'Maharaja Premium Thali',\r\n        price: 320,\r\n        description: 'Paneer Butter Masala, Dal Makhani, Mix Veg, Jeera Rice, 2 Butter Naan, Sweet, Raita, Salad.',\r\n        categoryId: 'cat_train',\r\n        veg: true,\r\n        status: 'Active',\r\n        isDigitalMenu: false,\r\n        isTrainMenu: true,\r\n        isFeatured: true,\r\n        image: 'https://images.unsplash.com/photo-1585937421612-70a008356f36?auto=format&fit=crop&w=800&q=80'\r\n    },\r\n    {\r\n        id: 'item_t3',\r\n        name: 'Jain Special Thali',\r\n        price: 260,\r\n        description: 'No Onion/Garlic. Paneer Sabzi, Dal, Rice, 4 Roti, Sweet. Pure & Sattvic.',\r\n        categoryId: 'cat_train',\r\n        veg: true,\r\n        status: 'Active',\r\n        isDigitalMenu: false,\r\n        isTrainMenu: true,\r\n        image: 'https://images.unsplash.com/photo-1514516872020-25ce539541d3?auto=format&fit=crop&w=800&q=80'\r\n    },\r\n    {\r\n        id: 'item_t4',\r\n        name: 'Dal Makhani Rice Bowl',\r\n        price: 180,\r\n        description: 'Creamy Dal Makhani served with aromatic Jeera Rice. Comfort food on the go.',\r\n        categoryId: 'cat_train',\r\n        veg: true,\r\n        status: 'Active',\r\n        isDigitalMenu: false,\r\n        isTrainMenu: true,\r\n        image: 'https://images.unsplash.com/photo-1589302168068-964664d93dc0?auto=format&fit=crop&w=800&q=80'\r\n    },\r\n    {\r\n        id: 'item_t5',\r\n        name: 'Chole Kulcha Combo',\r\n        price: 160,\r\n        description: 'Spicy Amritsari Chole served with 2 soft Kulchas and pickle.',\r\n        categoryId: 'cat_train',\r\n        veg: true,\r\n        status: 'Active',\r\n        isDigitalMenu: false,\r\n        isTrainMenu: true,\r\n        image: 'https://images.unsplash.com/photo-1565557623262-b51c2513a641?auto=format&fit=crop&w=800&q=80'\r\n    },\r\n    {\r\n        id: 'item_t6',\r\n        name: 'Aloo Paratha (2 pcs)',\r\n        price: 120,\r\n        description: 'Stuffed potato parathas served with fresh curd and pickle.',\r\n        categoryId: 'cat_train',\r\n        veg: true,\r\n        status: 'Active',\r\n        isDigitalMenu: false,\r\n        isTrainMenu: true,\r\n        image: 'https://images.unsplash.com/photo-1626082927389-6cd097cdc6ec?auto=format&fit=crop&w=800&q=80'\r\n    },\r\n    {\r\n        id: 'item_t7',\r\n        name: 'Paneer Paratha (2 pcs)',\r\n        price: 150,\r\n        description: 'Stuffed paneer parathas served with fresh curd and pickle.',\r\n        categoryId: 'cat_train',\r\n        veg: true,\r\n        status: 'Active',\r\n        isDigitalMenu: false,\r\n        isTrainMenu: true,\r\n        image: 'https://images.unsplash.com/photo-1626082927389-6cd097cdc6ec?auto=format&fit=crop&w=800&q=80'\r\n    },\r\n    {\r\n        id: 'item_t8',\r\n        name: 'Sweet Lassi',\r\n        price: 80,\r\n        description: 'Thick, creamy sweet yogurt drink topped with dry fruits.',\r\n        categoryId: 'cat_train',\r\n        veg: true,\r\n        status: 'Active',\r\n        isDigitalMenu: false,\r\n        isTrainMenu: true,\r\n        image: 'https://images.unsplash.com/photo-1559847844-5315695dadae?auto=format&fit=crop&w=800&q=80'\r\n    },\r\n    {\r\n        id: 'item_t9',\r\n        name: 'Masala Chaas',\r\n        price: 50,\r\n        description: 'Spiced buttermilk, refreshing and perfect for digestion.',\r\n        categoryId: 'cat_train',\r\n        veg: true,\r\n        status: 'Active',\r\n        isDigitalMenu: false,\r\n        isTrainMenu: true,\r\n        image: 'https://images.unsplash.com/photo-1559847844-5315695dadae?auto=format&fit=crop&w=800&q=80'\r\n    },\r\n    {\r\n        id: 'item_t10',\r\n        name: 'Gulab Jamun (2 pcs)',\r\n        price: 60,\r\n        description: 'Soft, melt-in-your-mouth fried dumplings soaked in sugar syrup.',\r\n        categoryId: 'cat_train',\r\n        veg: true,\r\n        status: 'Active',\r\n        isDigitalMenu: false,\r\n        isTrainMenu: true,\r\n        image: 'https://images.unsplash.com/photo-1593701478530-bfde71cf52dd?auto=format&fit=crop&w=800&q=80'\r\n    },\r\n    { id: 'item_1', name: 'Classic Margherita', price: 199, description: 'Tomato, basil, mozzarella', categoryId: 'cat_1', veg: true, status: 'Active' },\r\n    { id: 'item_2', name: 'Paneer Tikka Pizza', price: 249, description: 'Spiced paneer chunks', categoryId: 'cat_1', veg: true, status: 'Active' },\r\n    { id: 'item_3', name: 'White Sauce Pasta', price: 149, description: 'Creamy cheese sauce', categoryId: 'cat_2', veg: true, status: 'Active' },\r\n    { id: 'item_4', name: 'Dahi Papdi Chaat', price: 49, description: 'Sweet and tangy yogurt', categoryId: 'cat_3', veg: true, status: 'Active' }\r\n];\r\n\r\nexport const getMenuCategories = (): MenuCategory[] => {\r\n    if (typeof window === 'undefined') return INITIAL_CATS;\r\n    const stored = localStorage.getItem(MENU_CATS_KEY);\r\n    if (!stored) {\r\n        localStorage.setItem(MENU_CATS_KEY, JSON.stringify(INITIAL_CATS));\r\n        return INITIAL_CATS;\r\n    }\r\n    return JSON.parse(stored);\r\n};\r\n\r\nexport const saveMenuCategory = (category: MenuCategory) => {\r\n    const cats = getMenuCategories();\r\n    const index = cats.findIndex(c => c.id === category.id);\r\n    let updated;\r\n    if (index >= 0) {\r\n        updated = cats.map(c => c.id === category.id ? category : c);\r\n    } else {\r\n        updated = [...cats, category];\r\n    }\r\n    localStorage.setItem(MENU_CATS_KEY, JSON.stringify(updated));\r\n    window.dispatchEvent(new Event('menuUpdated'));\r\n};\r\n\r\nexport const deleteMenuCategory = (id: string) => {\r\n    const cats = getMenuCategories();\r\n    const updated = cats.filter(c => c.id !== id);\r\n    localStorage.setItem(MENU_CATS_KEY, JSON.stringify(updated));\r\n    window.dispatchEvent(new Event('menuUpdated'));\r\n};\r\n\r\nexport const getMenuItems = (): MenuItem[] => {\r\n    if (typeof window === 'undefined') return INITIAL_MENU_ITEMS;\r\n    const stored = localStorage.getItem(MENU_ITEMS_KEY);\r\n    if (!stored) {\r\n        localStorage.setItem(MENU_ITEMS_KEY, JSON.stringify(INITIAL_MENU_ITEMS));\r\n        return INITIAL_MENU_ITEMS;\r\n    }\r\n    return JSON.parse(stored);\r\n};\r\n\r\nexport const saveMenuItem = (item: MenuItem) => {\r\n    const items = getMenuItems();\r\n    const index = items.findIndex(i => i.id === item.id);\r\n    let updated;\r\n    if (index >= 0) {\r\n        updated = items.map(i => i.id === item.id ? item : i);\r\n    } else {\r\n        updated = [...items, item];\r\n    }\r\n    localStorage.setItem(MENU_ITEMS_KEY, JSON.stringify(updated));\r\n    window.dispatchEvent(new Event('menuUpdated'));\r\n};\r\n\r\nexport const deleteMenuItem = (id: string) => {\r\n    const items = getMenuItems();\r\n    const updated = items.filter(i => i.id !== id);\r\n    localStorage.setItem(MENU_ITEMS_KEY, JSON.stringify(updated));\r\n    window.dispatchEvent(new Event('menuUpdated'));\r\n};\r\n\r\nexport const useMenu = () => {\r\n    const [categories, setCategories] = useState<MenuCategory[]>([]);\r\n    const [items, setItems] = useState<MenuItem[]>([]);\r\n\r\n    const refresh = () => {\r\n        setCategories(getMenuCategories());\r\n        setItems(getMenuItems());\r\n    };\r\n\r\n    useEffect(() => {\r\n        refresh();\r\n        window.addEventListener('menuUpdated', refresh);\r\n        window.addEventListener('storage', refresh);\r\n        return () => {\r\n            window.removeEventListener('menuUpdated', refresh);\r\n            window.removeEventListener('storage', refresh);\r\n        };\r\n    }, []);\r\n\r\n    return {\r\n        categories,\r\n        items,\r\n        saveCategory: saveMenuCategory,\r\n        deleteCategory: deleteMenuCategory,\r\n        saveItem: saveMenuItem,\r\n        deleteItem: deleteMenuItem\r\n    };\r\n};\r\n\r\n// --- USER AUTH SYSTEM ---\r\n\r\nexport interface User {\r\n    id: string;\r\n    name: string;\r\n    email: string;\r\n    phone: string;\r\n    password?: string;\r\n    favorites?: string[];\r\n    // New Fields\r\n    addresses?: { id: string; label: string; text: string; isDefault?: boolean }[];\r\n    preferences?: { dietary: string[]; language: string };\r\n    paymentMethods?: { id: string; type: string; last4: string; isDefault?: boolean }[];\r\n    dates?: { birthday: string; anniversary: string };\r\n    loyalty?: { points: number; tier: string; streak: number; badges: string[] };\r\n    referralCode?: string;\r\n    notifications?: { id: string; title: string; message: string; date: string; read: boolean }[];\r\n}\r\n\r\nconst USERS_KEY = 'oye_chatoro_users';\r\nconst CURRENT_USER_KEY = 'oye_chatoro_current_user';\r\n\r\nexport const registerUser = (user: Omit<User, 'id'>) => {\r\n    const users = getUsers();\r\n    if (users.find(u => u.email === user.email)) {\r\n        throw new Error('Email already exists');\r\n    }\r\n\r\n    const newUser: User = {\r\n        id: `user_${Date.now()}`,\r\n        ...user,\r\n        favorites: [],\r\n        addresses: [],\r\n        preferences: { dietary: [], language: 'en' },\r\n        paymentMethods: [],\r\n        dates: { birthday: '', anniversary: '' },\r\n        loyalty: { points: 0, tier: 'Bronze', streak: 0, badges: [] },\r\n        referralCode: Math.random().toString(36).substring(2, 8).toUpperCase(),\r\n        notifications: []\r\n    };\r\n\r\n    localStorage.setItem(USERS_KEY, JSON.stringify([...users, newUser]));\r\n    return newUser;\r\n};\r\n\r\nexport const loginUser = (email: string, password: string): User => {\r\n    const users = getUsers();\r\n    const user = users.find(u => u.email === email && u.password === password);\r\n\r\n    if (!user) {\r\n        throw new Error('Invalid credentials');\r\n    }\r\n\r\n    const { password: _, ...safeUser } = user;\r\n    localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(safeUser));\r\n    window.dispatchEvent(new Event('authUpdated'));\r\n    return safeUser;\r\n};\r\n\r\nexport const logoutUser = () => {\r\n    localStorage.removeItem(CURRENT_USER_KEY);\r\n    window.dispatchEvent(new Event('authUpdated'));\r\n};\r\n\r\nexport const getCurrentUser = (): User | null => {\r\n    if (typeof window === 'undefined') return null;\r\n    const stored = localStorage.getItem(CURRENT_USER_KEY);\r\n    return stored ? JSON.parse(stored) : null;\r\n};\r\n\r\nconst getUsers = (): User[] => {\r\n    if (typeof window === 'undefined') return [];\r\n    const stored = localStorage.getItem(USERS_KEY);\r\n    return stored ? JSON.parse(stored) : [];\r\n};\r\n\r\nexport const useAuth = () => {\r\n    const [user, setUser] = useState<User | null>(null);\r\n\r\n    useEffect(() => {\r\n        setUser(getCurrentUser());\r\n\r\n        const handleAuthChange = () => {\r\n            setUser(getCurrentUser());\r\n        };\r\n\r\n        window.addEventListener('authUpdated', handleAuthChange);\r\n        window.addEventListener('storage', handleAuthChange);\r\n\r\n        return () => {\r\n            window.removeEventListener('authUpdated', handleAuthChange);\r\n            window.removeEventListener('storage', handleAuthChange);\r\n        };\r\n    }, []);\r\n\r\n    const updateUser = (updates: Partial<User>) => {\r\n        if (!user) return;\r\n        const users = getUsers();\r\n        const index = users.findIndex(u => u.id === user.id);\r\n        if (index !== -1) {\r\n            const updatedUser = { ...users[index], ...updates };\r\n            users[index] = updatedUser;\r\n            localStorage.setItem(USERS_KEY, JSON.stringify(users));\r\n            localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(updatedUser));\r\n            window.dispatchEvent(new Event('authUpdated'));\r\n        }\r\n    };\r\n\r\n    return { user, login: loginUser, register: registerUser, logout: logoutUser, updateUser };\r\n};\r\n\r\nexport const useAllUsers = () => {\r\n    const [users, setUsers] = useState<User[]>([]);\r\n\r\n    useEffect(() => {\r\n        setUsers(getUsers());\r\n        const handleStorage = () => setUsers(getUsers());\r\n        window.addEventListener('storage', handleStorage);\r\n        window.addEventListener('authUpdated', handleStorage);\r\n        return () => {\r\n            window.removeEventListener('storage', handleStorage);\r\n            window.removeEventListener('authUpdated', handleStorage);\r\n        };\r\n    }, []);\r\n\r\n    return { users };\r\n};\r\n\r\n// --- CART SYSTEM ---\r\n\r\nexport interface CartItem {\r\n    name: string;\r\n    price: number;\r\n    quantity: number;\r\n    image?: string;\r\n}\r\n\r\nconst CART_KEY = 'oye_chatoro_cart';\r\n\r\nexport const useCart = () => {\r\n    const [cart, setCart] = useState<CartItem[]>([]);\r\n\r\n    useEffect(() => {\r\n        const stored = localStorage.getItem(CART_KEY);\r\n        if (stored) setCart(JSON.parse(stored));\r\n\r\n        const handleStorage = () => {\r\n            const s = localStorage.getItem(CART_KEY);\r\n            if (s) setCart(JSON.parse(s));\r\n        };\r\n\r\n        window.addEventListener('storage', handleStorage);\r\n        window.addEventListener('cartUpdated', handleStorage);\r\n        return () => {\r\n            window.removeEventListener('storage', handleStorage);\r\n            window.removeEventListener('cartUpdated', handleStorage);\r\n        };\r\n    }, []);\r\n\r\n    const addToCart = (item: CartItem) => {\r\n        const newCart = [...cart];\r\n        const existing = newCart.find(i => i.name === item.name);\r\n        if (existing) {\r\n            existing.quantity += 1;\r\n        } else {\r\n            newCart.push(item);\r\n        }\r\n        setCart(newCart);\r\n        localStorage.setItem(CART_KEY, JSON.stringify(newCart));\r\n        window.dispatchEvent(new Event('cartUpdated'));\r\n    };\r\n\r\n    const removeFromCart = (name: string) => {\r\n        const newCart = cart.filter(i => i.name !== name);\r\n        setCart(newCart);\r\n        localStorage.setItem(CART_KEY, JSON.stringify(newCart));\r\n        window.dispatchEvent(new Event('cartUpdated'));\r\n    };\r\n\r\n    const updateQuantity = (name: string, delta: number) => {\r\n        const newCart = cart.map(item => {\r\n            if (item.name === name) {\r\n                return { ...item, quantity: Math.max(0, item.quantity + delta) };\r\n            }\r\n            return item;\r\n        }).filter(i => i.quantity > 0);\r\n        setCart(newCart);\r\n        localStorage.setItem(CART_KEY, JSON.stringify(newCart));\r\n        window.dispatchEvent(new Event('cartUpdated'));\r\n    };\r\n\r\n    const clearCart = () => {\r\n        setCart([]);\r\n        localStorage.setItem(CART_KEY, JSON.stringify([]));\r\n        window.dispatchEvent(new Event('cartUpdated'));\r\n    };\r\n\r\n    return { cart, addToCart, removeFromCart, updateQuantity, clearCart };\r\n};\r\n\r\n// --- FAVORITES SYSTEM ---\r\n\r\nexport const useFavorites = () => {\r\n    const { user } = useAuth();\r\n    const [favorites, setFavorites] = useState<string[]>([]);\r\n\r\n    useEffect(() => {\r\n        if (user && user.favorites) {\r\n            setFavorites(user.favorites);\r\n        } else {\r\n            setFavorites([]);\r\n        }\r\n    }, [user]);\r\n\r\n    const toggleFavorite = (itemId: string) => {\r\n        if (!user) return; // Should prompt login in UI\r\n\r\n        const users = JSON.parse(localStorage.getItem('oye_chatoro_users') || '[]');\r\n        const currentUserIndex = users.findIndex((u: User) => u.email === user.email);\r\n\r\n        if (currentUserIndex === -1) return;\r\n\r\n        const currentUser = users[currentUserIndex];\r\n        const newFavorites = currentUser.favorites ? [...currentUser.favorites] : [];\r\n\r\n        const index = newFavorites.indexOf(itemId);\r\n        if (index === -1) {\r\n            newFavorites.push(itemId);\r\n        } else {\r\n            newFavorites.splice(index, 1);\r\n        }\r\n\r\n        currentUser.favorites = newFavorites;\r\n        users[currentUserIndex] = currentUser;\r\n\r\n        localStorage.setItem('oye_chatoro_users', JSON.stringify(users));\r\n\r\n        // Update current session user as well\r\n        const sessionUser = { ...user, favorites: newFavorites };\r\n        localStorage.setItem('oye_chatoro_current_user', JSON.stringify(sessionUser));\r\n        window.dispatchEvent(new Event('authUpdated'));\r\n    };\r\n\r\n    return { favorites, toggleFavorite };\r\n};\r\n\r\n// --- OFFERS SYSTEM ---\r\n\r\nexport interface Offer {\r\n    id: string;\r\n    code: string;\r\n    discount: string;\r\n    type: 'Percentage' | 'Flat' | 'Free Item';\r\n    expiry: string;\r\n    status: 'Active' | 'Expired';\r\n    usage: number;\r\n    description?: string;\r\n    bgColor?: string; // For story-style display\r\n}\r\n\r\nconst OFFERS_KEY = 'oye_chatoro_offers';\r\n\r\nconst INITIAL_OFFERS: Offer[] = [\r\n    { id: '1', code: 'WELCOME50', discount: '50%', type: 'Percentage', expiry: '2024-12-31', status: 'Active', usage: 145, description: 'Get 50% off on your first order!', bgColor: 'from-orange-400 to-red-500' },\r\n    { id: '2', code: 'PIZZALOVER', discount: 'â‚¹100', type: 'Flat', expiry: '2024-11-30', status: 'Active', usage: 89, description: 'Flat â‚¹100 off on all Pizzas', bgColor: 'from-blue-400 to-indigo-500' },\r\n    { id: '3', code: 'FREEDRINK', discount: 'FREE', type: 'Free Item', expiry: '2024-10-15', status: 'Expired', usage: 342, description: 'Free Coke with any Pasta', bgColor: 'from-green-400 to-emerald-500' },\r\n];\r\n\r\nexport const getOffers = (): Offer[] => {\r\n    if (typeof window === 'undefined') return INITIAL_OFFERS;\r\n    const stored = localStorage.getItem(OFFERS_KEY);\r\n    if (!stored) {\r\n        localStorage.setItem(OFFERS_KEY, JSON.stringify(INITIAL_OFFERS));\r\n        return INITIAL_OFFERS;\r\n    }\r\n    return JSON.parse(stored);\r\n};\r\n\r\nexport const saveOffer = (offer: Offer) => {\r\n    const offers = getOffers();\r\n    const index = offers.findIndex(o => o.id === offer.id);\r\n    let updated;\r\n    if (index >= 0) {\r\n        updated = offers.map(o => o.id === offer.id ? offer : o);\r\n    } else {\r\n        updated = [offer, ...offers];\r\n    }\r\n    localStorage.setItem(OFFERS_KEY, JSON.stringify(updated));\r\n    window.dispatchEvent(new Event('offersUpdated'));\r\n};\r\n\r\nexport const deleteOffer = (id: string) => {\r\n    const offers = getOffers();\r\n    const updated = offers.filter(o => o.id !== id);\r\n    localStorage.setItem(OFFERS_KEY, JSON.stringify(updated));\r\n    window.dispatchEvent(new Event('offersUpdated'));\r\n};\r\n\r\nexport const useOffers = () => {\r\n    const [offers, setOffers] = useState<Offer[]>([]);\r\n\r\n    const refresh = () => {\r\n        setOffers(getOffers());\r\n    };\r\n\r\n    useEffect(() => {\r\n        refresh();\r\n        window.addEventListener('offersUpdated', refresh);\r\n        window.addEventListener('storage', refresh);\r\n        return () => {\r\n            window.removeEventListener('offersUpdated', refresh);\r\n            window.removeEventListener('storage', refresh);\r\n        };\r\n    }, []);\r\n\r\n    return { offers, saveOffer, deleteOffer };\r\n};\r\n\r\n// --- INVENTORY SYSTEM ---\r\n\r\nexport interface Supplier {\r\n    name: string;\r\n    contact: string;\r\n    email?: string;\r\n}\r\n\r\nexport interface StockLog {\r\n    id: string;\r\n    itemId: number;\r\n    change: number;\r\n    reason: string;\r\n    timestamp: string;\r\n    userId?: string; // 'Admin' or specific user\r\n}\r\n\r\nexport interface WastageLog {\r\n    id: string;\r\n    itemId: number;\r\n    quantity: number;\r\n    reason: string;\r\n    timestamp: string;\r\n    userId?: string;\r\n}\r\n\r\nexport interface InventoryItem {\r\n    id: number;\r\n    name: string;\r\n    quantity: number;\r\n    unit: string;\r\n    minLevel: number;\r\n    status: 'In Stock' | 'Low Stock' | 'Out of Stock';\r\n    category?: string;\r\n    lastUpdated?: string;\r\n    supplier?: Supplier;\r\n}\r\n\r\n// Extend MenuItem to include recipe\r\ndeclare module './storage' {\r\n    interface MenuItem {\r\n        recipe?: { inventoryItemId: number; quantity: number }[];\r\n    }\r\n}\r\n\r\nconst INVENTORY_KEY = 'oye_chatoro_inventory';\r\nconst STOCK_LOGS_KEY = 'oye_chatoro_stock_logs';\r\nconst WASTAGE_LOGS_KEY = 'oye_chatoro_wastage_logs';\r\n\r\nconst INITIAL_INVENTORY: InventoryItem[] = [\r\n    { id: 1, name: 'Pizza Base', quantity: 45, unit: 'pcs', minLevel: 50, status: 'Low Stock', category: 'Raw Material' },\r\n    { id: 2, name: 'Mozzarella Cheese', quantity: 12, unit: 'kg', minLevel: 5, status: 'In Stock', category: 'Dairy' },\r\n    { id: 3, name: 'Tomato Sauce', quantity: 8, unit: 'kg', minLevel: 10, status: 'Low Stock', category: 'Sauces' },\r\n    { id: 4, name: 'Sweet Corn', quantity: 5, unit: 'kg', minLevel: 2, status: 'In Stock', category: 'Vegetables' },\r\n    { id: 5, name: 'Paneer', quantity: 15, unit: 'kg', minLevel: 5, status: 'In Stock', category: 'Dairy' },\r\n    { id: 6, name: 'Disposable Plates', quantity: 200, unit: 'pcs', minLevel: 100, status: 'In Stock', category: 'Packaging' },\r\n];\r\n\r\nexport const getInventory = (): InventoryItem[] => {\r\n    if (typeof window === 'undefined') return INITIAL_INVENTORY;\r\n    const stored = localStorage.getItem(INVENTORY_KEY);\r\n    if (!stored) {\r\n        localStorage.setItem(INVENTORY_KEY, JSON.stringify(INITIAL_INVENTORY));\r\n        return INITIAL_INVENTORY;\r\n    }\r\n    return JSON.parse(stored);\r\n};\r\n\r\nexport const getStockLogs = (): StockLog[] => {\r\n    if (typeof window === 'undefined') return [];\r\n    const stored = localStorage.getItem(STOCK_LOGS_KEY);\r\n    return stored ? JSON.parse(stored) : [];\r\n};\r\n\r\nexport const getWastageLogs = (): WastageLog[] => {\r\n    if (typeof window === 'undefined') return [];\r\n    const stored = localStorage.getItem(WASTAGE_LOGS_KEY);\r\n    return stored ? JSON.parse(stored) : [];\r\n};\r\n\r\nexport const useInventory = () => {\r\n    const [inventory, setInventory] = useState<InventoryItem[]>([]);\r\n    const [stockLogs, setStockLogs] = useState<StockLog[]>([]);\r\n    const [wastageLogs, setWastageLogs] = useState<WastageLog[]>([]);\r\n\r\n    const refresh = () => {\r\n        setInventory(getInventory());\r\n        setStockLogs(getStockLogs());\r\n        setWastageLogs(getWastageLogs());\r\n    };\r\n\r\n    useEffect(() => {\r\n        refresh();\r\n        window.addEventListener('inventoryUpdated', refresh);\r\n        window.addEventListener('storage', refresh);\r\n        return () => {\r\n            window.removeEventListener('inventoryUpdated', refresh);\r\n            window.removeEventListener('storage', refresh);\r\n        };\r\n    }, []);\r\n\r\n    const logStockChange = (itemId: number, change: number, reason: string) => {\r\n        const logs = getStockLogs();\r\n        const newLog: StockLog = {\r\n            id: `log_${Date.now()}_${Math.random()}`,\r\n            itemId,\r\n            change,\r\n            reason,\r\n            timestamp: new Date().toISOString(),\r\n            userId: 'Admin' // In a real app, get from auth context\r\n        };\r\n        const updatedLogs = [newLog, ...logs];\r\n        localStorage.setItem(STOCK_LOGS_KEY, JSON.stringify(updatedLogs));\r\n        setStockLogs(updatedLogs);\r\n    };\r\n\r\n    const recordWastage = (itemId: number, quantity: number, reason: string) => {\r\n        // 1. Reduce Stock\r\n        const currentInv = getInventory();\r\n        const updatedInv = currentInv.map(item => {\r\n            if (item.id === itemId) {\r\n                const newQty = Math.max(0, item.quantity - quantity);\r\n                return {\r\n                    ...item,\r\n                    quantity: newQty,\r\n                    status: newQty <= 0 ? 'Out of Stock' : newQty <= item.minLevel ? 'Low Stock' : 'In Stock',\r\n                    lastUpdated: new Date().toISOString()\r\n                } as InventoryItem;\r\n            }\r\n            return item;\r\n        });\r\n        localStorage.setItem(INVENTORY_KEY, JSON.stringify(updatedInv));\r\n\r\n        // 2. Log Wastage\r\n        const logs = getWastageLogs();\r\n        const newLog: WastageLog = {\r\n            id: `waste_${Date.now()}_${Math.random()}`,\r\n            itemId,\r\n            quantity,\r\n            reason,\r\n            timestamp: new Date().toISOString(),\r\n            userId: 'Admin'\r\n        };\r\n        const updatedLogs = [newLog, ...logs];\r\n        localStorage.setItem(WASTAGE_LOGS_KEY, JSON.stringify(updatedLogs));\r\n\r\n        // 3. Log Stock Change (for consistency)\r\n        logStockChange(itemId, -quantity, `Wastage: ${reason}`);\r\n\r\n        window.dispatchEvent(new Event('inventoryUpdated'));\r\n    };\r\n\r\n    const addItem = (item: Omit<InventoryItem, 'id' | 'status'>) => {\r\n        const current = getInventory();\r\n        const newItem: InventoryItem = {\r\n            ...item,\r\n            id: Date.now(),\r\n            status: item.quantity <= 0 ? 'Out of Stock' : item.quantity <= item.minLevel ? 'Low Stock' : 'In Stock',\r\n            lastUpdated: new Date().toISOString()\r\n        };\r\n        const updated = [...current, newItem];\r\n        localStorage.setItem(INVENTORY_KEY, JSON.stringify(updated));\r\n        logStockChange(newItem.id, newItem.quantity, 'Initial Stock');\r\n        window.dispatchEvent(new Event('inventoryUpdated'));\r\n    };\r\n\r\n    const updateItem = (id: number, updates: Partial<InventoryItem>) => {\r\n        const current = getInventory();\r\n        let quantityChange = 0;\r\n\r\n        const updated = current.map(item => {\r\n            if (item.id === id) {\r\n                if (updates.quantity !== undefined) {\r\n                    quantityChange = updates.quantity - item.quantity;\r\n                }\r\n\r\n                const updatedItem = { ...item, ...updates, lastUpdated: new Date().toISOString() };\r\n                // Recalculate status\r\n                if (updates.quantity !== undefined || updates.minLevel !== undefined) {\r\n                    const q = updates.quantity !== undefined ? updates.quantity : item.quantity;\r\n                    const m = updates.minLevel !== undefined ? updates.minLevel : item.minLevel;\r\n                    updatedItem.status = q <= 0 ? 'Out of Stock' : q <= m ? 'Low Stock' : 'In Stock';\r\n                }\r\n                return updatedItem;\r\n            }\r\n            return item;\r\n        });\r\n\r\n        localStorage.setItem(INVENTORY_KEY, JSON.stringify(updated));\r\n        if (quantityChange !== 0) {\r\n            logStockChange(id, quantityChange, 'Manual Update');\r\n        }\r\n        window.dispatchEvent(new Event('inventoryUpdated'));\r\n    };\r\n\r\n    const deleteItem = (id: number) => {\r\n        const current = getInventory();\r\n        const updated = current.filter(item => item.id !== id);\r\n        localStorage.setItem(INVENTORY_KEY, JSON.stringify(updated));\r\n        window.dispatchEvent(new Event('inventoryUpdated'));\r\n    };\r\n\r\n    return { inventory, stockLogs, wastageLogs, addItem, updateItem, deleteItem, recordWastage };\r\n};\r\n\r\n// --- AUTO DEDUCT LOGIC ---\r\n\r\nexport const deductStockForOrder = (orderItems: any[]) => {\r\n    // Note: orderItems can be strings like \"Classic Margherita (1)\" \r\n    // OR objects like { name: \"Classic Margherita\", quantity: 1, price: 200 }\r\n    // We need to handle both formats\r\n\r\n    const menuItems = getMenuItems();\r\n    const inventory = getInventory();\r\n    let inventoryUpdated = false;\r\n\r\n    const updatedInventory = inventory.map(invItem => {\r\n        let newQuantity = invItem.quantity;\r\n\r\n        orderItems.forEach(orderItem => {\r\n            let itemName: string;\r\n            let qty: number;\r\n\r\n            // Check if orderItem is a string or an object\r\n            if (typeof orderItem === 'string') {\r\n                // Parse \"Name (Qty)\" format\r\n                const match = orderItem.match(/(.*) \\((\\d+)\\)/);\r\n                if (match) {\r\n                    itemName = match[1];\r\n                    qty = parseInt(match[2]);\r\n                } else {\r\n                    return; // Skip if can't parse\r\n                }\r\n            } else if (typeof orderItem === 'object' && orderItem !== null) {\r\n                // Object format { name, quantity, ... }\r\n                itemName = orderItem.name;\r\n                qty = orderItem.quantity || 1;\r\n            } else {\r\n                return; // Skip unknown format\r\n            }\r\n\r\n            const menuItem = menuItems.find(m => m.name === itemName);\r\n            if (menuItem && menuItem.recipe) {\r\n                const recipeItem = menuItem.recipe.find(r => r.inventoryItemId === invItem.id);\r\n                if (recipeItem) {\r\n                    newQuantity -= (recipeItem.quantity * qty);\r\n                    inventoryUpdated = true;\r\n                }\r\n            }\r\n        });\r\n\r\n        if (newQuantity !== invItem.quantity) {\r\n            return {\r\n                ...invItem,\r\n                quantity: Math.max(0, newQuantity),\r\n                status: newQuantity <= 0 ? 'Out of Stock' : newQuantity <= invItem.minLevel ? 'Low Stock' : 'In Stock',\r\n                lastUpdated: new Date().toISOString()\r\n            };\r\n        }\r\n        return invItem;\r\n    });\r\n\r\n    if (inventoryUpdated) {\r\n        localStorage.setItem(INVENTORY_KEY, JSON.stringify(updatedInventory));\r\n        window.dispatchEvent(new Event('inventoryUpdated'));\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport const getAnalyticsData = (range: '7d' | '30d' | 'month' | 'year') => {\r\n    const orders = getOrders();\r\n    const now = new Date();\r\n    let startDate = new Date();\r\n\r\n    // 1. Determine Date Range\r\n    switch (range) {\r\n        case '7d':\r\n            startDate.setDate(now.getDate() - 7);\r\n            break;\r\n        case '30d':\r\n            startDate.setDate(now.getDate() - 30);\r\n            break;\r\n        case 'month':\r\n            startDate = new Date(now.getFullYear(), now.getMonth(), 1);\r\n            break;\r\n        case 'year':\r\n            startDate = new Date(now.getFullYear(), 0, 1);\r\n            break;\r\n    }\r\n\r\n    // 2. Filter Orders\r\n    const filteredOrders = orders.filter(order => {\r\n        const orderDate = new Date(order.createdAt || 0);\r\n        return orderDate >= startDate && order.status !== 'Cancelled';\r\n    });\r\n\r\n    // 3. Calculate Summary\r\n    const totalRevenue = filteredOrders.reduce((sum, o) => sum + o.total, 0);\r\n    const totalOrders = filteredOrders.length;\r\n    const avgOrderValue = totalOrders > 0 ? Math.round(totalRevenue / totalOrders) : 0;\r\n\r\n    // 4. Revenue Trend (Group by Date)\r\n    const revenueTrendMap = new Map<string, number>();\r\n    // Initialize last N days with 0\r\n    for (let d = new Date(startDate); d <= now; d.setDate(d.getDate() + 1)) {\r\n        revenueTrendMap.set(d.toLocaleDateString(), 0);\r\n    }\r\n\r\n    filteredOrders.forEach(order => {\r\n        const dateStr = new Date(order.createdAt || 0).toLocaleDateString();\r\n        const current = revenueTrendMap.get(dateStr) || 0;\r\n        revenueTrendMap.set(dateStr, current + order.total);\r\n    });\r\n\r\n    const revenueTrend = Array.from(revenueTrendMap.entries()).map(([date, amount]) => ({\r\n        date: date.split('/')[0] + '/' + date.split('/')[1], // DD/MM format\r\n        amount\r\n    }));\r\n\r\n    // 5. Top Selling Items\r\n    const itemSales = new Map<string, { quantity: number, revenue: number }>();\r\n    filteredOrders.forEach(order => {\r\n        order.items.forEach(itemStr => {\r\n            const match = itemStr.match(/(.*) \\((\\d+)\\)/);\r\n            if (match) {\r\n                const name = match[1];\r\n                const qty = parseInt(match[2]);\r\n                const current = itemSales.get(name) || { quantity: 0, revenue: 0 };\r\n                // Estimate item price from total (not perfect but works for analytics demo)\r\n                // Ideally we should look up price from menuItems\r\n                itemSales.set(name, {\r\n                    quantity: current.quantity + qty,\r\n                    revenue: current.revenue // Revenue per item is hard to get without menu lookup, skipping for now\r\n                });\r\n            }\r\n        });\r\n    });\r\n\r\n    const topItems = Array.from(itemSales.entries())\r\n        .map(([name, stats]) => ({ name, sales: stats.quantity, pct: 0 }))\r\n        .sort((a, b) => b.sales - a.sales)\r\n        .slice(0, 5);\r\n\r\n    // Calculate percentages for top items\r\n    const maxSales = topItems.length > 0 ? topItems[0].sales : 1;\r\n    topItems.forEach(item => item.pct = Math.round((item.sales / maxSales) * 100));\r\n\r\n    // 6. Peak Hours\r\n    const hoursMap = new Array(24).fill(0);\r\n    filteredOrders.forEach(order => {\r\n        const hour = new Date(order.createdAt || 0).getHours();\r\n        hoursMap[hour]++;\r\n    });\r\n\r\n    const peakHours = hoursMap.map((count, hour) => ({ hour, count }));\r\n\r\n    return {\r\n        summary: { totalRevenue, totalOrders, avgOrderValue },\r\n        revenueTrend,\r\n        topItems,\r\n        peakHours\r\n    };\r\n};\r\n\r\n// --- SETTINGS SYSTEM ---\r\n\r\nexport interface RestaurantSettings {\r\n    name: string;\r\n    address: string;\r\n    phone: string;\r\n    email: string;\r\n    currency: string;\r\n    taxRate: number;\r\n    serviceCharge: number;\r\n    logo?: string;\r\n    socials?: { facebook?: string; instagram?: string; twitter?: string };\r\n    // New Fields\r\n    storeHours?: {\r\n        [key: string]: { open: string; close: string; closed: boolean };\r\n    };\r\n    receipt?: {\r\n        header: string;\r\n        footer: string;\r\n        showLogo: boolean;\r\n    };\r\n    digitalMenu?: {\r\n        bannerImage: string;\r\n        theme: 'light' | 'dark' | 'system';\r\n        isActive: boolean;\r\n    };\r\n}\r\n\r\nconst SETTINGS_KEY = 'oye_chatoro_settings';\r\n\r\nconst INITIAL_SETTINGS: RestaurantSettings = {\r\n    name: 'Oye Chatoro',\r\n    address: 'Abu Road, Rajasthan',\r\n    phone: '+91 98765 43210',\r\n    email: 'contact@oyechatoro.com',\r\n    currency: 'â‚¹',\r\n    taxRate: 5,\r\n    serviceCharge: 0,\r\n    storeHours: {\r\n        Monday: { open: '09:00', close: '22:00', closed: false },\r\n        Tuesday: { open: '09:00', close: '22:00', closed: false },\r\n        Wednesday: { open: '09:00', close: '22:00', closed: false },\r\n        Thursday: { open: '09:00', close: '22:00', closed: false },\r\n        Friday: { open: '09:00', close: '23:00', closed: false },\r\n        Saturday: { open: '10:00', close: '23:00', closed: false },\r\n        Sunday: { open: '10:00', close: '23:00', closed: false },\r\n    },\r\n    receipt: {\r\n        header: 'Thank you for dining with us!',\r\n        footer: 'Visit us again soon.',\r\n        showLogo: true\r\n    },\r\n    digitalMenu: {\r\n        bannerImage: 'https://images.unsplash.com/photo-1504674900247-0877df9cc836',\r\n        theme: 'light',\r\n        isActive: true\r\n    }\r\n};\r\n\r\nexport const getSettings = (): RestaurantSettings => {\r\n    if (typeof window === 'undefined') return INITIAL_SETTINGS;\r\n    const stored = localStorage.getItem(SETTINGS_KEY);\r\n    return stored ? { ...INITIAL_SETTINGS, ...JSON.parse(stored) } : INITIAL_SETTINGS;\r\n};\r\n\r\nexport const saveSettings = (settings: RestaurantSettings) => {\r\n    localStorage.setItem(SETTINGS_KEY, JSON.stringify(settings));\r\n    window.dispatchEvent(new Event('settingsUpdated'));\r\n};\r\n\r\nexport const useSettings = () => {\r\n    const [settings, setSettings] = useState<RestaurantSettings>(INITIAL_SETTINGS);\r\n\r\n    useEffect(() => {\r\n        setSettings(getSettings());\r\n        const handleUpdate = () => setSettings(getSettings());\r\n        window.addEventListener('settingsUpdated', handleUpdate);\r\n        window.addEventListener('storage', handleUpdate);\r\n        return () => {\r\n            window.removeEventListener('settingsUpdated', handleUpdate);\r\n            window.removeEventListener('storage', handleUpdate);\r\n        };\r\n    }, []);\r\n\r\n    return { settings, updateSettings: saveSettings };\r\n};\r\n\r\n// --- DATA MANAGEMENT ---\r\n\r\nexport const exportData = () => {\r\n    if (typeof window === 'undefined') return null;\r\n    const data = {\r\n        settings: localStorage.getItem(SETTINGS_KEY),\r\n        orders: localStorage.getItem(STORAGE_KEY),\r\n        menuItems: localStorage.getItem(MENU_ITEMS_KEY),\r\n        menuCats: localStorage.getItem(MENU_CATS_KEY),\r\n        inventory: localStorage.getItem(INVENTORY_KEY),\r\n        customers: localStorage.getItem(CUSTOMERS_KEY),\r\n        users: localStorage.getItem(USERS_KEY),\r\n        timestamp: new Date().toISOString(),\r\n        version: '1.0'\r\n    };\r\n    return JSON.stringify(data, null, 2);\r\n};\r\n\r\nexport const importData = (jsonString: string) => {\r\n    try {\r\n        const data = JSON.parse(jsonString);\r\n        if (data.settings) localStorage.setItem(SETTINGS_KEY, data.settings);\r\n        if (data.orders) localStorage.setItem(STORAGE_KEY, data.orders);\r\n        if (data.menuItems) localStorage.setItem(MENU_ITEMS_KEY, data.menuItems);\r\n        if (data.menuCats) localStorage.setItem(MENU_CATS_KEY, data.menuCats);\r\n        if (data.inventory) localStorage.setItem(INVENTORY_KEY, data.inventory);\r\n        if (data.customers) localStorage.setItem(CUSTOMERS_KEY, data.customers);\r\n        if (data.users) localStorage.setItem(USERS_KEY, data.users);\r\n\r\n        // Trigger updates\r\n        window.dispatchEvent(new Event('settingsUpdated'));\r\n        window.dispatchEvent(new Event('ordersUpdated'));\r\n        window.dispatchEvent(new Event('menuUpdated'));\r\n        window.dispatchEvent(new Event('inventoryUpdated'));\r\n        window.dispatchEvent(new Event('customersUpdated'));\r\n        window.dispatchEvent(new Event('authUpdated'));\r\n\r\n        return { success: true };\r\n    } catch (e) {\r\n        console.error('Import failed', e);\r\n        return { success: false, error: 'Invalid data file' };\r\n    }\r\n};\r\n\r\n\r\n// --- CUSTOMER CRM SYSTEM ---\r\n\r\nexport interface Customer {\r\n    id: string;\r\n    name: string;\r\n    phone: string;\r\n    email?: string;\r\n    totalOrders: number;\r\n    totalSpent: number;\r\n    loyaltyPoints: number;\r\n    lastVisit: string;\r\n    notes?: string;\r\n}\r\n\r\nconst CUSTOMERS_KEY = 'oye_chatoro_customers';\r\n\r\nconst INITIAL_CUSTOMERS: Customer[] = [\r\n    { id: 'cust_1', name: 'Rahul Sharma', phone: '9876543210', totalOrders: 12, totalSpent: 4500, loyaltyPoints: 45, lastVisit: new Date().toISOString() },\r\n    { id: 'cust_2', name: 'Priya Singh', phone: '9876543211', totalOrders: 5, totalSpent: 1200, loyaltyPoints: 12, lastVisit: new Date(Date.now() - 86400000).toISOString() }\r\n];\r\n\r\nexport const getCustomers = (): Customer[] => {\r\n    if (typeof window === 'undefined') return INITIAL_CUSTOMERS;\r\n    const stored = localStorage.getItem(CUSTOMERS_KEY);\r\n    if (!stored) {\r\n        localStorage.setItem(CUSTOMERS_KEY, JSON.stringify(INITIAL_CUSTOMERS));\r\n        return INITIAL_CUSTOMERS;\r\n    }\r\n    return JSON.parse(stored);\r\n};\r\n\r\nexport const saveCustomer = (customer: Customer) => {\r\n    const customers = getCustomers();\r\n    const index = customers.findIndex(c => c.id === customer.id);\r\n    let updated;\r\n    if (index >= 0) {\r\n        updated = customers.map(c => c.id === customer.id ? customer : c);\r\n    } else {\r\n        updated = [...customers, customer];\r\n    }\r\n    localStorage.setItem(CUSTOMERS_KEY, JSON.stringify(updated));\r\n    window.dispatchEvent(new Event('customersUpdated'));\r\n};\r\n\r\nexport const useCustomers = () => {\r\n    const [customers, setCustomers] = useState<Customer[]>([]);\r\n\r\n    useEffect(() => {\r\n        setCustomers(getCustomers());\r\n        const handleUpdate = () => setCustomers(getCustomers());\r\n        window.addEventListener('customersUpdated', handleUpdate);\r\n        window.addEventListener('storage', handleUpdate);\r\n        return () => {\r\n            window.removeEventListener('customersUpdated', handleUpdate);\r\n            window.removeEventListener('storage', handleUpdate);\r\n        };\r\n    }, []);\r\n\r\n    return { customers, saveCustomer };\r\n};\r\n\r\n// --- STAFF MANAGEMENT (Extends User System) ---\r\n\r\nexport const useUsers = () => {\r\n    const [users, setUsers] = useState<User[]>([]);\r\n\r\n    const refresh = () => setUsers(getUsers());\r\n\r\n    useEffect(() => {\r\n        refresh();\r\n        window.addEventListener('authUpdated', refresh);\r\n        window.addEventListener('storage', refresh);\r\n        return () => {\r\n            window.removeEventListener('authUpdated', refresh);\r\n            window.removeEventListener('storage', refresh);\r\n        };\r\n    }, []);\r\n\r\n    const addUser = (userData: Omit<User, 'id'>) => {\r\n        try {\r\n            registerUser(userData);\r\n            refresh();\r\n            return { success: true };\r\n        } catch (error: any) {\r\n            return { success: false, error: error.message };\r\n        }\r\n    };\r\n\r\n    const deleteUser = (id: string) => {\r\n        const currentUsers = getUsers();\r\n        const updated = currentUsers.filter(u => u.id !== id);\r\n        localStorage.setItem(USERS_KEY, JSON.stringify(updated));\r\n        window.dispatchEvent(new Event('authUpdated'));\r\n        refresh();\r\n    };\r\n\r\n    return { users, addUser, deleteUser };\r\n};\r\n\r\n// --- WAITER CALLING SYSTEM ---\r\n\r\nexport interface ServiceRequest {\r\n    id: number;\r\n    table: string;\r\n    type: 'Call' | 'Bill' | 'Water';\r\n    status: 'Pending' | 'Completed';\r\n    time: string;\r\n}\r\n\r\nconst SERVICE_REQUESTS_KEY = 'oyechatoro_service_requests';\r\n\r\nexport const getServiceRequests = (): ServiceRequest[] => {\r\n    if (typeof window === 'undefined') return [];\r\n    const stored = localStorage.getItem(SERVICE_REQUESTS_KEY);\r\n    return stored ? JSON.parse(stored) : [];\r\n};\r\n\r\nexport const addServiceRequest = (table: string, type: 'Call' | 'Bill' | 'Water') => {\r\n    const requests = getServiceRequests();\r\n    const newRequest: ServiceRequest = {\r\n        id: Date.now(),\r\n        table,\r\n        type,\r\n        status: 'Pending',\r\n        time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\r\n    };\r\n    localStorage.setItem(SERVICE_REQUESTS_KEY, JSON.stringify([...requests, newRequest]));\r\n    window.dispatchEvent(new Event('serviceRequestsUpdated'));\r\n    window.dispatchEvent(new Event('storage'));\r\n};\r\n\r\nexport const updateServiceRequestStatus = (id: number, status: 'Pending' | 'Completed') => {\r\n    const requests = getServiceRequests();\r\n    const updated = requests.map(r => r.id === id ? { ...r, status } : r);\r\n    localStorage.setItem(SERVICE_REQUESTS_KEY, JSON.stringify(updated));\r\n    window.dispatchEvent(new Event('serviceRequestsUpdated'));\r\n    window.dispatchEvent(new Event('storage'));\r\n};\r\n\r\nexport const useServiceRequests = () => {\r\n    const [requests, setRequests] = useState<ServiceRequest[]>([]);\r\n\r\n    const refresh = () => {\r\n        setRequests(getServiceRequests());\r\n    };\r\n\r\n    useEffect(() => {\r\n        refresh();\r\n        window.addEventListener('serviceRequestsUpdated', refresh);\r\n        window.addEventListener('storage', refresh);\r\n        return () => {\r\n            window.removeEventListener('serviceRequestsUpdated', refresh);\r\n            window.removeEventListener('storage', refresh);\r\n        };\r\n    }, []);\r\n\r\n    return {\r\n        requests,\r\n        addRequest: addServiceRequest,\r\n        updateStatus: updateServiceRequestStatus\r\n    };\r\n};\r\n\r\n// --- MENU ENGINEERING ---\r\n\r\nexport interface MenuEngineeringData {\r\n    stars: MenuItem[];\r\n    plowhorses: MenuItem[];\r\n    puzzles: MenuItem[];\r\n    dogs: MenuItem[];\r\n    items: {\r\n        id: string;\r\n        name: string;\r\n        sales: number;\r\n        revenue: number;\r\n        cost: number;\r\n        profit: number;\r\n        margin: number;\r\n        category: 'Star' | 'Plowhorse' | 'Puzzle' | 'Dog';\r\n    }[];\r\n}\r\n\r\nexport const getMenuEngineeringData = (): MenuEngineeringData => {\r\n    const items = getMenuItems();\r\n    const orders = getOrders();\r\n\r\n    // Calculate Sales and Profit for each item\r\n    const itemStats = items.map(item => {\r\n        const itemOrders = orders.flatMap(o => o.items).filter(i => i.includes(item.name)); // Simple name match for now\r\n        const salesCount = itemOrders.length;\r\n        const revenue = salesCount * item.price;\r\n        const cost = salesCount * (item.costPrice || 0);\r\n        const profit = revenue - cost;\r\n\r\n        return {\r\n            ...item,\r\n            sales: salesCount,\r\n            revenue,\r\n            cost,\r\n            profit,\r\n            margin: item.price - (item.costPrice || 0)\r\n        };\r\n    });\r\n\r\n    const avgSales = itemStats.reduce((sum, i) => sum + i.sales, 0) / (itemStats.length || 1);\r\n    const avgMargin = itemStats.reduce((sum, i) => sum + i.margin, 0) / (itemStats.length || 1);\r\n\r\n    const classifiedItems = itemStats.map(item => {\r\n        const isHighVolume = item.sales >= avgSales;\r\n        const isHighMargin = item.margin >= avgMargin;\r\n\r\n        let category: 'Star' | 'Plowhorse' | 'Puzzle' | 'Dog' = 'Dog';\r\n        if (isHighVolume && isHighMargin) category = 'Star';\r\n        else if (isHighVolume && !isHighMargin) category = 'Plowhorse';\r\n        else if (!isHighVolume && isHighMargin) category = 'Puzzle';\r\n\r\n        return {\r\n            id: item.id,\r\n            name: item.name,\r\n            sales: item.sales,\r\n            revenue: item.revenue,\r\n            cost: item.cost,\r\n            profit: item.profit,\r\n            margin: item.margin,\r\n            category\r\n        };\r\n    });\r\n\r\n    return {\r\n        stars: items.filter(i => classifiedItems.find(c => c.id === i.id)?.category === 'Star'),\r\n        plowhorses: items.filter(i => classifiedItems.find(c => c.id === i.id)?.category === 'Plowhorse'),\r\n        puzzles: items.filter(i => classifiedItems.find(c => c.id === i.id)?.category === 'Puzzle'),\r\n        dogs: items.filter(i => classifiedItems.find(c => c.id === i.id)?.category === 'Dog'),\r\n        items: classifiedItems\r\n    };\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2062, "column": 0}, "map": {"version":3,"sources":["file:///E:/oyechatorocomingsoon/app/blog/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useMemo } from 'react';\r\nimport Link from 'next/link';\r\nimport { useBlog } from '../lib/storage';\r\n\r\nexport default function BlogFeedPage() {\r\n    const { posts, categories } = useBlog();\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [selectedCategory, setSelectedCategory] = useState('All');\r\n\r\n    // Filter posts\r\n    const filteredPosts = useMemo(() => {\r\n        return posts.filter(post => {\r\n            const matchesSearch = post.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n                post.excerpt.toLowerCase().includes(searchQuery.toLowerCase());\r\n            const matchesCategory = selectedCategory === 'All' || post.category === selectedCategory;\r\n            // Only show published posts in public feed\r\n            const isPublished = post.status === 'Published';\r\n            return matchesSearch && matchesCategory && isPublished;\r\n        });\r\n    }, [posts, searchQuery, selectedCategory]);\r\n\r\n    const featuredPost = useMemo(() => {\r\n        return posts.find(p => p.featured && p.status === 'Published') || posts.find(p => p.status === 'Published');\r\n    }, [posts]);\r\n\r\n    const regularPosts = useMemo(() => {\r\n        return filteredPosts.filter(p => p.id !== featuredPost?.id);\r\n    }, [filteredPosts, featuredPost]);\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[var(--bg-body)] font-sans\">\r\n            {/* Header */}\r\n            <header className=\"header sticky top-0 z-50 bg-[var(--bg-surface-glass)] backdrop-blur-md border-b border-[var(--border-light)]\">\r\n                <div className=\"container mx-auto px-4 h-16 flex items-center justify-between\">\r\n                    <Link href=\"/\" className=\"flex items-center gap-2 text-2xl font-bold text-[var(--brand-primary)]\">\r\n                        <img src=\"/logo.svg\" alt=\"Logo\" className=\"h-8 w-8\" onError={(e) => e.currentTarget.style.display = 'none'} />\r\n                        <span>Oye Chatoro</span>\r\n                    </Link>\r\n                    <nav className=\"hidden md:flex gap-6\">\r\n                        <Link href=\"/\" className=\"text-[var(--text-main)] hover:text-[var(--brand-primary)] font-medium\">Home</Link>\r\n                        <Link href=\"/menu\" className=\"text-[var(--text-main)] hover:text-[var(--brand-primary)] font-medium\">Menu</Link>\r\n                        <Link href=\"/blog\" className=\"text-[var(--brand-primary)] font-bold\">Blog</Link>\r\n                    </nav>\r\n                    <Link href=\"/menu\" className=\"btn btn-primary\">Order Now</Link>\r\n                </div>\r\n            </header>\r\n\r\n            <main className=\"container mx-auto px-4 py-8\">\r\n                {/* Featured Post Hero */}\r\n                {featuredPost && !searchQuery && selectedCategory === 'All' && (\r\n                    <div className=\"mb-16 animate-in\">\r\n                        <div className=\"relative rounded-3xl overflow-hidden h-[500px] group\">\r\n                            <img\r\n                                src={featuredPost.image || 'https://via.placeholder.com/1200x600'}\r\n                                alt={featuredPost.title}\r\n                                className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105\"\r\n                            />\r\n                            <div className=\"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent flex items-end p-8 md:p-12\">\r\n                                <div className=\"max-w-3xl\">\r\n                                    <div className=\"flex gap-3 mb-4\">\r\n                                        <span className=\"px-3 py-1 bg-[var(--brand-primary)] text-white text-xs font-bold rounded-full uppercase tracking-wider\">\r\n                                            Featured\r\n                                        </span>\r\n                                        <span className=\"px-3 py-1 bg-white/20 backdrop-blur text-white text-xs font-bold rounded-full\">\r\n                                            {featuredPost.category}\r\n                                        </span>\r\n                                    </div>\r\n                                    <h1 className=\"text-4xl md:text-6xl font-bold text-white mb-4 leading-tight\">\r\n                                        {featuredPost.title}\r\n                                    </h1>\r\n                                    <p className=\"text-lg text-white/80 mb-6 line-clamp-2 max-w-2xl\">\r\n                                        {featuredPost.excerpt}\r\n                                    </p>\r\n                                    <Link\r\n                                        href={`/blog/view?id=${featuredPost.id}`}\r\n                                        className=\"inline-flex items-center gap-2 px-6 py-3 bg-white text-[var(--brand-dark)] rounded-full font-bold hover:bg-[var(--brand-primary)] hover:text-white transition-all transform hover:scale-105\"\r\n                                    >\r\n                                        Read Story <span>â†’</span>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Search and Filter */}\r\n                <div className=\"flex flex-col md:flex-row gap-6 items-center justify-between mb-12 animate-in\" style={{ animationDelay: '0.1s' }}>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                        <button\r\n                            onClick={() => setSelectedCategory('All')}\r\n                            className={`px-4 py-2 rounded-full text-sm font-bold transition-all ${selectedCategory === 'All'\r\n                                ? 'bg-[var(--brand-dark)] text-white shadow-lg'\r\n                                : 'bg-white text-[var(--text-muted)] hover:bg-gray-100'\r\n                                }`}\r\n                        >\r\n                            All Stories\r\n                        </button>\r\n                        {categories.map(cat => (\r\n                            <button\r\n                                key={cat.id}\r\n                                onClick={() => setSelectedCategory(cat.name)}\r\n                                className={`px-4 py-2 rounded-full text-sm font-bold transition-all ${selectedCategory === cat.name\r\n                                    ? 'bg-[var(--brand-primary)] text-white shadow-lg shadow-orange-500/30'\r\n                                    : 'bg-white text-[var(--text-muted)] hover:bg-orange-50'\r\n                                    }`}\r\n                            >\r\n                                {cat.name}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n\r\n                    <div className=\"relative w-full md:w-72\">\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search recipes & stories...\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                            className=\"w-full px-4 py-2 pl-10 rounded-full border border-[var(--border-light)] focus:ring-2 focus:ring-[var(--brand-primary)] outline-none text-sm\"\r\n                        />\r\n                        <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\">ðŸ”</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Posts Grid */}\r\n                {regularPosts.length > 0 ? (\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n                        {regularPosts.map((post, idx) => (\r\n                            <Link\r\n                                href={`/blog/view?id=${post.id}`}\r\n                                key={post.id}\r\n                                className=\"group bg-white rounded-2xl overflow-hidden hover:shadow-xl transition-all duration-300 animate-in flex flex-col border border-gray-100 hover:-translate-y-1\"\r\n                                style={{ animationDelay: `${idx * 0.05}s` }}\r\n                            >\r\n                                <div className=\"h-56 overflow-hidden relative\">\r\n                                    <img\r\n                                        src={post.image || 'https://via.placeholder.com/400x200'}\r\n                                        alt={post.title}\r\n                                        className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\r\n                                    />\r\n                                    <div className=\"absolute top-3 left-3 flex gap-2\">\r\n                                        <span className=\"bg-white/90 backdrop-blur px-2 py-1 rounded-md text-xs font-bold text-[var(--brand-dark)] shadow-sm\">\r\n                                            {post.category}\r\n                                        </span>\r\n                                        {post.isRecipe && (\r\n                                            <span className=\"bg-yellow-400 text-yellow-900 px-2 py-1 rounded-md text-xs font-bold shadow-sm flex items-center gap-1\">\r\n                                                ðŸ³ Recipe\r\n                                            </span>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"p-6 flex-1 flex flex-col\">\r\n                                    <div className=\"flex items-center gap-2 text-xs text-[var(--text-light)] mb-2\">\r\n                                        <span>{post.date}</span>\r\n                                        <span>â€¢</span>\r\n                                        <span>{post.readingTime || '3 min read'}</span>\r\n                                    </div>\r\n                                    <h2 className=\"text-xl font-bold text-[var(--brand-dark)] mb-3 line-clamp-2 group-hover:text-[var(--brand-primary)] transition-colors\">\r\n                                        {post.title}\r\n                                    </h2>\r\n                                    <p className=\"text-[var(--text-muted)] mb-4 line-clamp-2 text-sm flex-1\">\r\n                                        {post.excerpt}\r\n                                    </p>\r\n\r\n                                    <div className=\"flex items-center justify-between pt-4 border-t border-gray-50\">\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <div className=\"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-xs font-bold text-gray-600\">\r\n                                                {post.author.charAt(0)}\r\n                                            </div>\r\n                                            <span className=\"text-xs font-bold text-gray-500\">{post.author}</span>\r\n                                        </div>\r\n                                        <span className=\"text-[var(--brand-primary)] text-sm font-bold group-hover:translate-x-1 transition-transform\">\r\n                                            Read More â†’\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n                        ))}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"text-center py-20 animate-in\">\r\n                        <div className=\"text-6xl mb-4 opacity-50\">ðŸ³</div>\r\n                        <h3 className=\"text-xl font-bold text-[var(--text-main)]\">No stories found</h3>\r\n                        <p className=\"text-[var(--text-muted)]\">Try adjusting your search or category.</p>\r\n                        <button\r\n                            onClick={() => { setSearchQuery(''); setSelectedCategory('All'); }}\r\n                            className=\"mt-4 text-[var(--brand-primary)] font-bold hover:underline\"\r\n                        >\r\n                            View All Stories\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </main>\r\n\r\n            {/* Footer */}\r\n            <footer className=\"bg-white border-t border-[var(--border-light)] py-12 mt-12\">\r\n                <div className=\"container mx-auto px-4 text-center\">\r\n                    <p className=\"text-[var(--text-muted)]\">Â© 2024 Oye Chatoro. All rights reserved.</p>\r\n                </div>\r\n            </footer>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}