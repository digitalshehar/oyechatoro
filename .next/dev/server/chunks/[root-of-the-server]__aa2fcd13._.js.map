{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///E:/oyechatorocomingsoon/app/lib/db.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\r\nimport { PrismaNeon } from '@prisma/adapter-neon';\r\nimport { neonConfig } from '@neondatabase/serverless';\r\nimport ws from 'ws';\r\n\r\n// Configure WebSocket for Node.js environment\r\nneonConfig.webSocketConstructor = ws;\r\n\r\n// Connection string from environment\r\nconst connectionString = process.env.DATABASE_URL!;\r\n\r\n// Create adapter with connection string\r\nconst adapter = new PrismaNeon({ connectionString });\r\n\r\n// Prisma Client singleton for Next.js\r\nconst globalForPrisma = globalThis as unknown as {\r\n    prisma: PrismaClient | undefined;\r\n};\r\n\r\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient({ adapter });\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n    globalForPrisma.prisma = prisma;\r\n}\r\n\r\nexport default prisma;\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;;;;;AAEA,8CAA8C;AAC9C,sKAAU,CAAC,oBAAoB,GAAG,2JAAE;AAEpC,qCAAqC;AACrC,MAAM,mBAAmB,QAAQ,GAAG,CAAC,YAAY;AAEjD,wCAAwC;AACxC,MAAM,UAAU,IAAI,6KAAU,CAAC;IAAE;AAAiB;AAElD,sCAAsC;AACtC,MAAM,kBAAkB;AAIjB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,6IAAY,CAAC;IAAE;AAAQ;AAE3E,wCAA2C;IACvC,gBAAgB,MAAM,GAAG;AAC7B;uCAEe"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///E:/oyechatorocomingsoon/app/api/blog/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\r\nimport { prisma } from '@/app/lib/db';\r\n\r\n// GET all blog posts\r\nexport async function GET(request: NextRequest) {\r\n    try {\r\n        const { searchParams } = new URL(request.url);\r\n        const status = searchParams.get('status');\r\n        const category = searchParams.get('category');\r\n        const featured = searchParams.get('featured') === 'true';\r\n        const limit = parseInt(searchParams.get('limit') || '50');\r\n\r\n        const posts = await prisma.blogPost.findMany({\r\n            where: {\r\n                ...(status && { status: status as any }),\r\n                ...(category && { category }),\r\n                ...(featured && { featured: true }),\r\n            },\r\n            orderBy: { createdAt: 'desc' },\r\n            take: limit,\r\n        });\r\n\r\n        return NextResponse.json(posts);\r\n    } catch (error) {\r\n        console.error('Error fetching posts:', error);\r\n        return NextResponse.json({ error: 'Failed to fetch posts' }, { status: 500 });\r\n    }\r\n}\r\n\r\n// POST create blog post\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const body = await request.json();\r\n\r\n        const post = await prisma.blogPost.create({\r\n            data: {\r\n                title: body.title,\r\n                slug: body.slug || body.title.toLowerCase().replace(/\\s+/g, '-'),\r\n                excerpt: body.excerpt,\r\n                content: body.content,\r\n                image: body.image,\r\n                author: body.author || 'Admin',\r\n                category: body.category || 'News',\r\n                tags: body.tags || [],\r\n                seoTitle: body.seoTitle,\r\n                seoDescription: body.seoDescription,\r\n                readingTime: body.readingTime,\r\n                status: body.status || 'Draft',\r\n                isRecipe: body.isRecipe || false,\r\n                featured: body.featured || false,\r\n                recipeDetails: body.recipeDetails,\r\n            },\r\n        });\r\n\r\n        return NextResponse.json(post, { status: 201 });\r\n    } catch (error) {\r\n        console.error('Error creating post:', error);\r\n        return NextResponse.json({ error: 'Failed to create post' }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAGO,eAAe,IAAI,OAAoB;IAC1C,IAAI;QACA,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,SAAS,aAAa,GAAG,CAAC;QAChC,MAAM,WAAW,aAAa,GAAG,CAAC;QAClC,MAAM,WAAW,aAAa,GAAG,CAAC,gBAAgB;QAClD,MAAM,QAAQ,SAAS,aAAa,GAAG,CAAC,YAAY;QAEpD,MAAM,QAAQ,MAAM,4HAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;YACzC,OAAO;gBACH,GAAI,UAAU;oBAAE,QAAQ;gBAAc,CAAC;gBACvC,GAAI,YAAY;oBAAE;gBAAS,CAAC;gBAC5B,GAAI,YAAY;oBAAE,UAAU;gBAAK,CAAC;YACtC;YACA,SAAS;gBAAE,WAAW;YAAO;YAC7B,MAAM;QACV;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACJ;AAGO,eAAe,KAAK,OAAoB;IAC3C,IAAI;QACA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,MAAM,OAAO,MAAM,4HAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;YACtC,MAAM;gBACF,OAAO,KAAK,KAAK;gBACjB,MAAM,KAAK,IAAI,IAAI,KAAK,KAAK,CAAC,WAAW,GAAG,OAAO,CAAC,QAAQ;gBAC5D,SAAS,KAAK,OAAO;gBACrB,SAAS,KAAK,OAAO;gBACrB,OAAO,KAAK,KAAK;gBACjB,QAAQ,KAAK,MAAM,IAAI;gBACvB,UAAU,KAAK,QAAQ,IAAI;gBAC3B,MAAM,KAAK,IAAI,IAAI,EAAE;gBACrB,UAAU,KAAK,QAAQ;gBACvB,gBAAgB,KAAK,cAAc;gBACnC,aAAa,KAAK,WAAW;gBAC7B,QAAQ,KAAK,MAAM,IAAI;gBACvB,UAAU,KAAK,QAAQ,IAAI;gBAC3B,UAAU,KAAK,QAAQ,IAAI;gBAC3B,eAAe,KAAK,aAAa;YACrC;QACJ;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC,MAAM;YAAE,QAAQ;QAAI;IACjD,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACJ"}}]
}