(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,92911,e=>{"use strict";var t=e.i(43476),l=e.i(71645),s=e.i(28519);function a(){let{orders:e,updateStatus:a}=(0,s.useOrders)(),[r,d]=(0,l.useState)("live"),[n,i]=(0,l.useState)(""),[o,c]=(0,l.useState)(!0),x=(0,l.useRef)(e.length),m=()=>{try{let e=window.AudioContext||window.webkitAudioContext;if(!e)return;let t=new e,l=t.createOscillator(),s=t.createGain();l.connect(s),s.connect(t.destination),l.type="sine",l.frequency.setValueAtTime(880,t.currentTime),l.frequency.exponentialRampToValueAtTime(440,t.currentTime+.5),s.gain.setValueAtTime(.5,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.5),l.start(),l.stop(t.currentTime+.5)}catch(e){console.error("AudioContext failed",e)}};(0,l.useEffect)(()=>{e.length>x.current&&o&&m(),x.current=e.length},[e.length,o]);let u=e.reduce((e,t)=>"Cancelled"!==t.status?e+t.total:e,0),g=e.length,h=e.filter(e=>"Pending"===e.status).length,p=e.filter(e=>"Cooking"===e.status).length,b=e.filter(e=>{let t="live"===r?["Pending","Cooking","Ready"].includes(e.status):"completed"===r?"Completed"===e.status:"cancelled"!==r||"Cancelled"===e.status,l=n.toLowerCase(),s=e.id.toString().includes(l)||e.customer.toLowerCase().includes(l)||e.items.some(e=>e.toLowerCase().includes(l));return t&&s}).sort((e,t)=>t.id-e.id);return(0,t.jsxs)("div",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8 animate-in",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-[var(--brand-dark)]",children:"Order Management"}),(0,t.jsxs)("div",{className:"flex gap-3 w-full md:w-auto",children:[(0,t.jsxs)("div",{className:"relative flex-1 md:w-64",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"ðŸ”"}),(0,t.jsx)("input",{placeholder:"Search ID, Name, Item...",className:"w-full pl-10 pr-4 py-2 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[var(--brand-primary)]",value:n,onChange:e=>i(e.target.value)})]}),(0,t.jsx)("button",{onClick:()=>{m()},className:"p-2 rounded-xl border border-gray-200 bg-gray-50 text-gray-500 hover:bg-gray-100 text-xs",title:"Test Sound",children:"ðŸ”Š Test"}),(0,t.jsx)("button",{onClick:()=>c(!o),className:`p-2 rounded-xl border transition-colors ${o?"bg-white text-[var(--brand-primary)] border-[var(--brand-primary)]":"bg-gray-100 text-gray-400 border-gray-200"}`,title:o?"Sound On":"Sound Off",children:o?"ðŸ””":"ðŸ”•"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"glass-card p-4 rounded-xl flex items-center gap-4 bg-white/60",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center text-2xl",children:"ðŸ’°"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-[var(--text-muted)]",children:"Total Revenue"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-[var(--brand-dark)]",children:["â‚¹",u]})]})]}),(0,t.jsxs)("div",{className:"glass-card p-4 rounded-xl flex items-center gap-4 bg-white/60",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-2xl",children:"ðŸ“¦"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-[var(--text-muted)]",children:"Total Orders"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-[var(--brand-dark)]",children:g})]})]}),(0,t.jsxs)("div",{className:"glass-card p-4 rounded-xl flex items-center gap-4 bg-white/60",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center text-2xl",children:"â³"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-[var(--text-muted)]",children:"Pending"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:h})]})]}),(0,t.jsxs)("div",{className:"glass-card p-4 rounded-xl flex items-center gap-4 bg-white/60",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center text-2xl",children:"ðŸ”¥"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-[var(--text-muted)]",children:"Cooking"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:p})]})]})]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-6 animate-in",style:{animationDelay:"0.1s"},children:[{id:"live",label:"ðŸ”´ Live Orders",count:e.filter(e=>["Pending","Cooking","Ready"].includes(e.status)).length},{id:"completed",label:"âœ… Completed",count:e.filter(e=>"Completed"===e.status).length},{id:"cancelled",label:"âŒ Cancelled",count:e.filter(e=>"Cancelled"===e.status).length},{id:"all",label:"ðŸ“‚ All Orders",count:e.length}].map(e=>(0,t.jsxs)("button",{onClick:()=>d(e.id),className:`px-6 py-3 rounded-xl font-medium transition-all flex items-center gap-2 ${r===e.id?"bg-[var(--brand-dark)] text-white shadow-lg scale-105":"bg-white text-[var(--text-muted)] hover:bg-gray-50"}`,children:[e.label,(0,t.jsx)("span",{className:`text-xs px-2 py-0.5 rounded-full ${r===e.id?"bg-white/20":"bg-gray-100"}`,children:e.count})]},e.id))}),(0,t.jsx)("div",{className:"grid gap-4 animate-in",style:{animationDelay:"0.2s"},children:0===b.length?(0,t.jsxs)("div",{className:"text-center py-12 text-[var(--text-muted)]",children:[(0,t.jsx)("div",{className:"text-6xl mb-4 opacity-30",children:"ðŸ“­"}),(0,t.jsx)("p",{children:"No orders found matching your search."})]}):b.map(e=>(0,t.jsxs)("div",{className:`glass-card p-6 rounded-2xl flex flex-col md:flex-row items-start md:items-center justify-between gap-4 transition-all border-l-4 ${"Pending"===e.status?"border-l-yellow-400 bg-yellow-50/30":"Cooking"===e.status?"border-l-blue-400 bg-blue-50/30":"Ready"===e.status?"border-l-green-400 bg-green-50/30":"Cancelled"===e.status?"border-l-red-400 bg-red-50/30":"border-l-gray-400"}`,children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsxs)("span",{className:"font-bold text-lg text-[var(--brand-dark)]",children:["#",e.id]}),(0,t.jsx)("span",{className:"text-sm text-[var(--text-muted)] bg-white px-2 py-1 rounded border",children:e.time}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${"Pending"===e.status?"bg-yellow-100 text-yellow-700":"Cooking"===e.status?"bg-blue-100 text-blue-700":"Ready"===e.status?"bg-green-100 text-green-700":"Completed"===e.status?"bg-gray-100 text-gray-700":"bg-red-100 text-red-700"}`,children:e.status})]}),(0,t.jsx)("h3",{className:"font-bold text-[var(--text-main)] mb-1 text-lg",children:e.customer}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.items.map((e,l)=>(0,t.jsx)("span",{className:"text-sm bg-white px-3 py-1 rounded-full border border-gray-100 text-gray-600",children:e},l))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6 w-full md:w-auto justify-between md:justify-end border-t md:border-t-0 pt-4 md:pt-0 mt-2 md:mt-0",children:[(0,t.jsxs)("div",{className:"text-right min-w-[100px]",children:[(0,t.jsx)("div",{className:"text-xs text-[var(--text-muted)]",children:"Total Amount"}),(0,t.jsxs)("div",{className:"font-bold text-2xl text-[var(--brand-primary)]",children:["â‚¹",e.total]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{let t,l;return t=`
            <html>
            <head>
                <title>Bill #${e.id}</title>
                <style>
                    body { font-family: monospace; padding: 20px; max-width: 300px; margin: 0 auto; }
                    .header { text-align: center; margin-bottom: 20px; border-bottom: 1px dashed #000; padding-bottom: 10px; }
                    .item { display: flex; justify-content: space-between; margin-bottom: 5px; }
                    .total { border-top: 1px dashed #000; margin-top: 10px; padding-top: 10px; display: flex; justify-content: space-between; font-weight: bold; }
                    .footer { text-align: center; margin-top: 20px; font-size: 12px; }
                </style>
            </head>
            <body>
                <div class="header">
                    <h2>Oye Chatoro</h2>
                    <p>Abu Road, Rajasthan</p>
                    <p>Order #${e.id}</p>
                    <p>${new Date().toLocaleString()}</p>
                </div>
                <div class="items">
                    ${e.items.map(e=>`
                        <div class="item">
                            <span>${e}</span>
                        </div>
                    `).join("")}
                </div>
                <div class="total">
                    <span>TOTAL</span>
                    <span>â‚¹${e.total}</span>
                </div>
                <div class="footer">
                    <p>Thank you for dining with us!</p>
                    <p>Visit again soon.</p>
                </div>
                <script>window.print();</script>
            </body>
            </html>
        `,void((l=window.open("","","width=400,height=600"))&&(l.document.write(t),l.document.close()))},className:"p-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-medium transition-colors",title:"Print Bill",children:"ðŸ–¨ï¸"}),"Pending"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>a(e.id,"Cooking"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg shadow-blue-200 transition-all hover:-translate-y-0.5",children:"Accept & Cook"}),(0,t.jsx)("button",{onClick:()=>a(e.id,"Cancelled"),className:"px-4 py-3 bg-red-100 hover:bg-red-200 text-red-600 rounded-xl font-bold transition-colors",children:"Reject"})]}),"Cooking"===e.status&&(0,t.jsx)("button",{onClick:()=>a(e.id,"Ready"),className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-xl font-bold shadow-lg shadow-orange-200 transition-all hover:-translate-y-0.5",children:"Mark Ready"}),"Ready"===e.status&&(0,t.jsx)("button",{onClick:()=>a(e.id,"Completed"),className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold shadow-lg shadow-green-200 transition-all hover:-translate-y-0.5",children:"Complete Order"})]})]})]},e.id))})]})}e.s(["default",()=>a])}]);